<pre style="background:#0c1021;color:#f8f8f8"><span style="color:#fbde2d">import</span> <span style="color:#fbde2d">java.util.*</span>;

<span style="color:#fbde2d">public</span> <span style="color:#fbde2d">class</span> <span style="color:#ff6400">Main</span> {

    <span style="color:#fbde2d">private</span> <span style="color:#fbde2d">static</span> <span style="color:#fbde2d">int</span> length;
    <span style="color:#fbde2d">private</span> <span style="color:#fbde2d">static</span> <span style="color:#fbde2d">int</span>[] primes;
    <span style="color:#fbde2d">private</span> <span style="color:#fbde2d">static</span> <span style="color:#fbde2d">int</span>[][] results;

    <span style="color:#fbde2d">public</span> <span style="color:#fbde2d">static</span> <span style="color:#fbde2d">void</span> <span style="color:#ff6400">main</span>(<span style="color:#fbde2d">String</span>[] args) {
        findPrimesTo(<span style="color:#d8fa3c">10000</span>);
        results <span style="color:#fbde2d">=</span> <span style="color:#fbde2d">new</span> <span style="color:#fbde2d">int</span>[<span style="color:#d8fa3c">10001</span>][length<span style="color:#fbde2d">+</span><span style="color:#d8fa3c">1</span>];
        <span style="color:#fbde2d">Scanner</span> scanner <span style="color:#fbde2d">=</span> <span style="color:#fbde2d">new</span> <span style="color:#fbde2d">Scanner</span>(<span style="color:#fbde2d">System</span><span style="color:#fbde2d">.</span>in);
        <span style="color:#fbde2d">int</span> testCase <span style="color:#fbde2d">=</span> scanner<span style="color:#fbde2d">.</span>nextInt();
        <span style="color:#fbde2d">while</span>(testCase<span style="color:#fbde2d">--</span> <span style="color:#fbde2d">></span> <span style="color:#d8fa3c">0</span>) {
            <span style="color:#fbde2d">System</span><span style="color:#fbde2d">.</span>out<span style="color:#fbde2d">.</span>println(makeNum(scanner<span style="color:#fbde2d">.</span>nextInt(), length));
        }
    }

    <span style="color:#fbde2d">private</span> <span style="color:#fbde2d">static</span> <span style="color:#fbde2d">void</span> <span style="color:#ff6400">findPrimesTo</span>(<span style="color:#fbde2d">int</span> size) {
        <span style="color:#fbde2d">boolean</span>[] isPrime <span style="color:#fbde2d">=</span> <span style="color:#fbde2d">new</span> <span style="color:#fbde2d">boolean</span>[size<span style="color:#fbde2d">+</span><span style="color:#d8fa3c">1</span>];
        <span style="color:#fbde2d">for</span> (<span style="color:#fbde2d">int</span> i <span style="color:#fbde2d">=</span> <span style="color:#d8fa3c">2</span>; i <span style="color:#fbde2d">&lt;=</span> size; i<span style="color:#fbde2d">++</span>) {
            isPrime[i] <span style="color:#fbde2d">=</span> <span style="color:#d8fa3c">true</span>;
        }
        <span style="color:#fbde2d">for</span> (<span style="color:#fbde2d">int</span> i <span style="color:#fbde2d">=</span> <span style="color:#d8fa3c">3</span>; i<span style="color:#fbde2d">*</span>i <span style="color:#fbde2d">&lt;=</span> size; i <span style="color:#fbde2d">+=</span> <span style="color:#d8fa3c">2</span>) {
            <span style="color:#fbde2d">try</span> {
                <span style="color:#fbde2d">if</span> (isPrime[i]) {
                    <span style="color:#fbde2d">for</span> (<span style="color:#fbde2d">int</span> j <span style="color:#fbde2d">=</span> i; i<span style="color:#fbde2d">*</span>j <span style="color:#fbde2d">&lt;=</span> size; j <span style="color:#fbde2d">+=</span> <span style="color:#d8fa3c">2</span>) {
                        isPrime[i<span style="color:#fbde2d">*</span>j] <span style="color:#fbde2d">=</span> <span style="color:#d8fa3c">false</span>;
                    }
                }
            } <span style="color:#fbde2d">catch</span>(<span style="color:#fbde2d">Exception</span> e) {}
        }
        primes <span style="color:#fbde2d">=</span> <span style="color:#fbde2d">new</span> <span style="color:#fbde2d">int</span>[size <span style="color:#fbde2d">+</span> <span style="color:#d8fa3c">1</span>];
        <span style="color:#fbde2d">int</span> cur <span style="color:#fbde2d">=</span> <span style="color:#d8fa3c">0</span>;
        primes[cur<span style="color:#fbde2d">++</span>] <span style="color:#fbde2d">=</span> <span style="color:#d8fa3c">2</span>;
        <span style="color:#fbde2d">for</span> (<span style="color:#fbde2d">int</span> i <span style="color:#fbde2d">=</span> <span style="color:#d8fa3c">3</span>; i <span style="color:#fbde2d">&lt;=</span> size; i <span style="color:#fbde2d">+=</span> <span style="color:#d8fa3c">2</span>) {
            <span style="color:#fbde2d">if</span>(isPrime[i]) {
                primes[cur<span style="color:#fbde2d">++</span>] <span style="color:#fbde2d">=</span> i;
            }
        }
        length <span style="color:#fbde2d">=</span> cur;
    }

    <span style="color:#fbde2d">private</span> <span style="color:#fbde2d">static</span> <span style="color:#fbde2d">int</span> <span style="color:#ff6400">makeNum</span>(<span style="color:#fbde2d">int</span> num, <span style="color:#fbde2d">int</span> beforeIdx/*, <span style="color:#fbde2d">int</span> count*/) {
        <span style="color:#fbde2d">if</span>(num <span style="color:#fbde2d">==</span> <span style="color:#d8fa3c">0</span>) {
            results[num][beforeIdx] <span style="color:#fbde2d">=</span> <span style="color:#d8fa3c">2</span>;
            <span style="color:#fbde2d">return</span> <span style="color:#d8fa3c">1</span>;
        }
        <span style="color:#fbde2d">if</span>(num <span style="color:#fbde2d">&lt;=</span> <span style="color:#d8fa3c">1</span>) {
            <span style="color:#fbde2d">return</span> <span style="color:#d8fa3c">0</span>;
        }
        <span style="color:#fbde2d">int</span> result <span style="color:#fbde2d">=</span> <span style="color:#d8fa3c">0</span>;
        <span style="color:#fbde2d">int</span> currentIdx <span style="color:#fbde2d">=</span> beforeIdx <span style="color:#fbde2d">-</span> <span style="color:#d8fa3c">1</span>;
        <span style="color:#fbde2d">try</span> {
            <span style="color:#fbde2d">while</span>(primes[currentIdx] <span style="color:#fbde2d">></span> num) {
                currentIdx <span style="color:#fbde2d">-=</span> <span style="color:#d8fa3c">1</span>;
            }
        } <span style="color:#fbde2d">catch</span>(<span style="color:#fbde2d">Exception</span> e) {}
        <span style="color:#fbde2d">for</span>(<span style="color:#fbde2d">int</span> i <span style="color:#fbde2d">=</span> currentIdx; i <span style="color:#fbde2d">>=</span> <span style="color:#d8fa3c">0</span>; <span style="color:#fbde2d">--</span>i) {
            <span style="color:#fbde2d">if</span>(results[num<span style="color:#fbde2d">-</span>primes[i]][i] <span style="color:#fbde2d">></span> <span style="color:#d8fa3c">0</span>) {
                result <span style="color:#fbde2d">=</span> (result <span style="color:#fbde2d">+</span> results[num<span style="color:#fbde2d">-</span>primes[i]][i] <span style="color:#fbde2d">-</span> <span style="color:#d8fa3c">1</span>) <span style="color:#fbde2d">%</span> <span style="color:#d8fa3c">123456789</span>;
            } <span style="color:#fbde2d">else</span> {
                result <span style="color:#fbde2d">=</span> (result <span style="color:#fbde2d">+</span> makeNum(num <span style="color:#fbde2d">-</span> primes[i], i<span style="color:#aeaeae">/*, count - 1*/</span>)) <span style="color:#fbde2d">%</span> <span style="color:#d8fa3c">123456789</span>;
            }
        }
        results[num][beforeIdx] <span style="color:#fbde2d">=</span> result <span style="color:#fbde2d">+</span> <span style="color:#d8fa3c">1</span>;
        <span style="color:#fbde2d">return</span> result;
    }

}
</pre>