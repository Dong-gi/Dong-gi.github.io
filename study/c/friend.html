<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(255, 255, 255);"><span class="hljs-comment" style="color: grey; font-style: italic;">/* Main.h */</span>
<span class="hljs-meta" style="color: olive;">#<span class="hljs-meta-keyword">pragma</span> once</span>
<span class="hljs-meta" style="color: olive;">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta" style="color: olive;">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span>
<span class="hljs-meta" style="color: olive;">#<span class="hljs-meta-keyword">include</span> <span class="hljs-string" style="font-weight: 700; color: green;">"Sub.h"</span></span>

<span class="hljs-keyword" style="font-weight: 700; color: navy;">using</span> <span class="hljs-keyword" style="font-weight: 700; color: navy;">namespace</span> <span class="hljs-built_in">std</span>;

<span class="hljs-keyword" style="font-weight: 700; color: navy;">class</span> Sub; <span class="hljs-comment" style="color: grey; font-style: italic;">// 클래스 포워드 선언</span>

<span class="hljs-keyword" style="font-weight: 700; color: navy;">class</span> Main {
<span class="hljs-keyword" style="font-weight: 700; color: navy;">private</span>:
	<span class="hljs-built_in">string</span> name = <span class="hljs-string" style="font-weight: 700; color: green;">"Main"</span>;

<span class="hljs-keyword" style="font-weight: 700; color: navy;">public</span>:
	<span class="hljs-keyword" style="font-weight: 700; color: navy;">friend</span> <span class="hljs-keyword" style="font-weight: 700; color: navy;">class</span> Sub;
	<span class="hljs-keyword" style="font-weight: 700; color: navy;">friend</span> <span class="hljs-keyword" style="font-weight: 700; color: navy;">const</span> Main <span class="hljs-keyword" style="font-weight: 700; color: navy;">operator</span>+(<span class="hljs-keyword" style="font-weight: 700; color: navy;">const</span> Main&amp; left, <span class="hljs-keyword" style="font-weight: 700; color: navy;">const</span> Main&amp; right);
	Main(<span class="hljs-built_in">string</span> name) : name(name) {}
	<span class="hljs-comment" style="color: grey; font-style: italic;">// 아래는 좌변이 Main 인스턴스일 때만 동작한다.</span>
	<span class="hljs-keyword" style="font-weight: 700; color: navy;">const</span> Main <span class="hljs-keyword" style="font-weight: 700; color: navy;">operator</span>+(<span class="hljs-keyword" style="font-weight: 700; color: navy;">const</span> Main&amp; m) <span class="hljs-keyword" style="font-weight: 700; color: navy;">const</span> {
		<span class="hljs-keyword" style="font-weight: 700; color: navy;">return</span> Main(name + m.name);
	}
	Main&amp; <span class="hljs-keyword" style="font-weight: 700; color: navy;">operator</span>+=(<span class="hljs-keyword" style="font-weight: 700; color: navy;">const</span> Main&amp; m) {
		name += m.name;
		<span class="hljs-keyword" style="font-weight: 700; color: navy;">return</span> *<span class="hljs-keyword" style="font-weight: 700; color: navy;">this</span>;
	}
	<span class="hljs-comment" style="color: grey; font-style: italic;">/*inline*/</span> <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title" style="font-weight: 400; color: rgb(0, 0, 0);">getName</span><span class="hljs-params">()</span> <span class="hljs-keyword" style="font-weight: 700; color: navy;">const</span> </span>{ <span class="hljs-keyword" style="font-weight: 700; color: navy;">return</span> name; }
};

<span class="hljs-comment" style="color: grey; font-style: italic;">/* Sub.h */</span>
<span class="hljs-meta" style="color: olive;">#<span class="hljs-meta-keyword">pragma</span> once</span>
<span class="hljs-meta" style="color: olive;">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta" style="color: olive;">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span>
<span class="hljs-meta" style="color: olive;">#<span class="hljs-meta-keyword">include</span> <span class="hljs-string" style="font-weight: 700; color: green;">"Main.h"</span></span>

<span class="hljs-keyword" style="font-weight: 700; color: navy;">using</span> <span class="hljs-keyword" style="font-weight: 700; color: navy;">namespace</span> <span class="hljs-built_in">std</span>;

<span class="hljs-keyword" style="font-weight: 700; color: navy;">class</span> Main;

<span class="hljs-keyword" style="font-weight: 700; color: navy;">class</span> Sub
{
<span class="hljs-keyword" style="font-weight: 700; color: navy;">public</span>:
	<span class="hljs-function"><span class="hljs-keyword" style="font-weight: 700; color: navy;">void</span> <span class="hljs-title" style="font-weight: 400; color: rgb(0, 0, 0);">func</span><span class="hljs-params">(<span class="hljs-keyword" style="font-weight: 700; color: navy;">const</span> Main&amp; m)</span> </span>{
		<span class="hljs-built_in">cout</span> &lt;&lt; m.name &lt;&lt; <span class="hljs-built_in">endl</span>;
	}
};

<span class="hljs-comment" style="color: grey; font-style: italic;">/* Main.cpp */</span>
<span class="hljs-meta" style="color: olive;">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta" style="color: olive;">#<span class="hljs-meta-keyword">include</span> <span class="hljs-string" style="font-weight: 700; color: green;">"Main.h"</span></span>

<span class="hljs-keyword" style="font-weight: 700; color: navy;">using</span> <span class="hljs-keyword" style="font-weight: 700; color: navy;">namespace</span> <span class="hljs-built_in">std</span>;

<span class="hljs-comment" style="color: grey; font-style: italic;">// 좌변이 굳이 Main 인스턴스가 아니라도 Main 생성자와 호환된다면 동작한다.</span>
<span class="hljs-keyword" style="font-weight: 700; color: navy;">const</span> Main <span class="hljs-keyword" style="font-weight: 700; color: navy;">operator</span>+(<span class="hljs-keyword" style="font-weight: 700; color: navy;">const</span> Main&amp; left, <span class="hljs-keyword" style="font-weight: 700; color: navy;">const</span> Main&amp; right) {
	<span class="hljs-keyword" style="font-weight: 700; color: navy;">return</span> Main(left.name + right.name);
}

<span class="hljs-function"><span class="hljs-keyword" style="font-weight: 700; color: navy;">int</span> <span class="hljs-title" style="font-weight: 400; color: rgb(0, 0, 0);">main</span><span class="hljs-params">(<span class="hljs-keyword" style="font-weight: 700; color: navy;">int</span> argc, <span class="hljs-keyword" style="font-weight: 700; color: navy;">char</span> *argv[])</span>
</span>{
	<span class="hljs-keyword" style="font-weight: 700; color: navy;">int</span> pls_dont_end;
	<span class="hljs-built_in">cin</span> &gt;&gt; pls_dont_end;
	<span class="hljs-keyword" style="font-weight: 700; color: navy;">return</span> <span class="hljs-number" style="color: rgb(0, 0, 255); font-weight: 400;">0</span>;
}</pre>