<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(255, 255, 255);"><span class="hljs-keyword" style="font-weight: 700; color: navy;">import</span> java.lang.annotation.*;
<span class="hljs-keyword" style="font-weight: 700; color: navy;">import</span> java.lang.reflect.Method;

<span class="hljs-meta" style="color: olive;">@Retention</span>(RetentionPolicy.RUNTIME)
<span class="hljs-meta" style="color: olive;">@Inherited</span>
<span class="hljs-comment" style="color: grey; font-style: italic;">/*public*/</span> <span class="hljs-meta" style="color: olive;">@interface</span> Anno {
	<span class="hljs-function">String <span class="hljs-title" style="font-weight: 400; color: rgb(0, 0, 0);">name</span><span class="hljs-params">()</span> <span class="hljs-keyword" style="font-weight: 700; color: navy;">default</span> "Anno"</span>;
}

<span class="hljs-meta" style="color: olive;">@Retention</span>(RetentionPolicy.RUNTIME)
<span class="hljs-meta" style="color: olive;">@Target</span>({ElementType.METHOD})
<span class="hljs-meta" style="color: olive;">@interface</span> Marker {}

<span class="hljs-meta" style="color: olive;">@Anno</span>(name = <span class="hljs-string" style="font-weight: 700; color: green;">"Test Class"</span>)
<span class="hljs-keyword" style="font-weight: 700; color: navy;">public</span> <span class="hljs-class"><span class="hljs-keyword" style="font-weight: 700; color: navy;">class</span> <span class="hljs-title" style="font-weight: 400; color: rgb(0, 0, 0);">Test</span> </span>{

	<span class="hljs-meta" style="color: olive;">@Retention</span>(RetentionPolicy.RUNTIME)
	<span class="hljs-keyword" style="font-weight: 700; color: navy;">private</span> <span class="hljs-meta" style="color: olive;">@interface</span> Single {
		<span class="hljs-function">String <span class="hljs-title" style="font-weight: 400; color: rgb(0, 0, 0);">value</span><span class="hljs-params">()</span></span>;
	}

	<span class="hljs-meta" style="color: olive;">@Anno</span>(name = <span class="hljs-string" style="font-weight: 700; color: green;">"num static field"</span>)
	<span class="hljs-meta" style="color: olive;">@Single</span>(<span class="hljs-string" style="font-weight: 700; color: green;">"num static field"</span>) <span class="hljs-comment" style="color: grey; font-style: italic;">// value 생략 가능</span>
	<span class="hljs-keyword" style="font-weight: 700; color: navy;">public</span> <span class="hljs-keyword" style="font-weight: 700; color: navy;">static</span> <span class="hljs-keyword" style="font-weight: 700; color: navy;">int</span> num;
	
	<span class="hljs-keyword" style="font-weight: 700; color: navy;">private</span> <span class="hljs-class"><span class="hljs-keyword" style="font-weight: 700; color: navy;">class</span> <span class="hljs-title" style="font-weight: 400; color: rgb(0, 0, 0);">Sub</span> <span class="hljs-keyword" style="font-weight: 700; color: navy;">extends</span> <span class="hljs-title" style="font-weight: 400; color: rgb(0, 0, 0);">Test</span> </span>{}
	
	<span class="hljs-meta" style="color: olive;">@Anno</span>(name = <span class="hljs-string" style="font-weight: 700; color: green;">"main Method"</span>)
	<span class="hljs-meta" style="color: olive;">@Marker</span>
	<span class="hljs-function"><span class="hljs-keyword" style="font-weight: 700; color: navy;">public</span> <span class="hljs-keyword" style="font-weight: 700; color: navy;">static</span> <span class="hljs-keyword" style="font-weight: 700; color: navy;">void</span> <span class="hljs-title" style="font-weight: 400; color: rgb(0, 0, 0);">main</span><span class="hljs-params">(String[] args)</span> </span>{
		<span class="hljs-keyword" style="font-weight: 700; color: navy;">try</span> {
			Method m = Test.class.getMethod(<span class="hljs-string" style="font-weight: 700; color: green;">"main"</span>, String[].class);
			Anno anno = m.getAnnotation(Anno.class);
			System.out.println(anno);
			System.out.println(anno.name());
			System.out.println(m.isAnnotationPresent(Marker.class));
			
			<span class="hljs-keyword" style="font-weight: 700; color: navy;">for</span>(Annotation a : Test.class.getField(<span class="hljs-string" style="font-weight: 700; color: green;">"num"</span>).getAnnotations()) {
				System.out.println(a);
			}
			
			System.out.println(<span class="hljs-string" style="font-weight: 700; color: green;">"\nInherited Annotation"</span>);
			<span class="hljs-keyword" style="font-weight: 700; color: navy;">for</span>(Annotation a : Sub.class.getAnnotations()) {
				System.out.println(a);
			}
		} <span class="hljs-keyword" style="font-weight: 700; color: navy;">catch</span> (Exception e) {
			e.printStackTrace();
		}
	}

}
</pre>