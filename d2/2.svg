<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin meet" viewBox="0 0 1479 1824"><svg id="d2-svg" width="1479" height="1824" class="d2-4082930735" viewBox="-89 -49 1479 1824"><rect width="1479" height="1824" x="-89" y="-49" stroke-width="0" class="fill-N7" rx="0"/><style>.connection,.shape{stroke-linejoin:round}.shape{shape-rendering:geometricPrecision}.connection{stroke-linecap:round}.blend{mix-blend-mode:multiply;opacity:.5}.d2-4082930735 .fill-N1{fill:#0a0f25}.d2-4082930735 .fill-N2{fill:#676c7e}.d2-4082930735 .fill-N5{fill:#dee1eb}.d2-4082930735 .fill-N7{fill:#fff}.d2-4082930735 .fill-B5{fill:#edf0fd}.d2-4082930735 .stroke-B1,.d2-4082930735 .stroke-B2{stroke:#0d32b2}</style><g id="o"><g class="shape"><path d="M12 52h152v66H12z" class="stroke-B1 fill-B5" style="stroke-width:2"/></g><text x="88" y="90.5" class="text fill-N1" style="text-anchor:middle;font-size:16px">Resource owner</text></g><g id="c"><g class="shape"><path d="M318 52h100v66H318z" class="stroke-B1 fill-B5" style="stroke-width:2"/></g><text x="368" y="90.5" class="text fill-N1" style="text-anchor:middle;font-size:16px">Client</text></g><g id="rs"><g class="shape"><path d="M572 52h151v66H572z" class="stroke-B1 fill-B5" style="stroke-width:2"/></g><text x="647.5" y="90.5" class="text fill-N1" style="text-anchor:middle;font-size:16px">Resource server</text></g><g id="as"><g class="shape"><path d="M763 52h182v66H763z" class="stroke-B1 fill-B5" style="stroke-width:2"/></g><text x="854" y="90.5" class="text fill-N1" style="text-anchor:middle;font-size:16px">Authorization server</text></g><path id="(o -- )[0]" fill="none" d="M88 120v1553" class="connection stroke-B2" mask="url(#d2-4082930735)" style="stroke-width:2;stroke-dasharray:12,11.838767"/><path id="(c -- )[0]" fill="none" d="M368 120v1553" class="connection stroke-B2" mask="url(#d2-4082930735)" style="stroke-width:2;stroke-dasharray:12,11.838767"/><path id="(rs -- )[0]" fill="none" d="M647.5 120v1553" class="connection stroke-B2" mask="url(#d2-4082930735)" style="stroke-width:2;stroke-dasharray:12,11.838767"/><path id="(as -- )[0]" fill="none" d="M854 120v1553" class="connection stroke-B2" mask="url(#d2-4082930735)" style="stroke-width:2;stroke-dasharray:12,11.838767"/><g id="토큰 발급"><g class="shape blend"><path d="M48 173h1242v1137H48z" class="stroke-B1 fill-N5" style="stroke-width:0"/></g><path d="M53 178h81v21H53z" class="fill-N5"/><text x="93.5" y="194" class="text fill-N1" style="text-anchor:middle;font-size:16px">토큰 발급</text></g><g id="토큰 사용"><g class="shape blend"><path d="M328 1350h566v269H328z" class="stroke-B1 fill-N5" style="stroke-width:0"/></g><path d="M333 1355h81v21h-81z" class="fill-N5"/><text x="373.5" y="1371" class="text fill-N1" style="text-anchor:middle;font-size:16px">토큰 사용</text></g><g id="(c -&gt; as)[0]"><marker id="mk-3488378134" markerHeight="12" markerUnits="userSpaceOnUse" markerWidth="10" orient="auto" refX="7" refY="6" viewBox="0 0 10 12"><path stroke-width="2" d="m0 0 10 6-10 6z" class="connection" style="fill:#0d32b2"/></marker><path fill="none" marker-end="url(#mk-3488378134)" d="M370 217h480" class="connection stroke-B1" mask="url(#d2-4082930735)" style="stroke-width:2"/><text x="611.5" y="223" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">권한 요청</text></g><g id="(as -&gt; o)[0]"><path fill="none" marker-end="url(#mk-3488378134)" d="M852 287H92" class="connection stroke-B1" mask="url(#d2-4082930735)" style="stroke-width:2"/><text x="471.5" y="293" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">권한 요청</text></g><g id="(o -&gt; as)[0]"><path fill="none" marker-end="url(#mk-3488378134)" d="M90 357h760" class="connection stroke-B1" mask="url(#d2-4082930735)" style="stroke-width:2"/><text x="471.5" y="363" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">권한 승인</text></g><g id="(as -&gt; c)[0]"><path fill="none" marker-end="url(#mk-3488378134)" d="M852 427H372" class="connection stroke-B1" mask="url(#d2-4082930735)" style="stroke-width:2"/><text x="611.5" y="433" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">권한 승인</text></g><g id="(c -&gt; as)[1]"><path fill="none" marker-end="url(#mk-3488378134)" d="M370 785h480" class="connection stroke-B1" mask="url(#d2-4082930735)" style="stroke-width:2"/><text x="611.5" y="791" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">토큰 요청</text></g><g id="(as -&gt; c)[1]"><path fill="none" marker-end="url(#mk-3488378134)" d="M852 1143H372" class="connection stroke-B1" mask="url(#d2-4082930735)" style="stroke-width:2"/><text x="611.5" y="1149" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">토큰 발행</text></g><g id="(c -&gt; rs)[0]"><path fill="none" marker-end="url(#mk-3488378134)" d="M370 1394h273.5" class="connection stroke-B1" mask="url(#d2-4082930735)" style="stroke-width:2"/><text x="507.5" y="1400" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">자원 요청</text></g><g id="(rs -&gt; as)[0]"><path fill="none" marker-end="url(#mk-3488378134)" d="M649.5 1464H850" class="connection stroke-B1" mask="url(#d2-4082930735)" style="stroke-width:2"/><text x="751" y="1470" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">토큰 검증 요청</text></g><g id="(as -&gt; rs)[0]"><path fill="none" marker-end="url(#mk-3488378134)" d="M852 1534H651.5" class="connection stroke-B1" mask="url(#d2-4082930735)" style="stroke-width:2"/><text x="750.5" y="1540" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">토큰 검증</text></g><g id="(rs -&gt; c)[0]"><path fill="none" marker-end="url(#mk-3488378134)" d="M645.5 1604H372" class="connection stroke-B1" mask="url(#d2-4082930735)" style="stroke-width:2"/><text x="507.5" y="1610" class="text-italic fill-N2" style="text-anchor:middle;font-size:16px">자원 전송</text></g><g id="as.&quot;리디렉션을 이용한 경우, Authorization server의 응답이 url에 존재하므로\n앱 서버에서 먼저 처리한 다음 별도 url로 리디렉션하는 것이 좋다&quot;"><g class="shape"><path d="M548 497h592c1 0 2 0 3 1l17 16c1 1 1 2 1 3v62H547v-81c0-1 0-1 1-1Z" class="stroke-B1 fill-N7" style="stroke-width:2"/><path d="M1160 579H548c-1 0-1 0-1-1v-80c0-1 0-1 1-1h591c1 0 1 0 1 1v17c0 1 1 2 2 2h18c1 0 1 0 1 1v60c-1 1 0 1-1 1Z" class="stroke-B1 fill-N7" style="stroke-width:2"/></g><text x="854" y="535.5" class="text fill-N1" style="text-anchor:middle;font-size:16px"><tspan x="854" dy="0">리디렉션을 이용한 경우, Authorization server의 응답이 url에 존재하므로</tspan><tspan x="854" dy="18.5">앱 서버에서 먼저 처리한 다음 별도 url로 리디렉션하는 것이 좋다</tspan></text></g><g id="c.Client는 authorization code를 받는다"><g class="shape"><path d="M211 649h294c1 0 2 0 3 1l17 16c1 1 1 2 1 3v46H210v-65c0-1 0-1 1-1Z" class="stroke-B1 fill-N7" style="stroke-width:2"/><path d="M525 715H211c-1 0-1 0-1-1v-64c0-1 0-1 1-1h293c1 0 1 0 1 1v17c0 1 1 2 2 2h18c1 0 1 0 1 1v44c-1 1 0 1-1 1Z" class="stroke-B1 fill-N7" style="stroke-width:2"/></g><text x="368" y="687.5" class="text fill-N1" style="text-anchor:middle;font-size:16px">Client는 authorization code를 받는다</text></g><g id="c.authorization code + secret을 요청에 포함"><g class="shape"><path d="M193 855h329c1 0 2 0 3 1l17 16c1 1 1 2 1 3v46H192v-65c0-1 0-1 1-1Z" class="stroke-B1 fill-N7" style="stroke-width:2"/><path d="M542 921H193c-1 0-1 0-1-1v-64c0-1 0-1 1-1h328c1 0 1 0 1 1v17c0 1 1 2 2 2h18c1 0 1 0 1 1v44c-1 1 0 1-1 1Z" class="stroke-B1 fill-N7" style="stroke-width:2"/></g><text x="367.5" y="893.5" class="text fill-N1" style="text-anchor:middle;font-size:16px">authorization code + secret을 요청에 포함</text></g><g id="c.&quot;Client는 미리 Authorization server에 등록되거나,\n요청 내 정보로 검증되어 신뢰할 수 있음이 보장된다&quot;"><g class="shape"><path d="M129 991h457c1 0 2 0 3 1l17 16c1 1 1 2 1 3v62H128v-81c0-1 0-1 1-1Z" class="stroke-B1 fill-N7" style="stroke-width:2"/><path d="M606 1073H129c-1 0-1 0-1-1v-80c0-1 0-1 1-1h456c1 0 1 0 1 1v17c0 1 1 2 2 2h18c1 0 1 0 1 1v60c-1 1 0 1-1 1Z" class="stroke-B1 fill-N7" style="stroke-width:2"/></g><text x="367.5" y="1029.5" class="text fill-N1" style="text-anchor:middle;font-size:16px"><tspan x="367.5" dy="0">Client는 미리 Authorization server에 등록되거나,</tspan><tspan x="367.5" dy="18.5">요청 내 정보로 검증되어 신뢰할 수 있음이 보장된다</tspan></text></g><g id="as.&quot;access token + refresh token\nrefresh token은 access token 만료 등의 사유로 신규 access token을 발급받기 위해 요청할 때 사용&quot;"><g class="shape"><path d="M459 1213h770c1 0 2 0 3 1l17 16c1 1 1 2 1 3v62H458v-81c0-1 0-1 1-1Z" class="stroke-B1 fill-N7" style="stroke-width:2"/><path d="M1249 1295H459c-1 0-1 0-1-1v-80c0-1 0-1 1-1h769c1 0 1 0 1 1v17c0 1 1 2 2 2h18c1 0 1 0 1 1v60c-1 1 0 1-1 1Z" class="stroke-B1 fill-N7" style="stroke-width:2"/></g><text x="854" y="1251.5" class="text fill-N1" style="text-anchor:middle;font-size:16px"><tspan x="854" dy="0">access token + refresh token</tspan><tspan x="854" dy="18.5">refresh token은 access token 만료 등의 사유로 신규 access token을 발급받기 위해 요청할 때 사용</tspan></text></g><mask id="d2-4082930735" width="1479" height="1824" x="-89" y="-49" maskUnits="userSpaceOnUse"><path fill="#fff" d="M-89-49h1479v1824H-89z"/><path fill="rgba(0,0,0,0.75)" d="M34.5 74.5h107v21h-107zM348 74.5h40v21h-40zM594.5 74.5h106v21h-106zM785.5 74.5h137v21h-137z"/><path d="M53 178h81v16H53zM333 1355h81v16h-81zM571 207h81v21h-81zM431 277h81v21h-81zM431 347h81v21h-81zM571 417h81v21h-81zM571 775h81v21h-81zM571 1133h81v21h-81zM467 1384h81v21h-81zM690 1454h122v21H690zM710 1524h81v21h-81zM467 1594h81v21h-81z"/><path fill="rgba(0,0,0,0.75)" d="M569.5 519.5h569v37h-569zM232.5 671.5h271v21h-271zM214.5 877.5h306v21h-306zM150.5 1013.5h434v37h-434zM480.5 1235.5h747v37h-747z"/></mask></svg></svg>