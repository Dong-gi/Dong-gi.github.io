def p = this

task hello() {
    onlyIf {
        p.hasProperty('userName')
    }
    doLast {
        println "Hello ${p.userName}!"
    }
}