String.prototype.hashCode||(String.prototype.hashCode=function(){let e,t,r=0;if(0===this.length)return r;for(e=0;e<this.length;e++)t=this.charCodeAt(e),r=(r<<5)-r+t,r|=0;return r}),String.prototype.asSF=function(){let e=document.createElement("template");e.insertAdjacentHTML("afterbegin",this);for(let t of e.querySelectorAll("script")){let e=document.createElement("script");t.src.length>0&&(e.src=t.src),t.text.length>0&&(e.text=t.text),t.after(e),t.remove()}switch(e.childElementCount){case 0:return null;case 1:return SF.asSF(e.firstChild);default:return SF.asSFarr(e.children)}},String.prototype.compareString=function(e){return SFUtil.compareString(this,e)},File.prototype.toJSON||(File.prototype.toJSON=function(){return JSON.stringify({name:this.name,size:this.size,type:this.type,lastModified:this.lastModified})});class SFKey{}SFKey.map=Symbol("SFNode map"),SFKey.key=Symbol("SFNode's key"),SFKey.templates=Symbol("SF template map"),SFKey.placeholder=Symbol("Placeholder function. Do nothing"),SFKey.isRoot=Symbol("If true, this.$ == root element"),SFKey.beforeSetHooks=Symbol("Before set hook list"),SFKey.afterSetHooks=Symbol("After set hook list"),SFKey.beforeDelHooks=Symbol("Before delete hook list"),SFKey.afterDelHooks=Symbol("After delete hook list"),SFKey.numPartRegex1=/(((^|[\s$¥£₡₱€₩₭฿])[+-]?)?(\d+(,\d+)*(\.\d+)?)|(\d?\.\d+)|(\d+))/,SFKey.numPartRegex2=/(([\s$¥£₡₱€₩₭฿][+-]?)?(\d+(,\d+)*(\.\d+)?)|(\d?\.\d+)|(\d+))/,SFKey.startWithNumberRegex1=new RegExp("^"+SFKey.numPartRegex1.source),SFKey.startWithNumberRegex2=new RegExp("^"+SFKey.numPartRegex2.source),SFKey.textPartRegex1=new RegExp(`^((?!${SFKey.numPartRegex1.source})[\\d\\D])+`,"m"),SFKey.textPartRegex2=new RegExp(`^((?!${SFKey.numPartRegex2.source})[\\d\\D])+`,"m"),Object.freeze(SFKey);class SF{static build(e){e||(e=document.querySelector("[sf]")),e[SFKey.isRoot]=!0;let t=this.asSF(e);return t.newTemplate=function(e,t){let r=new Proxy(SF[SFKey.placeholder],{apply:function(e,r,o){let a=t().asSF();return 1==o.length?o[0](a):o.length>1&&o[0](a,...o.slice(1)),a}});return SF[SFKey.templates][e]=r,r},t.asTemplate=function(e,t){return this.newTemplate(e,()=>t.outerHTML)},t}static asSF(e){if(!e)return e;if(e[SFKey.key]&&SF[SFKey.map][e[SFKey.key]])return SF[SFKey.map][e[SFKey.key]];e[SFKey.key]=`${(new Date).getTime()}__${Math.random()}`.replace(".","").hashCode();let t=new Proxy(e,{set(t,r,o){if("string"!=typeof r)return(t[r]=o)||!0;for(let a of SF[SFKey.map][e[SFKey.key]][SFKey.beforeSetHooks])a.prop&&a.prop!=r||a.callback(t,r,o);t.hasAttribute&&t.hasAttribute(r)?t.setAttribute(r,o):t[r]=o;for(let a of SF[SFKey.map][e[SFKey.key]][SFKey.afterSetHooks])a.prop&&a.prop!=r||a.callback(t,r,o);return!0},get(e,t){if("string"!=typeof t)return e[t];switch(t){case"$":return e;case"after":case"before":case"firstChild":case"lastChild":case"firstElementChild":case"lastElementChild":case"parentElement":case"parentNode":return SF.asSF(e[t]);case"children":case"childNodes":return SF.asSFarr(e[t]);case"#text":return SF.asSFarr(Array.from(e.childNodes).filter(e=>"#text"==e.nodeName))}if(t.startsWith("$"))return SF.asSFarr(e.querySelectorAll(t.substr(1)));if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e.hasOwnProperty(t))return e[t];if(null!=e[t]&&null!=e[t])return e[t];if(e[SFKey.isRoot]&&document.getElementById(t))return SF.asSF(document.getElementById(t));if(e.childNodes){let r=Array.from(e.childNodes).filter(e=>e.nodeName==t.toUpperCase());if(r.length>0)return SF.asSFarr(r)}return e.querySelectorAll&&SF.asSFarr(e.querySelectorAll(t))},deleteProperty(t,r){if(!(r in t))return!1;if("string"==typeof r)for(let o of SF[SFKey.map][e[SFKey.key]][SFKey.beforeDelHooks])o.prop&&o.prop!=r||o.callback(t,r,t[r]);if(delete t[r],"string"==typeof r)for(let o of SF[SFKey.map][e[SFKey.key]][SFKey.afterDelHooks])o.prop&&o.prop!=r||o.callback(t,r,t[r]);return!0}});return SF[SFKey.map][e[SFKey.key]]=t,t[SFKey.beforeSetHooks]=[],t[SFKey.afterSetHooks]=[],t[SFKey.beforeDelHooks]=[],t[SFKey.afterDelHooks]=[],t}static asSFarr(e){let t=[];if(!e)return t;for(let r of e)t.push(SF.asSF(r));return 1==t.length?t[0]:t}static bindOneWay(e,t,r){SF.beforePropertySet(e,r,(e,r,o)=>{SF.asSF(t)[r]=o})}static bindTwoWay(e,t,r){SF.bindOneWay(e,t,r),SF.bindOneWay(t,e,r)}static beforePropertySet(e,t,r){SF.asSF(e)[SFKey.beforeSetHooks].push(new HookAction(t,(e,t,o)=>{e[t]!=o&&r(e,t,o)}))}static afterPropertySet(e,t,r){SF.asSF(e)[SFKey.afterSetHooks].push(new HookAction(t,(e,t,o)=>{r(e,t,o)}))}static beforePropertyDel(e,t,r){SF.asSF(e)[SFKey.beforeDelHooks].push(new HookAction(t,(e,t,o)=>{r(e,t,o)}))}static afterPropertyDel(e,t,r){SF.asSF(e)[SFKey.afterDelHooks].push(new HookAction(t,(e,t)=>{r(e,t)}))}static bindForm(e){e=e.$||e;let t=SF.asSF(SF.formToObject(e));SF.afterPropertySet(t,null,(e=>function(t,r,o){SF.jsonToForm(e,t,r)})(e)),SF.afterPropertyDel(t,null,(e=>function(t,r,o){SF.jsonToForm(e,t,r)})(e));for(let r of e.querySelectorAll("input,select,textarea")){let o=SFUtil.debounce(SF.observeForm(e,(e=>function(t,r,o){e[t]=r})(t)),100);r.addEventListener("change",o),r.addEventListener("keyup",o)}return t}static observeForm(e,t){return(e=>function(r){let o=r.target;for(;o!=e&&!o.name;)o="LABEL"==o.tagName&&o.getAttribute("for")?document.getElementById(o.getAttribute("for")):o.parentElement;o!=e&&t(o.name,SF.formToObject(e,o.name)[o.name],o)})(e)}static formToObject(e,t){function r(r,o){if("SELECT"==r.tagName){let e=r.querySelectorAll("option:not([disabled]):checked");if(!e)return o;if(1==e.length)o[r.name]=e[0].value;else{o[r.name]=[];for(let t of e)o[r.name].push(t.value)}}else if(r.type&&"file"==r.type.toLowerCase())o[r.name]=Array.from(r.files);else if(r.type&&"radio"==r.type.toLowerCase())if(t){let a=e.querySelector(`input[name=${t}][type=radio]:not([disabled]):checked`);o[r.name]=!a||a.value}else o[r.name]=r.checked;else r.type&&"checkbox"==r.type.toLowerCase()?o[r.name]=r.checked:o[r.name]=r.value;return o}let o={};if(t)r(e.querySelector(`[name=${t}]`),o);else{let t="input[name]:not([disabled]):not([type=radio]):not([type=checkbox])",a="input[name][type=radio]:not([disabled]):checked",s="input[name][type=checkbox]:not([disabled]):checked",l="textarea[name]:not([disabled])",n="select[name]:not([disabled])";for(let i of e.querySelectorAll(`${t},${a},${s},${l},${n}`))r(i,o)}return o}static jsonToForm(e,t,r){function o(e,r,o){let a=e.querySelector(`[name=${o}]`);if(a){switch(a.tagName){case"INPUT":switch((a.type||"").toLowerCase()){case"file":return;case"radio":return a=e.querySelector(`[name=${o}][value=${t[o]}]`),a&&(a.checked=Boolean(t[o]));case"checkbox":return a.checked=Boolean(t[o]);default:return a.value=t[o]||""}case"TEXTAREA":return a.value=t[o]||"";case"SELECT":for(let e of a.querySelectorAll("option:not([disabled])"))e.selected=!1;if(Array.isArray(r[o]))for(let e of r[o])a.querySelector(`option[value=${e}]`).selected=!0;else r[o]&&(a.querySelector(`option[value=${r[o]}]`).selected=Boolean(r[o]));return}console.log("??? target, form, obj, name ↓\n",a,e,r,o)}}if("string"==typeof t&&(t=JSON.parse(t)),r)return o(e,t,r);for(let r in t)o(e,t,r)}static asDataGrid(e,t){if("string"==typeof e&&e.startsWith("{")&&e.endsWith("}"))return SF.asDataGrid(JSON.parse(e));let r;return r=Array.isArray(e)?DataGrid.fromArray(e,t):"string"==typeof e?DataGrid.fromCSV(e,t):DataGrid.fromObject(e,t),r}static throttle(e,t,r){SFUtil.throttle(e,t,r)}static debounce(e,t,r){SFUtil.debounce(e,t,r)}}SF[SFKey.map]=new Map,SF[SFKey.templates]=new Map,SF[SFKey.placeholder]=function(){},Object.freeze(SF);class HookAction{constructor(e,t){var r;this.active=new Set,this.counter=0,this.prop=e,this.callback=(r=t,function(){if(0==this.active.size){let e;this.active.add(e=this.counter++),r(...arguments),this.active.delete(e)}})}}class DataGrid{constructor(e,t,r){this.data=e,this.opt=t||{},this.cols=new ColGroup;for(let e=0;e<r.length;++e)this.cols.add(new Column(r[e],e,e))}static fromCSV(e,t){(t=t||{}).delimiter=t.delimiter||(e.split("\n",1)[0].replace(",","").length<e.split("\n",1)[0].replace("\t","").length?",":"\\t"),t.quote=t.quote||'"',t.escape=t.escape||"\\\\";const r=new RegExp(`^([^\n${t.delimiter}${t.quote}]*)${t.delimiter}`),o=new RegExp(`^([^${t.delimiter}${t.quote}]*)\n`),a=new RegExp(`^${t.quote}(.*?)${t.quote}(${t.delimiter}|\n)?`,"mi"),s=new RegExp(`^${t.quote}([\\s\\S\n]*?)${t.quote}(${t.delimiter}|\n)?`,"mi");e=e.replace(/\r\n/gm,"\n");let l="🚮";for(;e.search(l)>=0;)l=String.fromCodePoint(l.codePointAt(0)+1);e=e.replace(new RegExp(t.escape+t.quote,"gm"),l);let n=[],i=[];if(t.noHead){let t=c();for(let e=0;e<t.length;++e)n.push(e);for(i.push(f(t));e.length>0;)i.push(f(c()))}else n=c(),function(){let t,a=[];for(;e.length>0;)(t=r.exec(e))?(a.push(t[1]),e=e.replace(r,"")):(t=o.exec(e))?(a.push(t[1]),e=e.replace(o,"")):(t=s.exec(e))?(a.push(t[1]),e=e.replace(s,"")):(a.push(e),e=""),a.length==n.length&&(i.push(f(d(a))),a=[])}();return new DataGrid(i,t,n);function c(){let t,s="";e.search("\n")>=0?(s=e.split("\n",1)[0],e=e.slice(s.length+1)):(s=e,e="");let l=[];for(;s.length>0;)(t=r.exec(s))?(l.push(t[1]),s=s.replace(r,"")):(t=o.exec(s))?(l.push(t[1]),s=s.replace(o,"")):(t=a.exec(s))?(l.push(t[1]),s=s.replace(a,"")):(l.push(s),s="");return d(l)}function d(e){for(let r=0;r<e.length;++r)e[r]=e[r].replace(new RegExp(l,"gm"),t.quote);return e}function f(e){let t={};for(let r=0;r<n.length;++r)t[n[r]]=e[r]||"";return t}}static fromArray(e,t){let r=(t=t||{}).names;if(!r&&t.hasHead){if(r=[],Array.isArray(e[0]))r=e[0];else for(let t in e[0])r.push(""+t);e=e.slice(1)}let o=[];if(Array.isArray(e[0])){r||(r=[]);for(let t of e)o.push(a(t))}else{let t=new Set;for(let r of e){for(let e in r)t.add(""+e);o.push(r)}r||(r=Array.from(t))}return new DataGrid(o,t,r);function a(e){let t={};for(let o=0;o<e.length;++o)r.length<=o&&r.push(o),t[r[o]]=e[o]||"";return t}}static fromObject(e,t){let r=[];for(let t in e)r.push(e[t]);return DataGrid.fromArray(r)}getHeight(){return this.data.length}getWidth(){return this.cols.size()}getRows(e,t,r){e=e||0,t=t||this.getHeight();let o=[];for(let a=e;a<t;++a)r&&!r(this.data[a])||o.push(this.data[a]);return new DataGrid(o,this.opt,this.cols.columns().map(e=>e.name))}getColumns(e,t,r){e=e||0,t=t||this.getWidth();let o=this.cols.columnsByDisplayOrder(),a=[];for(let s=e;s<t;++s)r&&!r(o[s])||a.push(o[s]);let s=[];for(let e of this.data){let t={};for(let r of a)t[r.name]=e[r.name];s.push(t)}return new DataGrid(s,this.opt,a.map(e=>e.name))}getTableForm(){let e="<form><table></table></form>".asSF(),t=document.createElement("tr");for(let e of this.cols.columnsByDisplayOrder())t.append(`<th>${e.name}</th>`.asSF().$);e.table.$.append(t);for(let r=0;r<this.data.length;++r){t=document.createElement("tr");for(let e of this.cols.columnsByDisplayOrder())t.append(`<td><textarea class="sf-datagrid-cell" name="C${r}-${e.name}">${this.data[r][e.name]||""}</textarea></td>`.asSF().$);e.table.$.append(t)}for(let t of e.$.querySelectorAll("textarea")){let r=SFUtil.debounce(SF.observeForm(e.$,(e,t,r)=>{let[o,a]=e.match(/C(\d+)-(.+)/).slice(1);this.data[o][a]=t,r.style.height=r.scrollHeight+2}),100);t.addEventListener("change",r),t.addEventListener("keyup",r)}return e.$}}class Column{constructor(e,t,r){this.name=e,this.realIdx=t,this.dispIdx=r}}class ColGroup{constructor(e){this.cols=new Set(e||[])}columns(){return Array.from(this.cols)}columnsByDisplayOrder(){return this.columns().sort((e,t)=>e.dispIdx-t.dispIdx)}size(){return this.cols.size}add(e){this.cols.add(e)}remove(e){this.cols.delete(e)}removeBy(e){for(let t of this.columns())e(t)&&this.remove(t)}removeByName(e){this.removeBy((function(e){e.name}))}removeByRealIdx(e){this.removeBy((function(e){e.realIdx}))}removeByDisplayIdx(e){this.removeBy((function(e){e.dispIdx}))}swapDisplayOrder(e,t){for(let r of this.columns())r.dispIdx==e?r.dispIdx=t:r.dispIdx==t&&(r.dispIdx=e)}}class SFUtil{static compareString(e,t){if(e===t)return 0;let[r,o]=[e,t];for(;;){if(e.length*t.length==0)return e.length-t.length;let a=(e===r?SFKey.startWithNumberRegex1:SFKey.startWithNumberRegex2).test(e),s=(t===o?SFKey.startWithNumberRegex1:SFKey.startWithNumberRegex2).test(t);if(a&&s){let a=parseFloat(e.match(e===r?SFKey.startWithNumberRegex1:SFKey.startWithNumberRegex2)[0].replace(/[^\-\d\.]/g,"")),s=parseFloat(t.match(t===o?SFKey.startWithNumberRegex1:SFKey.startWithNumberRegex2)[0].replace(/[^\-\d\.]/g,""));if(Math.abs(a-s)>=Number.EPSILON)return a-s;e=e.replace(e===r?SFKey.startWithNumberRegex1:SFKey.startWithNumberRegex2,""),t=t.replace(t===o?SFKey.startWithNumberRegex1:SFKey.startWithNumberRegex2,"");continue}if(a)return-1;if(s)return 1;let l=e.match(e===r?SFKey.textPartRegex1:SFKey.textPartRegex2)[0],n=t.match(t===o?SFKey.textPartRegex1:SFKey.textPartRegex2)[0],i=l.localeCompare(n);if(0!==i)return i;e=e.replace(e===r?SFKey.textPartRegex1:SFKey.textPartRegex2,""),t=t.replace(t===o?SFKey.textPartRegex1:SFKey.textPartRegex2,"")}}static debounce(e,t,r){return r=r||{},function(o){let a=r.lastCall;r.lastCall=Date.now(),a&&r.lastCall-a<=t&&(r&&r.fast||clearTimeout(r.lastCallTimer)),r.lastCallTimer=setTimeout(()=>e(o),t)}}static makeLSlikeText(e,t,r){let o=[e],a="";for(;o.length>0;){let e=o.pop(),s=t;for(let t of e.split("/"))s.hasOwnProperty(t)&&(s=s[t]);a=`${a}${e}:\n`;for(let t in s)if(s.hasOwnProperty(t))if(t!=r)o.push(`${e}/${t}`),a=`${a}${t}\n`;else for(let e of s[t])a+=e+"\n"}return a}static throttle(e,t,r){return r=r||{},function(o){let a=r.lastCall;r.lastCall=Date.now(),(!a||r&&r.fast||r.lastCall-a>t)&&e(o)}}static getOffsetLeft(e){let t=(e=e.$||e).offsetLeft;for(;e.offsetParent;)t+=e.offsetParent.offsetLeft,e=e.offsetParent;return t}static getOffsetTop(e){let t=(e=e.$||e).offsetTop;for(;e.offsetParent;)t+=e.offsetParent.offsetTop,e=e.offsetParent;return t}static getRgba(e){let t=window.getComputedStyle(e.$||e).getPropertyValue("background-color"),r=/(\d+)\D*(\d+)\D*(\d+)\D*(\d*\.?\d*)/.exec(t);return[parseInt(r[1]),parseInt(r[2]),parseInt(r[3]),/rgba/.test(t)?parseFloat(r[3]):1]}static highlight(e){var t;document.getElementById("sf-highlight-css")||document.getElementsByTagName("head")[0].append('<style id="sf-highlight-css">@keyframes sf-highlight{from{background:#ff0;box-shadow:0 0 0.5em 0.5em #ff0;padding:0.25em}to{background:#fff;box-shadow:0 0 #fff;padding:0}}</style>'.asSF().$),(e=e.$||e).style.animation="",setTimeout((t=e,function(){t.style.animation="sf-highlight 2s 1"}),139)}static showSnackbar(e,t,r){document.getElementById("sf-snackbar-css")||document.getElementsByTagName("head")[0].append('<style id="sf-snackbar-css">#sf-snackbar{visibility:hidden;min-width:250px;margin-left:-125px;background-color:#333;color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:1000000;left:50%;bottom:30px;font-size:17px}\n#sf-snackbar.show{visibility:visible;-webkit-animation:sf-fadein 0.5s,sf-fadeout 0.5s 2.5s;animation:sf-fadein 0.5s,sf-fadeout 0.5s 2.5s}\n@-webkit-keyframes sf-fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}\n@keyframes sf-fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}\n@-webkit-keyframes sf-fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}\n@keyframes sf-fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}</style>'.asSF().$),t&&(t=t.$||t);let o=`<div id="sf-snackbar" class="show">${e}</div>`.asSF().$;(t||document.body).append(o),setTimeout(()=>document.getElementById("sf-snackbar").remove(),r||1e3)}static addHoverContent(e,t,r){e=e.$||e,(t=t.$||t).style.position="absolute",t.style.display="none",(r=r||(e=>{let t=SFUtil.getRgba(e);e.style.backgroundColor=`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]>.9?t[3]:t[3]+.1})`}))(e);let o=((e,t)=>function(e){"block"!=t.style.display&&(t.style.display="block",t.style.top=e.pageY,t.style.left=e.pageX,t.style.maxWidth=window.innerWidth-e.clientX,t.style.maxHeight=window.innerHeight-e.clientY,t.style.overflow="auto")})(0,t),a=((e,t)=>function(r){if("none"==t.style.display)return;let o=SFUtil.getOffsetLeft(e),a=SFUtil.getOffsetTop(e);o<r.pageX&&r.pageX<o+e.offsetWidth&&a<r.pageY&&r.pageY<a+e.offsetHeight||(o=SFUtil.getOffsetLeft(t),a=SFUtil.getOffsetTop(t),o<r.pageX&&r.pageX<o+t.offsetWidth&&a<r.pageY&&r.pageY<a+t.offsetHeight||(t.style.display="none"))})(e,t);e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",SFUtil.debounce(a,300)),t.addEventListener("mouseleave",SFUtil.debounce(a,300))}static addInputSelection(e,t,r){e=e.$||e;let o=`<div>${(r=r||(()=>'<ul style="margin:0;padding:0.5rem 1rem 0.5rem 2rem;background-color:white;z-index:10000"></ul>'))()}</div>`.asSF(),a=o.ul.$;o=o.$,o.style.display="none",o.style.position="absolute",o.style.borderWidth="2px",o.style.borderStyle="inset",o.classList.add("sf-input-selection"),document.body.append(o);for(let r of t){let t=`<li>${r}</li>`.asSF().$;t.onclick=((e,t)=>function(r){t.style.display="none",e.hasAttribute("value")?e.value=this.innerText:e.innerText=this.innerText;let o=document.createEvent("HTMLEvents");o.initEvent("input",!0,!0),e.dispatchEvent(o)})(e,o),a.append(t)}e.onmousedown=(e=>function(t){document.querySelectorAll(".sf-input-selection").forEach((e,t,r)=>e.style.display="none"),e.style.display="block",e.style.top=t.pageY,e.style.left=t.pageX,e.style.maxWidth=window.innerWidth-t.clientX,e.style.maxHeight=window.innerHeight-t.clientY,e.style.overflow="auto"})(o)}static addOrderedTableFunctionality(){function e(e,t){for(let t of e){if("childList"!==t.type)return;for(let e of t.target.querySelectorAll("table")){if(e.rows.length<3){e.classList.remove("ordered-table");continue}if(e.classList.contains("ordered-table"))continue;if(e.classList.add("w3-table-all","w3-card","w3-small"),e.rows.length<2)continue;if(e.classList.add("ordered-table"),e.classList.contains("no-sort"))continue;let t=e.rows[0];t.classList.add("table-head-row");let r=new Set;for(let t of Array.from(e.rows).slice(1))t.querySelectorAll("td, th").forEach((e,t,o)=>{if(r.has(t))return;e.textContent.replace(/null/gim,"").replace(/[\n\s]+/gm,"").trim().length>0&&r.add(t)});for(let t of e.rows)t.querySelectorAll("td, th").forEach((e,t,o)=>{r.has(t)||e.remove()});t.querySelectorAll("td, th").forEach((t,r,o)=>t.onclick=SFUtil.tableSorter(r,t,e));let o=Array.from(t.querySelectorAll("td[pre-sort], th[pre-sort]"));o.sort((e,t)=>parseFloat(e.getAttribute("pre-sort"))-parseFloat(t.getAttribute("pre-sort")));for(let e of o)e.click()}}}document.querySelector("style#sf-ordered-table-css")||(document.getElementsByTagName("head")[0].append('<style id="sf-ordered-table-css">\ntd.sorting-table-head-black:after,th.sorting-table-head-black:after{content:attr(sort-order);color:black}\ntd.sorting-table-head-white:after,th.sorting-table-head-white:after{content:attr(sort-order);color:white;}</style>'.asSF().$),new MutationObserver(e).observe(document.body,{attributes:!1,childList:!0,subtree:!0}),e([{type:"childList",target:document.body}]))}static copyElementToClipboard(e){const t={TEXTAREA:!0};let r=e.$||e;for(;t[r.tagName];)r=r.parent();SFUtil.copyTextToCilpboard(e.value||e.textContent,r)}static copyTextToCilpboard(e,t){t&&(t=t.$||t);let r=`<textarea>${e.trim()}</textarea>`.asSF().$;(t||document.body).append(r),r.select(),document.execCommand("copy"),r.remove()}static downloadText(e,t){let r=document.createElement("a");r.href=URL.createObjectURL(new Blob([e],{type:"text/plain;charset=utf-8;"})),r.target="_blank",r.download=t,document.body.append(r),r.click(),r.remove()}static openLink(e,t){let r=document.createElement("a");r.href=e,r.target=t,document.body.append(r),r.click(),r.remove()}static printElement(e){e=e.$||e;const t=window.scrollY,r=document.getElementsByTagName("html")[0];let o=`<print>${e.innerHTML}</print>`.asSF().$;r.append(o),document.body.style.display="none",window.print(),document.body.style.display="block",o.remove(),window.scrollTo(0,t)}static tableSorter(e,t,r){if(t.classList.contains("no-sort"))return null;let o=SFUtil.getRgba(t);return o[0]+o[1]+o[2]<255*o[3]?t.classList.add("sorting-table-head-white"):t.classList.add("sorting-table-head-black"),t.getAttribute("sort-order")||t.setAttribute("sort-order","●"),()=>{let o=!("▲"==t.getAttribute("sort-order"));t.setAttribute("sort-order",o?"▲":"▼");let a=Array.from(r.rows).slice(1);a.sort((t,r)=>{let a=SFUtil.compareString(t.querySelectorAll("td, th")[e].textContent.trim(),r.querySelectorAll("td, th")[e].textContent.trim());return o?a:-a});for(let e of a)r.append(e)}}static toggleClass(e,t){e=e.$||e;for(let r of t)e.classList.contains(r)?e.classList.remove(r):e.classList.add(r)}}Object.freeze(SFUtil);