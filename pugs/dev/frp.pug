include ../../source/skeleton.pug

+post({
    title: 'frp',
    description: 'frp 설치 과정',
})

    h1 참고 문서
    ul
        li: +asA('https://github.com/fatedier/frp', 'GitHub frp')
        li: +asA('https://hub.docker.com/r/snowdreamtech/frps', 'frp server image')
        li: +asA('https://hub.docker.com/r/snowdreamtech/frpc', 'frp client image')

    h1 설치 예시
    div
        h2 서버
        div
            h3.fake docker-compose.yml
            +asCode('yml').
                version: "2.0"

                services:
                  frps:
                    image: snowdreamtech/frps
                    network_mode: "host"
                    volumes:
                      - ./frps.ini:/etc/frp/frps.ini

            h3.fake frps.ini
            +asCode('ini').
                [common]
                bind_port = 7776
                vhost_http_port = 7777

        h2 클라이언트
        div
            h3.fake docker-compose.yml
            +asCode('yml').
                version: "2.0"

                services:
                  frps:
                    image: snowdreamtech/frpc
                    network_mode: "host"
                    volumes:
                      - ./frpc.ini:/etc/frp/frpc.ini

            h3.fake frps.ini
            +asCode('ini').
                [common]
                server_addr = 123.123.123.123
                server_port = 7776

                [web]
                type = http
                local_ip = 192.168.1.3
                local_port = 9080
                custom_domains = my-sub-domain.mydomain.com

        h2 접속
        p my-sub-domain.mydomain.com:7777로 접속하면 192.168.1.3:9080으로 연결된다
