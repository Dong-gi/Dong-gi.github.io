String.prototype.hashCode||(String.prototype.hashCode=function(){let e,t,o=0;if(0===this.length)return o;for(e=0;e<this.length;e++)t=this.charCodeAt(e),o=(o<<5)-o+t,o|=0;return o}),String.prototype.asSF=function(){let e=document.createElement("template");switch(e.insertAdjacentHTML("afterbegin",this),e.childElementCount){case 0:return null;case 1:return SF.asSF(e.firstChild);default:return SF.asSFarr(e.children)}};class SFKey{}SFKey.map=Symbol("SFNode map"),SFKey.key=Symbol("SFNode's key"),SFKey.templates=Symbol("SF template map"),SFKey.placeholder=Symbol("Placeholder function. Do nothing"),SFKey.isRoot=Symbol("If true, this.$ == root element"),SFKey.beforeSetHooks=Symbol("Before set hook list"),SFKey.afterSetHooks=Symbol("After set hook list"),SFKey.beforeDelHooks=Symbol("Before delete hook list"),SFKey.afterDelHooks=Symbol("After delete hook list"),Object.freeze(SFKey);class SF{static build(e){e||(e=document.querySelector("[sf]")),e[SFKey.isRoot]=!0;let t=this.asSF(e);return t.newTemplate=function(e,t){let o=new Proxy(SF[SFKey.placeholder],{apply:function(e,o,r){let l=t().asSF();return 1==r.length?r[0](l):r.length>1&&r[0](l,...r.slice(1)),l}});return SF[SFKey.templates][e]=o,o},t.asTemplate=function(e,t){return this.newTemplate(e,()=>t.outerHTML)},t}static asSF(e){if(!e)return e;if(e[SFKey.key]&&SF[SFKey.map][e[SFKey.key]])return SF[SFKey.map][e[SFKey.key]];e[SFKey.key]=`${(new Date).getTime()}__${Math.random()}`.replace(".","").hashCode();let t=new Proxy(e,{set(t,o,r){if("string"!=typeof o)return(t[o]=r)||!0;for(let l of SF[SFKey.map][e[SFKey.key]][SFKey.beforeSetHooks])l.prop&&l.prop!=o||l.callback(t,o,r);t.hasAttribute&&t.hasAttribute(o)?t.setAttribute(o,r):t[o]=r;for(let l of SF[SFKey.map][e[SFKey.key]][SFKey.afterSetHooks])l.prop&&l.prop!=o||l.callback(t,o,r);return!0},get(e,t){if("string"!=typeof t)return e[t];switch(t){case"$":return e;case"after":case"before":case"firstChild":case"lastChild":case"firstElementChild":case"lastElementChild":case"parentElement":case"parentNode":return SF.asSF(e[t]);case"children":case"childNodes":return SF.asSFarr(e[t]);case"#text":return SF.asSFarr(Array.from(e.childNodes).filter(e=>"#text"==e.nodeName))}if(t.startsWith("$"))return SF.asSFarr(e.querySelectorAll(t.substr(1)));if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e.hasOwnProperty(t))return e[t];if(null!=e[t]&&null!=e[t])return e[t];if(e[SFKey.isRoot]&&document.getElementById(t))return SF.asSF(document.getElementById(t));if(e.childNodes){let o=Array.from(e.childNodes).filter(e=>e.nodeName==t.toUpperCase());if(o.length>0)return SF.asSFarr(o)}return e.querySelectorAll&&SF.asSFarr(e.querySelectorAll(t))},deleteProperty(t,o){if(!(o in t))return!1;if("string"==typeof o)for(let r of SF[SFKey.map][e[SFKey.key]][SFKey.beforeDelHooks])r.prop&&r.prop!=o||r.callback(t,o,t[o]);if(delete t[o],"string"==typeof o)for(let r of SF[SFKey.map][e[SFKey.key]][SFKey.afterDelHooks])r.prop&&r.prop!=o||r.callback(t,o,t[o]);return!0}});return SF[SFKey.map][e[SFKey.key]]=t,t[SFKey.beforeSetHooks]=[],t[SFKey.afterSetHooks]=[],t[SFKey.beforeDelHooks]=[],t[SFKey.afterDelHooks]=[],t}static asSFarr(e){let t=[];if(!e)return t;for(let o of e)t.push(SF.asSF(o));return 1==t.length?t[0]:t}static bindOneWay(e,t,o){SF.beforePropertySet(e,o,(e,o,r)=>{SF.asSF(t)[o]=r})}static bindTwoWay(e,t,o){SF.bindOneWay(e,t,o),SF.bindOneWay(t,e,o)}static beforePropertySet(e,t,o){SF.asSF(e)[SFKey.beforeSetHooks].push(new HookAction(t,(e,t,r)=>{e[t]!=r&&o(e,t,r)}))}static afterPropertySet(e,t,o){SF.asSF(e)[SFKey.afterSetHooks].push(new HookAction(t,(e,t,r)=>{o(e,t,r)}))}static beforePropertyDel(e,t,o){SF.asSF(e)[SFKey.beforeDelHooks].push(new HookAction(t,(e,t,r)=>{o(e,t,r)}))}static afterPropertyDel(e,t,o){SF.asSF(e)[SFKey.afterDelHooks].push(new HookAction(t,(e,t)=>{o(e,t)}))}static bindForm(e){e=e.$||e;let t=SF.asSF(SF.formToObject(e));SF.afterPropertySet(t,null,(e=>function(t,o,r){SF.jsonToForm(e,t,o)})(e)),SF.afterPropertyDel(t,null,(e=>function(t,o,r){SF.jsonToForm(e,t,o)})(e));for(let o of e.querySelectorAll("input,select,textarea")){let r=SF.debounce(SF.observeForm(e,(e=>function(t,o,r){e[t]=o})(t)),100);o.addEventListener("change",r),o.addEventListener("keyup",r)}return t}static observeForm(e,t){return(e=>function(o){let r=o.target;for(;r!=e&&!r.name;)r="LABEL"==r.tagName&&r.getAttribute("for")?document.getElementById(r.getAttribute("for")):r.parentElement;r!=e&&t(r.name,SF.formToObject(e,r.name)[r.name],r)})(e)}static formToObject(e,t){function o(o,r){if("SELECT"==o.tagName){let e=o.querySelectorAll("option:not([disabled]):checked");if(!e)return r;if(1==e.length)r[o.name]=e[0].value;else{r[o.name]=[];for(let t of e)r[o.name].push(t.value)}}else if(o.type&&"file"==o.type.toLowerCase())r[o.name]=Array.from(o.files).map(e=>e.name);else if(o.type&&"radio"==o.type.toLowerCase())if(t){let l=e.querySelector(`input[name=${t}][type=radio]:not([disabled]):checked`);r[o.name]=!l||l.value}else r[o.name]=o.checked;else o.type&&"checkbox"==o.type.toLowerCase()?r[o.name]=o.checked:r[o.name]=o.value;return r}let r={};if(t)o(e.querySelector(`[name=${t}]`),r);else{let t="input[name]:not([disabled]):not([type=radio]):not([type=checkbox])",l="input[name][type=radio]:not([disabled]):checked",i="input[name][type=checkbox]:not([disabled]):checked",a="textarea[name]:not([disabled])",n="select[name]:not([disabled])";for(let s of e.querySelectorAll(`${t},${l},${i},${a},${n}`))o(s,r)}return r}static jsonToForm(e,t,o){function r(e,o,r){let l=e.querySelector(`[name=${r}]`);if(l){switch(l.tagName){case"INPUT":switch((l.type||"").toLowerCase()){case"file":return;case"radio":return l=e.querySelector(`[name=${r}][value=${t[r]}]`),l&&(l.checked=Boolean(t[r]));case"checkbox":return l.checked=Boolean(t[r]);default:return l.value=t[r]||""}case"TEXTAREA":return l.value=t[r]||"";case"SELECT":for(let e of l.querySelectorAll("option:not([disabled])"))e.selected=!1;if(Array.isArray(o[r]))for(let e of o[r])l.querySelector(`option[value=${e}]`).selected=!0;else o[r]&&(l.querySelector(`option[value=${o[r]}]`).selected=Boolean(o[r]));return}console.log("??? target, form, obj, name ↓\n",l,e,o,r)}}if("string"==typeof t&&(t=JSON.parse(t)),o)return r(e,t,o);for(let o in t)r(e,t,o)}static asDataGrid(e,t){if("string"==typeof e&&e.startsWith("{")&&e.endsWith("}"))return SF.asDataGrid(JSON.parse(e));let o;return o=Array.isArray(e)?DataGrid.fromArray(e,t):"string"==typeof e?DataGrid.fromCSV(e,t):DataGrid.fromObject(e,t),o}static throttle(e,t,o){return o=o||{},function(r){let l=o.lastCall;o.lastCall=Date.now(),(!l||o&&o.fast||o.lastCall-l>t)&&e(r)}}static debounce(e,t,o){return o=o||{},function(r){let l=o.lastCall;o.lastCall=Date.now(),l&&o.lastCall-l<=t&&(o&&o.fast||clearTimeout(o.lastCallTimer)),o.lastCallTimer=setTimeout(()=>e(r),t)}}}SF[SFKey.map]=new Map,SF[SFKey.templates]=new Map,SF[SFKey.placeholder]=function(){},Object.freeze(SF);class HookAction{constructor(e,t){var o;this.active=new Set,this.counter=0,this.prop=e,this.callback=(o=t,function(){if(0==this.active.size){let e;this.active.add(e=this.counter++),o(...arguments),this.active.delete(e)}})}}class DataGrid{constructor(e,t,o){this.data=e,this.opt=t||{},this.cols=new ColGroup;for(let e=0;e<o.length;++e)this.cols.add(new Column(o[e],e,e))}static fromCSV(e,t){(t=t||{}).delimiter=t.delimiter||(e.split("\n",1)[0].replace(",","").length<e.split("\n",1)[0].replace("\t","").length?",":"\\t"),t.quote=t.quote||'"',t.escape=t.escape||"\\\\";const o=new RegExp(`^([^\n${t.delimiter}${t.quote}]*)${t.delimiter}`),r=new RegExp(`^([^${t.delimiter}${t.quote}]*)\n`),l=new RegExp(`^${t.quote}(.*?)${t.quote}(${t.delimiter}|\n)?`,"mi"),i=new RegExp(`^${t.quote}([\\s\\S\n]*?)${t.quote}(${t.delimiter}|\n)?`,"mi");e=e.replace(/\r\n/gm,"\n");let a="🚮";for(;e.search(a)>=0;)a+=a;e=e.replace(new RegExp(t.escape+t.quote,"gm"),a);let n=[],s=[];if(t.noHead){let t=c();for(let e=0;e<t.length;++e)n.push(e);for(s.push(m(t));e.length>0;)s.push(m(c()))}else n=c(),function(){let t,l=[];for(;e.length>0;)(t=o.exec(e))?(l.push(t[1]),e=e.replace(o,"")):(t=r.exec(e))?(l.push(t[1]),e=e.replace(r,"")):(t=i.exec(e))?(l.push(t[1]),e=e.replace(i,"")):(l.push(e),e=""),l.length==n.length&&(s.push(m(d(l))),l=[])}();return new DataGrid(s,t,n);function c(){let t,i="";e.search("\n")>=0?(i=e.split("\n",1)[0],e=e.slice(i.length+1)):(i=e,e="");let a=[];for(;i.length>0;)(t=o.exec(i))?(a.push(t[1]),i=i.replace(o,"")):(t=r.exec(i))?(a.push(t[1]),i=i.replace(r,"")):(t=l.exec(i))?(a.push(t[1]),i=i.replace(l,"")):(a.push(i),i="");return d(a)}function d(e){for(let o=0;o<e.length;++o)e[o]=e[o].replace(new RegExp(a,"gm"),t.quote);return e}function m(e){let t={};for(let o=0;o<n.length;++o)t[n[o]]=e[o]||"";return t}}static fromArray(e,t){let o=(t=t||{}).names;if(!o&&t.hasHead){if(o=[],Array.isArray(e[0]))o=e[0];else for(let t in e[0])o.push(""+t);e=e.slice(1)}let r=[];if(Array.isArray(e[0])){o||(o=[]);for(let t of e)r.push(l(t))}else{let t=new Set;for(let o of e){for(let e in o)t.add(""+e);r.push(o)}o||(o=Array.from(t))}return new DataGrid(r,t,o);function l(e){let t={};for(let r=0;r<e.length;++r)o.length<=r&&o.push(r),t[o[r]]=e[r]||"";return t}}static fromObject(e,t){let o=[];for(let t in e)o.push(e[t]);return DataGrid.fromArray(o)}getHeight(){return this.data.length}getWidth(){return this.cols.size()}getRows(e,t,o){e=e||0,t=t||this.getHeight();let r=[];for(let l=e;l<t;++l)o&&!o(this.data[l])||r.push(this.data[l]);return new DataGrid(r,this.opt,this.cols.columns().map(e=>e.name))}getColumns(e,t,o){e=e||0,t=t||this.getWidth();let r=this.cols.columnsByDisplayOrder(),l=[];for(let i=e;i<t;++i)o&&!o(r[i])||l.push(r[i]);let i=[];for(let e of this.data){let t={};for(let o of l)t[o.name]=e[o.name];i.push(t)}return new DataGrid(i,this.opt,l.map(e=>e.name))}getTableForm(){let e="<form><table></table></form>".asSF(),t=document.createElement("tr");for(let e of this.cols.columnsByDisplayOrder())t.append(`<th>${e.name}</th>`.asSF().$);e.table.$.append(t);for(let o=0;o<this.data.length;++o){t=document.createElement("tr");for(let e of this.cols.columnsByDisplayOrder())t.append(`<td><textarea class="sf-datagrid-cell" name="C${o}-${e.name}">${this.data[o][e.name]||""}</textarea></td>`.asSF().$);e.table.$.append(t)}for(let t of e.$.querySelectorAll("textarea")){let o=SF.debounce(SF.observeForm(e.$,(e,t,o)=>{let[r,l]=e.match(/C(\d+)-(.+)/).slice(1);this.data[r][l]=t,o.style.height=o.scrollHeight+2}),100);t.addEventListener("change",o),t.addEventListener("keyup",o)}return e.$}}class Column{constructor(e,t,o){this.name=e,this.realIdx=t,this.dispIdx=o}}class ColGroup{constructor(e){this.cols=new Set(e||[])}columns(){return Array.from(this.cols)}columnsByDisplayOrder(){return this.columns().sort((e,t)=>e.dispIdx-t.dispIdx)}size(){return this.cols.size}add(e){this.cols.add(e)}remove(e){this.cols.delete(e)}removeBy(e){for(let t of this.columns())e(t)&&this.remove(t)}removeByName(e){this.removeBy((function(e){e.name}))}removeByRealIdx(e){this.removeBy((function(e){e.realIdx}))}removeByDisplayIdx(e){this.removeBy((function(e){e.dispIdx}))}swapDisplayOrder(e,t){for(let o of this.columns())o.dispIdx==e?o.dispIdx=t:o.dispIdx==t&&(o.dispIdx=e)}}class Donggi{constructor(){}static compareString(e,t){if(e===t)return 0;let o=e,r=t,l=/(((^|[\s$¥£₡₱€₩₭฿])[+-])?(\d+(,\d+)*(\.\d+)?)|(\d?\.\d+)|(\d+))/,i=/(([\s$¥£₡₱€₩₭฿][+-])?(\d+(,\d+)*(\.\d+)?)|(\d?\.\d+)|(\d+))/,a=new RegExp("^"+l.source),n=new RegExp("^"+i.source),s=new RegExp(`^((?!${l.source})[\\d\\D])+`,"m"),c=new RegExp(`^((?!${i.source})[\\d\\D])+`,"m");for(;;){if(e.length*t.length==0)return e.length-t.length;let l=(e==o?a:n).test(e),i=(t==r?a:n).test(t);if(l&&i){let l=parseFloat(e.match(e==o?a:n)[0].replace(/[^\-\d\.]/g,"")),i=parseFloat(t.match(t==r?a:n)[0].replace(/[^\-\d\.]/g,""));if(Math.abs(l-i)>=Number.EPSILON)return l-i;e=e.replace(e==o?a:n,""),t=t.replace(t==r?a:n,"");continue}if(l)return-1;if(i)return 1;let d=e.match(e==o?s:c)[0],m=t.match(e==o?s:c)[0],g=d.localeCompare(m);if(0!==g)return g;e=e.replace(e==o?s:c,""),t=t.replace(e==o?s:c,"")}}static openLink(e,t){let o=document.createElement("a");o.href=e,o.target=t,document.body.append(o),o.click()}static getNodesFromText(e,t){let o=document.createElement(t||"div");o.innerHTML=e;for(let e of o.querySelectorAll("script")){let t=document.createElement("script");e.src.length>0&&(t.src=e.src),e.text.length>0&&(t.text=e.text),e.after(t),e.remove()}return t?o:div.childNodes}static getElementFromText(e,t){let o=document.createElement(t||"div");o.innerHTML=e;for(let e of o.querySelectorAll("script")){let t=document.createElement("script");e.src.length>0&&(t.src=e.src),e.text.length>0&&(t.text=e.text),e.after(t),e.remove()}return o.firstChild}static toggleClass(e,t){for(let o of t)e.classList.contains(o)?e.classList.remove(o):e.classList.add(o)}static showSnackbar(e,t,o){let r=Donggi.getElementFromText(`<div id="snackbar" class="show">${e}</div>`);(t||document.body).append(r),setTimeout((function(){r.remove()}),o||1e3)}static printElement(e){const t=window.scrollY,o=document.getElementsByTagName("html")[0];let r=Donggi.getElementFromText(`<print>${e.innerHTML}</print>`);o.append(r),document.body.style.display="none",window.print(),document.body.style.display="block",r.remove(),window.scrollTo(0,t)}static copyTextToCilpboard(e,t){let o=Donggi.getElementFromText(`<textarea>${e.trim()}</textarea>`);(t||document.body).append(o),o.select(),document.execCommand("copy"),o.remove()}static copyElementToClipboard(e){let t={TEXTAREA:!0},o=e;for(;t[o.tagName];)o=o.parent();Donggi.copyTextToCilpboard(e.value||e.textContent,o),Donggi.showSnackbar("Copied!!",o),o.focus()}static getOffsetLeft(e){let t=e.offsetLeft;for(;e.offsetParent;)t+=e.offsetParent.offsetLeft,e=e.offsetParent;return t}static getOffsetTop(e){let t=e.offsetTop;for(;e.offsetParent;)t+=e.offsetParent.offsetTop,e=e.offsetParent;return t}static getRgba(e){let t=window.getComputedStyle(e).getPropertyValue("background-color"),o=/(\d+)\D*(\d+)\D*(\d+)\D*(\d*\.?\d*)/.exec(t);return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3]),/rgba/.test(t)?parseFloat(o[3]):1]}static bind(e,t,o){return((e,t,o)=>{const r={set(t,o,r){try{t[o]!=r&&Donggi.bindMap.get(e)[o].nodes.forEach(e=>{e.innerText!=""+r&&(e.innerText=""+r)})}finally{Reflect.set(...arguments)}}};Donggi.bindMap.has(e)||Donggi.bindMap.set(e,{});let l=Donggi.bindMap.get(e);l.hasOwnProperty(t)||(l[t]={proxy:new Proxy(e,r),nodes:new Set});let i=l[t].proxy;for(let e of o)l[t].nodes.add(e);for(let e of o)e.addEventListener("input",(e=>function(o){this.innerText!=e[t]&&(e[t]=this.innerText)})(i));return i})(e,t,o)}static addInputSelection(e,t){let o=Donggi.getElementFromText('<ul class="input-selection"></ul>');o.style.margin="8px",o.style.paddingRight="8px",o.style.backgroundColor="white",o.style.zIndex=1e4,o.style.position="absolute",o.style.display="none",document.body.append(o);for(let r of t){let t=Donggi.getElementFromText(`<li>${r}</li>`);t.onclick=((e,t)=>function(o){t.style.display="none",e.innerText=this.innerText;let r=document.createEvent("HTMLEvents");r.initEvent("input",!0,!0),e.dispatchEvent(r)})(e,o),o.append(t)}((e,t)=>{e.onmousedown=e=>{document.querySelectorAll("ul.input-selection").forEach((e,t,o)=>e.style.display="none"),t.style.top=e.pageY,t.style.left=e.pageX,t.style.display="block"}})(e,o)}static addHoverContent(e,t,o){t.style.position="absolute",t.style.display="none",(o=o||(e=>{let t=Donggi.getRgba(e);e.style.backgroundColor=`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]>.5?t[3]:t[3]+.1})`}))(e);let r=((e,t)=>function(e){"block"!=t.style.display&&(t.style.display="block",t.style.top=e.pageY,t.style.left=e.pageX,t.style.maxWidth=window.innerWidth-e.clientX,t.style.maxHeight=window.innerHeight-e.clientY,t.style.overflow="auto")})(0,t),l=((e,t)=>function(o){if("none"==t.style.display)return;let r=Donggi.getOffsetLeft(e),l=Donggi.getOffsetTop(e);r<o.pageX&&o.pageX<r+e.offsetWidth&&l<o.pageY&&o.pageY<l+e.offsetHeight||(r=Donggi.getOffsetLeft(t),l=Donggi.getOffsetTop(t),r<o.pageX&&o.pageX<r+t.offsetWidth&&l<o.pageY&&o.pageY<l+t.offsetHeight||(t.style.display="none"))})(e,t);e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",SF.debounce(l,300)),t.addEventListener("mouseleave",SF.debounce(l,300))}static makeLSlikeText(e,t,o){let r=[e],l="";for(;r.length>0;){let e=r.pop(),i=t;for(let t of e.split("/"))i.hasOwnProperty(t)&&(i=i[t]);l+=e+":\n";for(let t in i)if(t!=o)r.push(`${e}/${t}`),l+=t+"\n";else for(let e of i[t])l+=e+"\n"}return l}}function initOrderedTableFunctionality(){"ready"!=document.readyState&&"complete"!=document.readyState||document.querySelector("style#ordered-table-style")||(document.getElementsByTagName("head")[0].append(Donggi.getElementFromText('<style id="ordered-table-style">\ntd.sorting-table-head-black:after,\nth.sorting-table-head-black:after {\n    content: attr(sort-order);\n    color: black;\n}\n\ntd.sorting-table-head-white:after,\nth.sorting-table-head-white:after {\n    content: attr(sort-order);\n    color: white;\n}</style>')),new MutationObserver(addOrderedTableFunctionality).observe(document.body,{attributes:!1,childList:!0,subtree:!0}),addOrderedTableFunctionality([{type:"childList",target:document.body}]))}function addOrderedTableFunctionality(e,t){for(let t of e){if("childList"!==t.type)return;for(let e of t.target.querySelectorAll("table")){if(e.rows.length<1){e.classList.remove("ordered-table");continue}if(e.classList.contains("ordered-table"))continue;if(e.classList.add("w3-table-all","w3-card","w3-small"),e.rows.length<2)continue;if(e.classList.add("ordered-table"),e.classList.contains("no-sort"))continue;let t=e.rows[0];t.classList.add("table-head-row");let o=new Set;for(let t of Array.from(e.rows).slice(1))t.querySelectorAll("td, th").forEach((e,t,r)=>{e.textContent.replace(/null/gim,"").replace(/^\s+$/g,"").trim().length>0&&o.add(t)});for(let t of e.rows)t.querySelectorAll("td, th").forEach((e,t,r)=>{o.has(t)||e.remove()});t.querySelectorAll("td, th").forEach((t,o,r)=>t.onclick=customTableSort(o,t,e));let r=Array.from(t.querySelectorAll("td[pre-sort], th[pre-sort]"));r.sort((e,t)=>parseFloat(e.getAttribute("pre-sort"))-parseFloat(t.getAttribute("pre-sort")));for(let e of r)e.click()}}}function customTableSort(e,t,o){if(t.classList.contains("not-sort"))return;let r=Donggi.getRgba(t);return r[0]+r[1]+r[2]<255*r[3]?t.classList.add("sorting-table-head-white"):t.classList.add("sorting-table-head-black"),t.getAttribute("sort-order")||t.setAttribute("sort-order","●"),()=>{let r=!("▲"==t.getAttribute("sort-order"));t.setAttribute("sort-order",r?"▲":"▼");let l=Array.from(o.rows).slice(1);l.sort((t,o)=>{let l=Donggi.compareString(t.querySelectorAll("td, th")[e].textContent.trim(),o.querySelectorAll("td, th")[e].textContent.trim());return r?l:-l});for(let e of l)o.append(e)}}Donggi.bindMap=new Map,window.addEventListener("load",initOrderedTableFunctionality),initOrderedTableFunctionality();const posts={list:[{file:"/posts/single/aws.html",category:"단일 문서",title:"AWS"},{file:"/posts/single/centos.html",category:"단일 문서",title:"CentOS"},{file:"/posts/single/docker.html",category:"단일 문서",title:"Docker"},{file:"/posts/single/fp.html",category:"단일 문서",title:"FP; Functional Programming"},{file:"/posts/single/git.html",category:"단일 문서",title:"Git"},{file:"/posts/single/gradle.html",category:"단일 문서",title:"Gradle"},{file:"/posts/single/groovy.html",category:"단일 문서",title:"Groovy"},{file:"/posts/single/nginx.html",category:"단일 문서",title:"Nginx"},{file:"/posts/single/rpi.html",category:"단일 문서",title:"Raspberry Pi 3 + OpenCV(python)"},{file:"/posts/single/redis.html",category:"단일 문서",title:"Redis"},{file:"/posts/single/sdkman.html",category:"단일 문서",title:"SDKMAN; The Software Development Kit Manager"},{file:"/posts/single/tomcat.html",category:"단일 문서",title:"tomcat"},{file:"/posts/single/vi.html",category:"단일 문서",title:"vi"},{file:"/posts/single/refactoring.html",category:"단일 문서",title:"디자인 패턴 + 리팩터링"},{file:"/posts/book/001.html",category:"독서",title:"1만 시간의 재발견"},{file:"/posts/book/002.html",category:"독서",title:"마음의 탄생"},{file:"/posts/book/003.html",category:"독서",title:"생각하는 삶을 위한 철학의 역사"},{file:"/posts/book/004.html",category:"독서",title:"쇼펜하우어, 돌이 별이 되는 철학"},{file:"/posts/book/005.html",category:"독서",title:"인생의 모든 의미"},{file:"/posts/book/006.html",category:"독서",title:"지식의 착각"},{file:"/posts/book/007.html",category:"독서",title:"키르케고르 실존 극장"},{file:"/posts/book/008.html",category:"독서",title:"Gamification by Design"},{file:"/posts/book/009.html",category:"독서",title:"인지 편향"},{file:"/posts/algorithm/algo.html",category:"알고리즘",title:"알고리즘 일반"},{file:"/posts/algorithm/book01.html",category:"알고리즘",title:"『알고리즘 도감』"},{file:"/posts/algorithm/linear_algebra.html",category:"알고리즘",title:"선형대수"},{file:"/posts/algorithm/probability.html",category:"알고리즘",title:"확률"},{file:"/posts/algorithm/koreatech/1003.html",category:"알고리즘/KOREATECH",title:"1003: 0을 만들자"},{file:"/posts/algorithm/koreatech/1008.html",category:"알고리즘/KOREATECH",title:"1008: 순환 소수"},{file:"/posts/algorithm/koreatech/1010.html",category:"알고리즘/KOREATECH",title:"소수(Prime) 관련 문제"},{file:"/posts/algorithm/koreatech/1011.html",category:"알고리즘/KOREATECH",title:"동적계획법(DP) 문제"},{file:"/posts/algorithm/koreatech/1018.html",category:"알고리즘/KOREATECH",title:"1018: 문자열 거리 최소화 하기"},{file:"/posts/algorithm/koreatech/1034.html",category:"알고리즘/KOREATECH",title:"1034,1041: 최소 이동 거리"},{file:"/posts/algorithm/koreatech/1048.html",category:"알고리즘/KOREATECH",title:"1048: AP 배분"},{file:"/posts/algorithm/koreatech/1095.html",category:"알고리즘/KOREATECH",title:"1095: 자연스러운 정렬"},{file:"/posts/algorithm/ai.html",category:"작성 중지",title:"AI"},{file:"/posts/single/quantum_computer.html",category:"작성 중지",title:"양자 컴퓨터"},{file:"/posts/single/unity.html",category:"작성 중지",title:"Unity"},{file:"/posts/db/concept.html",category:"DB",title:"DB 기초"},{file:"/posts/db/mongodb.html",category:"DB",title:"MongoDB"},{file:"/posts/db/mysql.html",category:"DB",title:"MySQL"},{file:"/posts/db/psql_to_sqlite.html",category:"DB",title:"PostgreSQL → SQLite3 마이그레이션"},{file:"/posts/db/psql_admin.html",category:"DB",title:"PostgreSQL 서버 관리"},{file:"/posts/db/psql_programming.html",category:"DB",title:"PostgreSQL 서버 프로그래밍"},{file:"/posts/db/psql_tutorial.html",category:"DB",title:"PostgreSQL 시작하기"},{file:"/posts/db/psql_sql.html",category:"DB",title:"PostgreSQL SQL 언어"},{file:"/posts/dotnet/csharp_basic.html",category:"Programming/.NET",title:"C# 기초"},{file:"/posts/dotnet/csharp_library.html",category:"Programming/.NET",title:"C# 라이브러리"},{file:"/posts/dotnet/wpf_basic.html",category:"Programming/.NET",title:"WPF 기초"},{file:"/posts/front/css.html",category:"Programming/Front",title:"CSS"},{file:"/posts/front/html.html",category:"Programming/Front",title:"HTML"},{file:"/posts/front/http.html",category:"Programming/Front",title:"HTTP 1.1"},{file:"/posts/front/freemarker/built_in.html",category:"Programming/FreeMarker",title:"Built-in 목록 2.3.28"},{file:"/posts/front/freemarker/programming_guide.html",category:"Programming/FreeMarker",title:"프로그래밍 가이드 2.3.28"},{file:"/posts/front/freemarker/template_guide.html",category:"Programming/FreeMarker",title:"템플릿 작성 가이드 2.3.28"},{file:"/posts/front/freemarker/xml_guide.html",category:"Programming/FreeMarker",title:"XML 처리 가이드 2.3.28"},{file:"/posts/java/android.html",category:"Programming/Java",title:"Android"},{file:"/posts/java/basic.html",category:"Programming/Java",title:"Java 시작하기"},{file:"/posts/java/effective_java.html",category:"Programming/Java",title:"『Effective Java』"},{file:"/posts/java/java_ee.html",category:"Programming/Java",title:"JavaEE"},{file:"/posts/java/javafx.html",category:"Programming/Java",title:"JavaFX"},{file:"/posts/java/jni.html",category:"Programming/Java",title:"Java Native Interface"},{file:"/posts/java/oop.html",category:"Programming/Java",title:"Java 객체지향"},{file:"/posts/java/version.html",category:"Programming/Java",title:"Java 버전별 추가사항"},{file:"/posts/java/performance.html",category:"Programming/Java",title:"JVM 옵션 및 성능 관련사항"},{file:"/posts/java/apache.commons.collections.html",category:"Programming/Java/3rd",title:"Apache Commons Collections 4.4"},{file:"/posts/java/apache.commons.lang.html",category:"Programming/Java/3rd",title:"Apache Commons Lang 3.9"},{file:"/posts/java/apache.commons.math.html",category:"Programming/Java/3rd",title:"Apache Commons Math 3.6.1"},{file:"/posts/java/apache.commons.rng.html",category:"Programming/Java/3rd",title:"Apache Commons RNG Core 1.2"},{file:"/posts/java/jackson.html",category:"Programming/Java/3rd",title:"Jackson 2.10.1"},{file:"/posts/java/gson.html",category:"Programming/Java/3rd",title:"Gson 2.8.6"},{file:"/posts/java/guava.html",category:"Programming/Java/3rd",title:"Guava 23.0"},{file:"/posts/java/lombok.html",category:"Programming/Java/3rd",title:"lombok 1.18.10"},{file:"/posts/java/logback.html",category:"Programming/Java/3rd",title:"Logback with SLF4J"},{file:"/posts/java/java.base.html",category:"Programming/Java/Standard",title:"java.base 12"},{file:"/posts/java/javax.annotation.processing.html",category:"Programming/Java/Standard",title:"Annotation Processing API"},{file:"/posts/java/com.sun.nio.sctp.html",category:"Programming/Java/Standard",title:"com.sun.nio.sctp Since 1.7"},{file:"/posts/javascript/basic.html",category:"Programming/JavaScript",title:"코어 JavaScript"},{file:"/posts/javascript/basic2.html",category:"Programming/JavaScript",title:"브라우저 JavaScript"},{file:"/posts/javascript/jquery.html",category:"Programming/JavaScript",title:"jQuery"},{file:"/posts/javascript/node.html",category:"Programming/JavaScript",title:"Node"},{file:"/posts/python/basic.html",category:"Programming/Python",title:"Python 3.8 시작하기"},{file:"/posts/python/built_in_constant.html",category:"Programming/Python",title:"Python Built-in Constants 3.8"},{file:"/posts/python/built_in_exception.html",category:"Programming/Python",title:"Python Built-in Exceptions 3.8"},{file:"/posts/python/built_in_function.html",category:"Programming/Python",title:"Python Built-in Functions 3.8"},{file:"/posts/python/built_in_type.html",category:"Programming/Python",title:"Python Built-in Types 3.8"},{file:"/posts/python/data_model.html",category:"Programming/Python",title:"Python 3.8 데이터 모델"},{file:"/posts/python/standard.html",category:"Programming/Python",title:"표준 라이브러리"},{file:"/posts/python/persistence.html",category:"Programming/Python",title:"Python Data Persistence"},{file:"/posts/python/pandas.html",category:"Programming/Python",title:"3rd/pandas : 데이터 처리"},{file:"/posts/project/error.html",category:"Project",title:"Exceptions + Errors"},{file:"/posts/project/tip.html",category:"Project",title:"잡다한 팁"},{file:"/posts/project/snippets.html",category:"Project",title:"Code Snippets"},{file:"/posts/project/sf.html",category:"Project",title:"SF; Simplest html Framework"},{file:"/posts/project/wpf_data_tool.html",category:"Project",title:"C#.NET, WPF - 데이터 작업 툴"}],codes:{}};function mutationCallback(e,t){for(let t of e){if("childList"!==t.type)return;addImageOnclick(t.target.querySelectorAll("img")),addCodeBtnOnclick(t.target.querySelectorAll("button.btn-code")),addHoverContents(t.target.querySelectorAll(".hover-content")),convertAsCodeDiv(t.target.querySelectorAll(".as-code"))}}function addImageOnclick(e){for(let t of e)t.onclick||(t.onclick=(e=>function(t){Donggi.openLink(e,"_blank")})(t.src))}function addCodeBtnOnclick(e){for(let t of e){let e=`${(new Date).getTime()}-${Math.random().toString().replace(/\./g,"")}`;t.id="code-button-"+e,t.classList.remove("btn-code"),t.onclick=insertCodeDiv(e)}}function addHoverContents(e){for(let t of e)Donggi.addHoverContent(t,document.getElementById(t.getAttribute("template-id")))}function convertAsCodeDiv(e){for(let t of e){let e=t.innerHTML.trim().replace(/&amp;/gm,"&").replace(/&lt;/gm,"<").replace(/&gt;/gm,">");t.innerHTML="",fillCodeDiv(t,t.getAttribute("lan"),e),t.style.maxHeight=window.innerHeight/2,t.classList.remove("as-code")}}function isNarrow(){return document.getElementById("nav").clientWidth<=600}function updateSidebar(){isNarrow()?closeSidebar():openSidebar(),document.getElementById("sidebar").style.width="333px",new DKFileList("/source/filelist.js","#file-list")}function openSidebar(){document.getElementById("main").style.marginLeft="333px",document.getElementById("sidebar").style.display="block"}function closeSidebar(){document.getElementById("main").style.marginLeft="0",document.getElementById("sidebar").style.display="none"}function toggleSidebar(){"none"==document.getElementById("sidebar").style.display?openSidebar():closeSidebar()}function updatePostList(){posts.list.sort((e,t)=>Donggi.compareString(e.title,t.title)),posts.list.sort((e,t)=>Donggi.compareString(e.category,t.category));let e={posts:[]};for(let t of posts.list){let o=e;for(let e of t.category.split("/"))o.hasOwnProperty(e)||(o[e]={},o[e].posts=[]),o=o[e];o.posts.push(t.title)}let t=URL.createObjectURL(new Blob([Donggi.makeLSlikeText("카테고리",e,"posts")],{type:"text/plain;charset=utf-8;"}));new DKFileList(t,"#post-list",null,!1,(e,t)=>{let o=posts.list.filter(e=>e.title==t)[0];return Donggi.getElementFromText(`<li><a href="${o.file}">${t}</a></li>`)})}function insertDisqusThread(){let parent=document.querySelector("div#contents");if(/dong-gi\.github\.io/i.test(location.host)){if(document.querySelector("div#disqus_thread"))return DISQUS.reset({reload:!0,config:function(){this.page.url="https://dong-gi.github.io"+location.pathname,this.page.identifier=location.pathname}}),void parent.append(document.querySelector("div#disqus_thread"));parent.append(Donggi.getElementFromText('<div id="disqus_thread"></div>')),eval(`var disqus_config = function () {\n            this.page.url = 'https://dong-gi.github.io${location.pathname}';\n            this.page.identifier = '${location.pathname}';\n        };\n        (function() {\n            var d = document, s = d.createElement('script');\n            s.src = 'https://donggi.disqus.com/embed.js';\n            s.setAttribute('data-timestamp', +new Date());\n            document.querySelector('div#disqus_thread').append(s);\n        })();`)}}function updateMarkerList(){let e={markers:[]},t=(new Date).getTime();for(let o of document.querySelectorAll(".marker"))o.setAttribute("marker-id","marker-"+t++),e.markers.push(o.getAttribute("marker-id"));let o=URL.createObjectURL(new Blob([Donggi.makeLSlikeText("컨텐츠",e,"markers")],{type:"text/plain;charset=utf-8;"}));new DKFileList(o,"#marker-list",(e,t)=>{isNarrow()&&closeSidebar();let o=document.querySelector(`.marker[marker-id=${t}]`),r=o;for(;"BODY"!=r.tagName;)"DETAILS"!=r.tagName||r.open||r.querySelector("summary").click(),r=r.parentElement;o.style.animation="",setTimeout((e=>function(){e.style.animation="highlight 2s 1"})(o),139),setTimeout((e=>function(){window.scrollTo({top:e.offsetTop-document.getElementById("nav").clientHeight})})(o),isNarrow()?444:0)},!0,(e,t)=>{let o=document.querySelector(`.marker[marker-id=${t}]`),r=getMarkerName(o),l=Donggi.getElementFromText(`<li class="${o.classList.contains("fake")?"w3-hide":""}" title="${r}" marker-id="${t}">${r.substr(0,25)}</li>`),i=document.querySelector("div#contents"),a=0;for(;o.parentElement!=i;)o=o.parentElement,a+=1;return l.classList.add("margin-left-"+a),l.setAttribute("level",a),l},!1,()=>{let e=[0,0,0,0,0,0,0,0];const t=new Set(["H1","H2","H3","H4","H5","H6"]);for(let o of document.getElementById("marker-list").querySelectorAll("li")){let r=parseInt(o.getAttribute("level"));e[r]++,e.fill(0,r+1);let l=e.filter(e=>e>0).join(".")+". ";o.innerText=`${l}${o.innerText}`;let i=document.querySelector(`.marker[marker-id=${o.getAttribute("marker-id")}]`);t.has(i.tagName)&&(i.innerText=`${l}${i.innerText}`)}})}function getMarkerName(e){let t;switch(e.tagName){case"IMG":t="이미지 : "+e.alt;break;case"TABLE":t="표 : "+e.caption.textContent;break;default:t=e.textContent}return t.replace(/\//gm,"\\")}function queryUpdated(e){13==e.keyCode&&(Donggi.openLink("https://github.com/Dong-gi/Dong-gi.github.io/search?q="+this.value,"_blank"),event.stopPropagation());let t=document.getElementById("query").value,o=t.length<2,r=new RegExp(t,"gmi");return o?document.getElementById("contents").childNodes.forEach((e,t,o)=>!!e.style&&(e.style.display="block")):document.getElementById("contents").childNodes.forEach((e,t,o)=>!!e.style&&(e.style.display=r.test(e.textContent)?"block":"none")),!0}function insertCodeDiv(id){return()=>{if(document.getElementById("code-div-"+id)){let e=document.getElementById("code-div-"+id);Donggi.toggleClass(e,["w3-hide"]),e.style.maxHeight=window.innerHeight/2}else{let button=document.getElementById("code-button-"+id),path=button.title,xhr=new XMLHttpRequest;xhr.addEventListener("load",(button=>function(e){let div=Donggi.getElementFromText(`<div id="code-div-${id}" class="w3-leftbar w3-border-green code-div" style="max-height:${window.innerHeight/2}"></div>`),lan=button.getAttribute("lan");if(200!=this.status&&(this.responseText="Ajax Failed"),posts.codes[id]=this.responseText,fillCodeDiv(div,lan,this.responseText,button.getAttribute("displayRange")),"nohighlight"!=lan){let e=Donggi.getElementFromText('<button class="w3-btn w3-round w3-round-xxlarge w3-small w3-blue">모달로 보기</button>');e.onclick=showModal(id),button.after(e),e.after(div)}else button.after(div);if("javascript"==lan){let script=Donggi.getElementFromText('<button class="w3-btn w3-round w3-round-xxlarge w3-small w3-green">실행</button>');script.onclick=()=>eval(posts.codes[id]),button.after(script)}})(button)),/dong-gi\.github\.io/i.test(location.host)?xhr.open("GET",`${path.startsWith("/")?"":"./"}${path.replace(/ /gm,"%20")}?${(new Date).getTime()}`,!0):xhr.open("GET",`${path.startsWith("/")?"":"./"}${path.replace(/ /gm,"%20")}`,!0),xhr.send()}}}function fillCodeDiv(e,t,o,r){if("nohighlight"!=t){let l=o.replace(/\t/gm,"    ");l=l.replace(/ /gm,"  ");let i=null;i="text"===t?l.split(/\n/gm):hljs.highlight(t,l).value.split(/\n/gm);let a=document.createElement("ol");for(r=(r=JSON.parse(r||"[1, 100000000]")||[1,1e8]).reverse();r.length>0;){let e=r.pop()-1,o=r.pop();for(let r=e;r<o&&r<i.length;++r)if("text"===t){let e=document.createElement("li");e.innerText=i[r].replace(/  /gm," "),a.append(e)}else a.append(Donggi.getElementFromText(`<li>${i[r].replace(/  /gm,"&nbsp;")}</li>`));r.length>0&&a.append(document.createElement("hr"))}e.append(a)}else e.append(Donggi.getNodesFromText(o,"p"))}function showModal(e){return()=>{closeSidebar();let t=document.getElementById("modal-"+e);if(t)return void(t.style.display="block");t=Donggi.getElementFromText(getCodeModalHTML(e,document.getElementById("code-button-"+e).title.split("/").pop()));let o=t.querySelector("header"),r=t.querySelector(".code-modal-body"),l=t.querySelector("footer");document.body.append(t),t.style.display="block",r.innerHTML=document.getElementById("code-div-"+e).innerHTML,r.style.height=window.innerHeight-parseFloat(window.getComputedStyle(o).height),l.querySelector("button.copy").onclick=()=>{Donggi.copyTextToCilpboard(posts.codes[e],t),Donggi.showSnackbar("복사 완료",t),t.focus()},l.querySelector("button.download").onclick=()=>downloadCode(document.getElementById("code-button-"+e).title.split("/").pop(),posts.codes[e]),l.querySelector("button.print").onclick=()=>Donggi.printElement(r);for(let o of t.querySelectorAll(".w3-btn.close"))o.onclick=()=>{document.getElementById("modal-"+e).style.display="none",isNarrow()||openSidebar()}}}function downloadCode(e,t){let o=document.createElement("a"),r=URL.createObjectURL(new Blob([t.trim()],{type:"text/plain;charset=utf-8;"}));o.href=r,o.target="_blank",o.download=e,document.body.append(o),o.click()}function getCodeModalHTML(e,t){return`<div id="modal-${e}" class="w3-modal code-modal">\n    <div class="w3-modal-content">\n        <header class="w3-container">\n            <h2 style="display: inline-block;" class="modal-title">${t}</h2>\n            <span class="w3-btn w3-circle w3-display-topright close" style="color: black; font-size: 1.5em; font-weight: bold;">&times;</span>\n        </header>\n        <div class="w3-container w3-leftbar w3-border-green code-modal-body code-div"></div>\n        <footer class="w3-container w3-display-bottomright">\n            <button class="w3-btn w3-white w3-border w3-border-green w3-round-xlarge copy">Copy</button>\n            <button class="w3-btn w3-white w3-border w3-border-green w3-round-xlarge download">Download</button>\n            <button class="w3-btn w3-white w3-border w3-border-green w3-round-xlarge print">Print</button>\n            <button class="w3-btn w3-white w3-border w3-border-red w3-round-xlarge close">Close</button>\n        </footer>\n    </div>\n</div>`}window.addEventListener("load",()=>{new MutationObserver(mutationCallback).observe(document.body,{attributes:!1,childList:!0,subtree:!0}),mutationCallback([{type:"childList",target:document.body}]),console.log(hljs.listLanguages()),updateSidebar(),updatePostList(),insertDisqusThread(),updateMarkerList(),document.getElementById("query").onkeyup=SF.debounce(queryUpdated,500)});class DKFileList{constructor(e,t,o,r,l,i,a){if(this.target=document.querySelector(t),this.fileAction=o||null,this.openAll=!!r,this.fileHTMLmaker=l||null,this.sort=!!i,this.target.innerHTML="",this.fileMap=new Map,this.rootDir=null,this.callback=a,!this.target)return;let n=new XMLHttpRequest;var s;n.addEventListener("load",(s=this,function(e){if(200!=this.status)return void(s.target.innerHTML="No Data");let t=null;for(let e of this.responseText.replace(/\r/gm,"").split("\n"))e.endsWith(":")?(t=e.slice(0,-1),s.rootDir||(s.rootDir=t),s.fileMap.set(t,[])):e.length>0&&s.fileMap.get(t).push(e);if(this.sort)for(let e of s.fileMap.values())e.sort(Donggi.compareString);console.log(s.fileMap),s.updateFileList(s.rootDir),s.callback&&s.callback(this)})),n.open("GET",e,!0),n.send()}updateFileList(e){let t=document.getElementById("dir-"+e.hashCode());if(e==this.rootDir&&!t)return this.target.append(DKFileList.getDirHTML(e,"",!0)),void this.updateFileList(e);let o=t.querySelector("ul");if(!(o.childElementCount>1))for(let t of this.fileMap.get(e)){let r=`${e}/${t}`;if(this.fileMap.has(r)){for(;this.fileMap.has(r)&&1==this.fileMap.get(r).length&&this.fileMap.has(`${r}/${this.fileMap.get(r)[0]}`);)r=`${r}/${this.fileMap.get(r)[0]}`;if(this.fileMap.get(r).length<1)continue;o.append(DKFileList.getDirHTML(r,e,this.openAll));let t=((e,t)=>function(o){e.updateFileList(t)})(this,r);document.getElementById("dir-"+r.hashCode()).firstChild.onclick=t,this.openAll&&this.updateFileList(r)}else if(this.fileAction){let r=this.fileHTMLmaker?this.fileHTMLmaker(e,t):DKFileList.getFileHTMLwithoutA(e,t);o.append(r);let l=((e,t,o)=>function(r){e.fileAction(t,o)})(this,e,t);r.onclick=l}else o.append(this.fileHTMLmaker?this.fileHTMLmaker(e,t):DKFileList.getFileHTMLwithA(this.rootDir,e,t))}}static getDirHTML(e,t,o){return Donggi.getElementFromText(`<details ${o?"open":""} id="dir-${e.hashCode()}" class="w3-small file-list" title="${e}"><summary>${e.replace(t,"")}</summary><ul></ul></details>`)}static getFileHTMLwithA(e,t,o){let r=`${t.substr(e.length)}/${o}`;return Donggi.getElementFromText(`<li><a href="${r}">${o}</a></li>`)}static getFileHTMLwithoutA(e,t){let o=`${e}/${t}`;return Donggi.getElementFromText(`<li title="${o}">${t}</li>`)}}