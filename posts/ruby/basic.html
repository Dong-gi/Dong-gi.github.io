<html lnag="ko"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="google-site-verification" content="aH-DyzdytYQ0NPHNQFcs5dVoiu5YNs6CEEHYgqDmAFM"><meta name="author" content="Donggi Kim &lt;hi.donggi@gmail.com&gt;"><meta name="keywords" content="Ruby, Tutorial"><meta name="description" content="루비 기초 정리"><title>Ruby Basic</title><link id="w3css" rel="stylesheet" href="/source/w3.css"><link id="highlight-style" rel="stylesheet" href="/source/xcode.css"><link id="default-style" rel="stylesheet" href="/source/default.css"><script id="highlight-js" src="/source/highlight.pack.js"></script><script id="default-js" src="/source/default.min.js"></script><script id="dsq-count-scr" src="//donggi.disqus.com/count.js" async></script><script id="google-ads" data-ad-client="ca-pub-7897366614471210" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><script id="google-analytics" src="https://www.googletagmanager.com/gtag/js?id=UA-143098403-1" async></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-143098403-1');</script></head><body><div id="sidebar" class="w3-bar-block w3-sidebar w3-animate-left"><hr><a href="javascript:closeSidebar();" class="w3-bar-item w3-button">Close &times;</a><hr><div id="marker-list"></div><hr><div id="post-list"></div><hr><div id="file-list"></div><hr></div><div id="main"><div id="nav" style="position:-webkit-sticky;position:sticky;top:0px;vertical-align:middle" class="w3-bar w3-blue w3-large"><button onclick="toggleSidebar()" class="w3-bar-item w3-button w3-hover-theme">&#9776;</button><input id="query" type="text" placeholder="search" style="max-width:35%" class="w3-bar-item"><a href="/" class="w3-bar-item w3-button w3-hover-theme">Home</a></div><div id="contents" class="w3-padding"><h1 class="marker">개요</h1><ul><li>오픈소스, 객체지향, 스크립트 프로그래밍 언어의 일종</li><li><a class="w3-btn w3-round w3-round-xxlarge w3-small w3-green" href="https://www.ruby-lang.org/">www.ruby-lang.org</a></li><li>모든 자료형은 객체로 존재한다</li><li>실행</li><p><strong>↓ shell</strong></p><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ ruby [filename]
$ ruby -e 'code line' [[-e 'code line']...]</div><li>REPL</li><p><strong>↓ shell</strong></p><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ irb
irb(main):001:0> 'hello'
=> "hello"
irb(main):002:0> %x(ls -al)</div><li>종류</li><ul><li>CRuby, MRI(Matz's Ruby Interpreter) : Ruby 참조 구현</li><li>JRuby : JVM에서 동작하며, Java 라이브러리 이용 가능</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">include Java
import java.util.List
# ...</div><li>MacRuby : Objective-C 런타임에서 동작하며, Cocoa 프레임워크 이용 가능</li></ul><li>코딩 규약</li><table><tr><th>분류</th><th>Ruby</th><th>Java</th></tr><tr><td>클래스, 모듈</td><td><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">class MyClass
end

module MyModule
end</div></td><td><p><strong>↓ java</strong></p><div lan="java" class="as-code code-div w3-leftbar w3-border-green">class MyClass {}</div></td></tr><tr><td>메서드</td><td><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">def my_method
end

def open?
    true
end</div></td><td><p><strong>↓ java</strong></p><div lan="java" class="as-code code-div w3-leftbar w3-border-green">void myMethod() {}
boolean isOpen() { return true; }</div></td></tr><tr><td>변수</td><td><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">my_variable = 1</div></td><td><p><strong>↓ java</strong></p><div lan="java" class="as-code code-div w3-leftbar w3-border-green">var myVariable = 1;</div></td></tr></table></ul><h1 class="marker">문법</h1><div><h2 class="marker">스코프</h2><ul><li>Class level</li><li>Module level</li><li>Method level</li><li>Block level</li><li>Top level(앞의 것들 외 나머지)</li></ul><h2 class="marker">문장</h2><ul><li>주석 : #</li><li>라인</li><p>기본적으로 라인 당 식 하나. 여러 식을 한 라인에 기술하려면 ;로 구분</p><li>코드 인코딩 지정</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green"># encoding: utf-8</div></ul><h2 class="marker">제어식</h2><ul><li>if</li><ul><li>false, nil 외의 모든 값은 true로 간주</li><li>마지막 평가된 식의 값을 반환</li></ul><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">if expression1
    # ...
elsif expression2
    # ...
else
    # ...
end
</div></ul><h2 class="marker">변수</h2><ul><li>지역변수 선언에 별도 키워드 필요없음</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">msg = "Hello World"</div><li>전역변수 prefix : $</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">$size = 10  # 전역변수 할당
$not_exists # 존재하지 않는 전역변수 참조는 nil 반환</div><li>상수 : SNAKE_CASE</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">SIZE = 10
SIZE = 20   # 실행됨. Warning 출력</div><li>인스턴스 변수 : @</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">class ClassName
    def length=(length)
        @length = length
    end
    def length
        @length
    end
end

class ClassName
    attr_accessor :length
end
</div></ul><h2 class="marker">메서드</h2><ul><li>메서드 정의</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">def method_name
    # ...
end
def method_name(arg1, arg2, ...)
    # ...
end</div><li>반환값</li><p>기본적으로 마지막 평가된 식의 값이 반환값. 도중에 반환하려면 return 키워드 이용</p><li>메서드 호출 시 괄호 필요없음</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">receiver.method_name arg</div><li>Top level 메서드 호출 시 receiver 필요없음</li><li>메서드 내부에서 receiver를 self 키워드로 참조 가능</li><li>메서드 내부의 receiver 지정없는 메서드 호출은 self를 receiver로 간주</li></ul><h2 class="marker">블록</h2><ul><li>block</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">do |var_name|
    # ...
end</div><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">{|var_name|
    # ...
}
</div></ul><h2 class="marker">클래스</h2><ul><li>클래스 정의</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">class ClassName
end</div><li>생성자 호출</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">var_name = ClassName.new</div><li>생성자 정의</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">class ClassName
    def initialize(arg1, arg2, ...)
        # ...
    end
end</div><li>클래스 메서드 정의</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">class ClassName
    def self.method_name(arg1, arg2, ...)
        # ...
    end
end</div><li>클래스 변수</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">class ClassName
    @@var_name = 10
end</div><li>상속</li><p>상속 관계를 지정하지 않은 클래스는 Object를 상속한다</p><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">class SubClass &lt; SuperClass
    def method_name
        super   # 부모 메서드 호출
        # ...
    end
end
</div></ul><h2 class="marker">모듈</h2><p>인스턴스화 불가. 내부에 다른 모듈 및 클래스 정의 가능</p><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">module MyModule
    class MyClass
    end
end

o = MyModule::MyClass.new
</div><h2 class="marker">내장 자료형</h2><ul><li>수 : Numeric ← Fixnum, Bignum, Float</li><p>0b111, 0777, 0o777, 0xfff, 3.14e+3, 1_234 표기 가능</p><li>문자열 : String</li><ul><li>'', "" 모두 가능하며, ""는 안에 보간식 &#x23;{...} 사용 가능</li><li>여러 줄 문자열(Heredoc)</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">sql = &lt;&lt;SQL  # 식별자는 적절히 변경 가능
select * from table1, table2
where
    table1.col1 = table2.col2 and
    table1.col2 > &#x23;{size}
SQL</div><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">text = &lt;&lt;'TEXT'
    \이스케이프되지 않음
    &#x23;{보간식} 평가하지 않음
TEXT</div><li>% String</li><ul><li>괄호로 (), [], {}, &lt;> 사용 가능</li><p>또는 임의 non-alphanumeric 문자 사용 가능</p><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">%|123| == '123'</div><li>소문자 : 보간식 평가 x, \이스케이프 x</li><li>%q : 문자열</li><li>%s : 심볼</li><li>%r : 정규식</li><li>%x : Shell 명령 실행 결과</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">%x(ls -al)</div><li>%i : Array of Symbols</li><li>%w : Array of Strings</li></ul></ul><li>심볼</li><p>:로 시작하는 변경 불가능한 문자열. 식별자로 사용 불가능한 문자를 포함하는 경우 따옴표 사용 필요</p><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">:my_simbol
:'my-simbol'</div><li>배열 : []</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">arr = [0, 1, 2, 3]
arr[10]      # nil
arr[-1]      # 음수 인덱스 가능
arr[10] = 10 # 중간은 nil로 채워진다

%w(word1 word2 word3)       # 문자열 배열
%i(symbol1 symbol2 symbol3) # 심볼 배열</div><li>해시</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">scores = {
    'name1' => 10,
    'name2' => 20,
    :symbol1 => 100
}
scores['name3'] = 30
scores['anonymous'] # nil

symbol_only = {s1: 1, s2: 2, s3: 3}</div><li>range</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">(1..5)      # 1, 2, 3, 4, 5
(1...5)     # 1, 2, 3, 4

Time.at(from)..Time.at(to)
('a'..'f')</div><li>정규식; RegExp</li><p><strong>↓ ruby</strong></p><div lan="ruby" class="as-code code-div w3-leftbar w3-border-green">pattern = /\d+/
pattern = %r(/var/log/tomcat/.+) # 보간식 사용 가능</div></ul></div></div><hr>&copy; 2020. <a href="mailto:hi.donggi@gmail.com">Donggi Kim</a> all rights reserved.<a class="w3-btn w3-round w3-round-xxlarge w3-small w3-green" href="/LICENSE">LICENSE</a></div></body></html>