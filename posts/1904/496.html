FreeMarker 매뉴얼 2.3.28

https://freemarker.apache.org/docs/index.html

1. 템플릿 작성 가이드
시작하기
    템플릿은 임의의 텍스트 파일이 될 수 있다. HTML로 한정되지 않는다. 출력 텍스트의 아래 요소들이 FreeMarker로 처리된다. 나머지는 있는 그대로 출력된다.
    
    * ${...} : FreeMarker는 출력 텍스트에서 이 부분을 중괄호 안 표현식의 값으로 치환한다. Interpolation이라고 부른다.
    * FTL(FreeMarker Template Language) 태그 = directive : HTML 태그와 유사하지만, #으로 시작한다. 사용자 정의 태그는 @으로 시작한다. 출력에 포함되지 않는다.
    * 주석 : &lt;#-- --&gt;. HTML 주석과 다르게 출력에 포함되지 않는다.

    Directive 예 : &lt;#if&gt;, &lt;#elseif&gt;, &lt;#else&gt;, ...
    Built-in 예 : ?upper_case, ?length, ?size, ...
    * built-in : FreeMarker 데이터 모델이 지원하는 메서드.

    FreeMarker는 null 예외나 찾을 수 없는 식별자 예외를 동일하게 취급한다. » "undefined variable" error 발생
    * 기본값 설정 예 : ${name!"Anonymous"}
    * 존재 여부 확인 예 : &lt;#if name??&gt;Hello ${name}!&lt;/#if&gt;
    * a.b.c! 또는 a.b.c??는 c의 존재 여부만 체크하지만, (a.b.c)! 또는 (a.b.c)??는 데이터 모델 구조상 모든 노드의 존재 여부를 체크한다.

    이스케이프
        적절히 설정되었다면 ${...}을 통해 출력되는 &amp;, &lt;, &gt;, &quot;, &#39; 등은 자동으로 이스케이프 처리된다.
        .ftlh 파일을 이용하면 HTML에 맞추어 자동으로 이스케이프 처리된다.
        .ftlx 파일을 이용하면 XML에 맞추어 자동으로 이스케이프 처리된다.

타입
    Scalar
        String : 문자열 리터럴은 "", '' 둘 다 이용 가능.
        Number : 단일 숫자 타입을 이용하기 때문에, 3/2가 1로 평가되는 일은 없다.
        Boolean : true or false
        Date : Date | Time | Date-time

    Container
        Hash : (String 키, 임의 값) 쌍 저장.
        Sequence : 요소들을 일렬로 저장. 0부터 시작하는 인덱스 존재. 요소들의 타입을 같지 않아도 된다.
        Collection : 제한된 sequence로 크기에 접근할 수 없고, 인덱스 참조도 안 되지만 &lt;#list&gt;에 이용될 수 있다.
        * Hash인 동시에 Sequence일 수 있다.
    
    Subroutines
        FreeMarker에서 method/function은 일급 객체다.
        사용자 정의 directive 역시 subroutine이며, 일급 객체다.

템플릿
    