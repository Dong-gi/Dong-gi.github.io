<!DOCTYPE html><html lang="ko-KR"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"><title>MongoDB</title><link rel="stylesheet" href="/source/default.css"><meta name="google-site-verification" content="aH-DyzdytYQ0NPHNQFcs5dVoiu5YNs6CEEHYgqDmAFM"><meta name="author" content="Donggi Kim &lt;hi.donggi@gmail.com&gt;"><meta name="description" content="MongoDB 정리"><link rel="icon" href="/imgs/favicon.png"><script id="highlight-js" src="/source/highlight.pack.js" async></script><script id="default-js" src="/source/default.min.js" defer></script><script id="google-analytics" src="https://www.googletagmanager.com/gtag/js?id=UA-143098403-1" async></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-143098403-1');
</script></head><body><aside class="w3-animate-left" id="sidebar"><hr><div id="marker-list"></div><hr><div id="post-list"></div><hr><details class="w3-small"><summary>LICENSE</summary><table class="w3-table-all w3-card w3-small"><tr><td>Author</td><td>License</td></tr><tr><td>&copy; <a href="mailto:hi.donggi@gmail.com">Donggi Kim</a></td><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/Dong-gi/Dong-gi.github.io/blob/master/LICENSE">MIT</a></td></tr><tr><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://www.w3schools.com/w3css">w3css</a></td><td>No license</td></tr><tr><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://highlightjs.org/">highlight.js</a></td><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/highlightjs/highlight.js/blob/main/LICENSE">BSD-3-Clause</a></td></tr><tr><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/mathjax/MathJax">MathJax</a></td><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/mathjax/MathJax/blob/master/LICENSE">Apache-2.0</a></td></tr><tr><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/davidshimjs/qrcodejs">QRCode.js</a></td><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/davidshimjs/qrcodejs/blob/master/LICENSE">MIT</a></td></tr><tr><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/terrastruct/d2">D2</a></td><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/terrastruct/d2/blob/master/LICENSE.txt">MPL-2.0</a></td></tr></table></details><hr></aside><main id="main"><nav class="w3-bar w3-blue" id="nav"><button class="w3-bar-item w3-button w3-hover-theme" id="nav-toggle-btn" type="button" aria-label="Toggle navigation menu" title="Toggle navigation menu">&#9776;</button><form role="search"><input class="w3-bar-item" id="query" type="search" placeholder="search" style="max-width:35%"></form><a class="w3-bar-item w3-button w3-hover-theme" href="/">Home</a></nav><article id="contents"><h1>MongoDB</h1><ol><li>NoSQL 데이터베이스의 한 종류. 데이터를 BSON(Binary JSON)으로 취급하며, SQL을 지원하지 않는다<table class="w3-table-all w3-card w3-small"><caption><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://docs.mongodb.com/manual/reference/sql-comparison/">SQL comparison</a></caption><tr><th>RDBMS</th><th>MongoDB</th></tr><tr><td>Table</td><td>Collection</td></tr><tr><td>Tuple, Row</td><td>Document</td></tr><tr><td>Join</td><td>Embedding, Linking</td></tr></table></li><li>설치 : <a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://docs.mongodb.com/manual/installation/">https://docs.mongodb.com/manual/installation/</a><p><strong>↓ 서버 직접 실행</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="shell">$ mongod --fork -f /etc/mongod.conf</div></li><li>최대 쿼리 결과 크기는 BSON 문서가 허용하는 16MB<p>이를 초과하는 문서가 필요하다면 GridFS API를 이용. mongofiles 명령 또는 드라이버 참고</p></li></ol><h1>BSON Specification</h1><p>참고 자료 : <a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="http://bsonspec.org/spec.html">spec</a></p><ol><li>Basic Types<table class="w3-table-all w3-card w3-small"><tr><th>type</th><th>size(bytes)</th></tr><tr><td>byte</td><td>1</td></tr><tr><td>int32</td><td>4(signed, 2의 보수)</td></tr><tr><td>int64</td><td>8(signed, 2의 보수)</td></tr><tr><td>uint64</td><td>8(unsigned)</td></tr><tr><td>double</td><td>8(IEEE 754-2008)</td></tr><tr><td>decimal128</td><td>16(IEEE 754-2008)</td></tr></table></li><li>Non-terminals<table class="w3-table-all w3-card w3-small"><tr><th></th><th></th><th></th><th></th><th>mongo alias</th></tr><tr><td>document</td><td>::=</td><td>int32 e_list "\x00"</td><td>BSON 객체. int32는 문서의 바이트 크기</td><td></td></tr><tr><td>e_list</td><td>::=</td><td>element e_list</td><td></td><td></td></tr><tr><td></td><td>|</td><td>""</td><td></td><td></td></tr><tr><td>element</td><td>::=</td><td>"\x01" e_name double</td><td></td><td>double</td></tr><tr><td></td><td>|</td><td>"\x02" e_name string</td><td>UTF-8 string</td><td>string</td></tr><tr><td></td><td>|</td><td>"\x03" e_name document</td><td>Embedded document</td><td>object</td></tr><tr><td></td><td>|</td><td>"\x04" e_name document</td><td><span class="hover-content" template-id="template-mongodb-bson-array">Array</span></td><td>array</td></tr><tr><td></td><td>|</td><td>"\x05" e_name binary</td><td>Binary data</td><td>binData</td></tr><tr><td></td><td>|</td><td>"\x06" e_name</td><td>Deprecated</td><td>undefined</td></tr><tr><td></td><td>|</td><td>"\x07" e_name (byte*12)</td><td>4바이트 시각 + 5바이트 랜덤 + 3바이트 카운터</td><td>objectId</td></tr><tr><td></td><td>|</td><td>"\x08" e_name "\x00"</td><td>Boolean "false"</td><td>bool</td></tr><tr><td></td><td>|</td><td>"\x08" e_name "\x01"</td><td>Boolean "true"</td><td>bool</td></tr><tr><td></td><td>|</td><td>"\x09" e_name int64</td><td>UTC datetime(밀리초)</td><td>date</td></tr><tr><td></td><td>|</td><td>"\x0A" e_name</td><td>Null</td><td>null</td></tr><tr><td></td><td>|</td><td>"\x0B" e_name cstring cstring</td><td>각각 정규표현식 패턴,<span class="hover-content" template-id="template-mongodb-bson-regex-option">옵션(알파벳 순)</span></td><td>regex</td></tr><tr><td></td><td>|</td><td>"\x0C" e_name string (byte*12)</td><td>Deprecated</td><td>dbPointer</td></tr><tr><td></td><td>|</td><td>"\x0D" e_name string</td><td>JavaScript code</td><td>javascript</td></tr><tr><td></td><td>|</td><td>"\x0E" e_name string</td><td>Deprecated</td><td>symbol</td></tr><tr><td></td><td>|</td><td>"\x0F" e_name code_w_s</td><td>JavaScript code w/ scope</td><td>javascriptWithScope</td></tr><tr><td></td><td>|</td><td>"\x10" e_name int32</td><td>32-bit integer</td><td>int</td></tr><tr><td></td><td>|</td><td>"\x11" e_name uint64</td><td>Timestamp</td><td>timestamp</td></tr><tr><td></td><td>|</td><td>"\x12" e_name int64</td><td></td><td>long</td></tr><tr><td></td><td>|</td><td>"\x13" e_name decimal128</td><td></td><td>decimal</td></tr><tr><td></td><td>|</td><td>"\xFF" e_name</td><td><span class="hover-content" template-id="template-mongodb-min-key">Min key</span></td><td>minKey</td></tr><tr><td></td><td>|</td><td>"\x7F" e_name</td><td><span class="hover-content" template-id="template-mongodb-max-key">Max key</span></td><td>maxKey</td></tr><tr><td>e_name</td><td>::=</td><td>cstring</td><td>Key name</td><td></td></tr><tr><td>string</td><td>::=</td><td>int32 (byte*) "\x00"</td><td>UTF8 문자열. int32는 바이트 길이(\x00 포함)</td><td></td></tr><tr><td>cstring</td><td>::=</td><td>(byte*) "\x00"</td><td>Modified UTF8 문자열</td><td></td></tr><tr><td>binary</td><td>::=</td><td>int32 subtype (byte*)</td><td>int32는 (byte*) 바이트 길이</td><td></td></tr><tr><td>subtype</td><td>::=</td><td>"\x00"</td><td>Generic binary subtype</td><td></td></tr><tr><td></td><td>|</td><td>"\x01"</td><td>Function</td><td></td></tr><tr><td></td><td>|</td><td>"\x02"</td><td>Binary (Old)</td><td></td></tr><tr><td></td><td>|</td><td>"\x03"</td><td>UUID (Old)</td><td></td></tr><tr><td></td><td>|</td><td>"\x04"</td><td>UUID</td><td></td></tr><tr><td></td><td>|</td><td>"\x05"</td><td>MD5</td><td></td></tr><tr><td></td><td>|</td><td>"\x06"</td><td>Encrypted BSON value</td><td></td></tr><tr><td></td><td>|</td><td>"\x80"</td><td>User defined</td><td></td></tr><tr><td>code_w_s</td><td>::=</td><td>int32 string document</td><td>Code w/ scope</td><td></td></tr></table></li></ol><h1>mongo Shell</h1><ul><li>mongo<p><strong>↓ shell</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="shell">$ mongo --port 28015          # 기본 포트 27017
$ mongo "mongodb://host:port"
$ mongo --password "mongodb://username@host:port"
$ mongo --ssl --host replA/mongodb0.example.com.local:27017,mongodb1.example.com.local:27017,mongodb2.example.com.local:27017

$ mongo localhost:27017 file.js
# or
> load("file.js")</div></li><li>find(), aggregate() 쿼리 결과는 기본 101개로 제한된다<ol><li>find().batchSize(size)로 기본 배치 크기 변경 가능<p>그러하더라도 배치 당 16MB 제한은 벗어날 수 없다</p></li><li>cursor.next() 호출로 자동으로 getMore 연산이 수행되어 나머지 결과도 가져온다</li><li>cursor.objsLeftInBatch()로 배치에 남은 문서 수 확인 가능</li></ol></li><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://docs.mongodb.com/manual/reference/method/">메서드</a><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://docs.mongodb.com/manual/reference/operator/query/">연산자</a><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://docs.mongodb.com/manual/core/transactions/">트랜잭션</a><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://docs.mongodb.com/manual/reference/aggregation-variables/">Aggregation variables</a></li></ul><div><h2>help</h2><table class="w3-table-all w3-card w3-small"><tr><td>db.help()</td><td>db 메서드 목록</td></tr><tr><td>db.mycoll.help()</td><td>collection 메서드 목록</td></tr><tr><td>sh.help()</td><td>sharding 메서드 목록</td></tr><tr><td>rs.help()</td><td>replica set 메서드 목록</td></tr><tr><td></td><td></td></tr><tr><td>help admin</td><td>파일시스템 접근, 프로세스 실행 명령 목록</td></tr><tr><td><span class="hover-content" template-id="template-mongodb-help-connect">help connect</span></td><td></td></tr><tr><td><span class="hover-content" template-id="template-mongodb-help-misc">help misc</span></td><td></td></tr><tr><td>help mr</td><td>mapreduce</td></tr><tr><td></td><td></td></tr><tr><td>show dbs // db.adminCommand('listDatabases')</td><td>DB 목록</td></tr><tr><td>show collections // db.getCollectionNames()</td><td>현재 DB의 컬렉션 목록</td></tr><tr><td>show users // db.getUsers()</td><td>현재 DB의 유저 목록</td></tr><tr><td>show logs // db.adminCommand({'getLog': '*'})</td><td>로거 목록</td></tr><tr><td>show log [name] // db.adminCommand({'getLog': 'name'})</td><td>로그 출력. name 기본값은 'global'</td></tr><tr><td></td><td></td></tr><tr><td>db</td><td>현재 사용 중인 DB</td></tr><tr><td>use dbName // db.getSiblingDB('dbName')</td><td>DB 선택</td></tr><tr><td>it // cursor = db.collName.find()</td><td>직전 find() 이터레이터 참조</td></tr><tr><td>DBQuery.shellBatchSize = x</td><td>한번에 표시할 항목 수 변경</td></tr><tr><td>print()</td><td>콘솔 출력</td></tr><tr><td>printjson()</td><td>print(tojson(x))</td></tr><tr><td>edit functionName</td><td>함수 편집</td></tr><tr><td>exit</td><td></td></tr></table><h2>db.mycoll.find().help()</h2><div><h3>find([object predicate][, object projection])</h3><p><strong>↓ javascript</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="javascript">let coll = db.myCollection;</div><table class="w3-table-all w3-card w3-small"><tr><td>coll.find()</td><td>select *</td></tr><tr><td>coll.find({lv: 1})</td><td>select * where lv = 1</td></tr><tr><td>coll.find({item: null})</td><td>item 속성이 null이거나 없으면 해당</td></tr><tr><td>coll.find({item: {$type: 10}})</td><td>item 속성이 BSON 타입 10(Null)이면 해당</td></tr><tr><td>coll.find({item: {$type: "array"}})</td><td>item 속성이 배열이면 해당</td></tr><tr><td>coll.find({item: {$exists: false}})</td><td>item 속성이 없으면 해당</td></tr><tr><td>coll.find({leaderCard.lv: 1})</td><td>select * where leaderCard.lv = 1</td></tr><tr><td>coll.find({tags: ["red", "blank"]})</td><td>길이 및 원소 순서가 정확히 일치해야 함</td></tr><tr><td>coll.find({tags: {$all: ["red", "blank"]}})</td><td>'red', 'blank' 두 개 모두 포함하기만 하면 됨</td></tr><tr><td>coll.find({arr: {$elemMatch: {$gt: 22, $lt: 30}}})</td><td>배열 원소 하나라도 모든 조건을 충족하면 됨</td></tr><tr><td>coll.find({"arr.0": {$gt: 22}})</td><td>arr[0]이 모든 조건을 충족하면 됨</td></tr><tr><td>coll.find({arr: {$size: 3}})</td><td>arr.length == 3</td></tr><tr><td>coll.find({lv: {$gt: 1}})</td><td>select * where lv > 1</td></tr><tr><td>coll.find({$or: [{status: "A"}, {qty: {$lt: 30}}]})</td><td>select * where status = 'A' or qty &lt; 30</td></tr><tr><td>coll.find({status: {$in: ["A", "D"]}})</td><td>select * where status in ('A', 'D')</td></tr><tr><td>coll.find({}, {_id: 0})</td><td>Projection; _id 속성은 제외</td></tr><tr><td>coll.find({}, {'leaderCard.lv': 1})</td><td>Projection; 특정 내부 속성 포함</td></tr><tr><td>coll.find().sort({lv: 1})</td><td>1(오름차순), -1(내림차순)</td></tr><tr><td>coll.find().limit(10)</td><td></td></tr><tr><td>coll.findOne()</td><td>== limit(1)</td></tr><tr><td>coll.find().count()</td><td>limit(), skip() 무시</td></tr><tr><td>coll.find().size()</td><td>limit(), skip() 적용</td></tr></table><h3>Cursor methods</h3><p>db.mycoll.find()는 이터레이터(Cursor)를 반환한다. 단, mongo 셸에서 var 변수에 할당하지 않은 경우 자동으로 결과를 출력하고 끝냄에 유의</p><table class="w3-table-all w3-card w3-small"><tr><td>cursor.forEach()</td><td></td></tr><tr><td>cursor.toArray()</td><td>커서를 모두 순회하고 메모리에 올린다</td></tr><tr><td>cursor.noCursorTimeout()</td><td>이 경우 커서를 모두 순회하거나, 수동으로 close()를 호출해야만 한다</td></tr></table></div><h2>db.mycoll.help()</h2><p><strong>↓ javascript</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="javascript">let coll = db.myCollection;</div><table class="w3-table-all w3-card w3-small"><tr><td>coll.insertOne() Since 3.2</td><td>1개 추가</td></tr><tr><td>coll.insertMany() Since 3.2</td><td>배열 요소 전부 추가</td></tr><tr><td>coll.insert()</td><td>document 하나 또는 배열</td></tr><tr><td>coll.updateOne(filter, update, options) Since 3.2</td><td><ul><li>1개 변경<p><strong>↓ javascript</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="javascript">updateOne({_id: 10}, {$set: {calc: 5}}) // update set calc = 5
{$inc: {calc: 5}} // set calc = calc + 5
{$currentDate: {updDate: true}} // set updDate = now()</div></li><li>옵션에 upsert: true가 있으면 없을 시 삽입</li><li>Since 4.2 갱신 연산에서 Aggregation pipeline 및 aggregation variable 사용 가능<p><strong>↓ javascript</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="javascript">{$set: {modified: "$$NOW"}}</div><p><strong>↓ javascript</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="javascript">{$set: {grade: {$switch: {
    branches: [
        { case: { $gte: [ "$avgScore", 90 ] }, then: "A" },
        { case: { $gte: [ "$avgScore", 80 ] }, then: "B" }
    ], default: "F"
}</div><p><strong>↓ javascript</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="javascript">{$set: {myArr: {$concatArrays: ["$myArr", [8, 6]]}}}</div></li></ul></td></tr><tr><td>coll.updateMany(filter, update, options) Since 3.2</td><td>여러 개 변경</td></tr><tr><td>coll.replaceOne(filter, update, options) Since 3.2</td><td>1개 대치. _id는 변경되지 않는다</td></tr><tr><td>coll.deleteOne() Since 3.2</td><td>1개 삭제</td></tr><tr><td>coll.deleteMany() Since 3.2</td><td>여러 개 삭제</td></tr><tr><td>coll.drop()</td><td>전부 삭제</td></tr><tr><td><span class="hover-content" template-id="template-mongodb-bulk-write">coll.bulkWrite()</span></td><td>insertOne, updateOne, updateMany, replaceOne, deleteOne, deleteMany 혼용</td></tr><tr><td>coll.createIndex()</td><td>인덱스가 없으면 생성</td></tr><tr><td>db.getSiblingDB()</td><td>현재 연결을 변경하지 않고 다른 DB 연결 획득</td></tr><tr><td>coll.renameCollection('newName')</td><td></td></tr></table></div><h1>Aggregation</h1><ul><li>aggregate<p><strong>↓ javascript</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="javascript">db.mycoll.aggregate([
    {$match: {grade: 'A'}},
    {$group: {total: {$sum: "$amount"}}}
])</div></li><li>mapReduce<p><strong>↓ javascript</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="javascript">db.mycoll.mapReduce(mappingFunc, reduceFunc, {query: filterObj, out: "outName"})

db.mycoll.mapReduce(
    function() { emit(groupKey, value); },
    function(key, values) { return aggrValue; }
)

// 예 ↓
for(let i = 0; i &lt; 50; ++i) db.test.insertOne({num: i})
db.test.mapReduce(
    function() { emit(this.num % 5, this.num); },
    function(key, values) { return Array.join(values); },
    { out: 'result' }
).find()
// { "_id" : 0, "value" : "0,5,10,15,20,25,30,35,40,45" }
// { "_id" : 1, "value" : "1,6,11,16,21,26,31,36,41,46" }
// { "_id" : 2, "value" : "2,7,12,17,22,27,32,37,42,47" }
// { "_id" : 3, "value" : "3,8,13,18,23,28,33,38,43,48" }
// { "_id" : 4, "value" : "4,9,14,19,24,29,34,39,44,49" }</div></li><li>estimatedDocumentCount<p><strong>↓ javascript</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="javascript">db.mycoll.estimatedDocumentCount()</div></li><li>count<p><strong>↓ javascript</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="javascript">db.mycoll.count()</div></li><li>distinct<p><strong>↓ javascript</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="javascript">db.mycoll.distinct([string field][, object query][, object options])</div></li></ul><div class="w3-container w3-leftbar w3-border-green w3-white hover-template" id="template-mongodb-bson-regex-option"><table class="w3-table-all w3-card w3-small"><tr><td>i</td><td>대소문자 구별X</td></tr><tr><td>m</td><td>여러 줄 매칭</td></tr><tr><td>x</td><td>verbose</td></tr><tr><td>l</td><td>로캐일에 따른 \w, \W 등의 해석</td></tr><tr><td>s</td><td>'.'이 임의 문자 매칭</td></tr><tr><td>u</td><td>\w, \W 등이 유니코드에 따라 매칭</td></tr></table></div><div class="w3-container w3-leftbar w3-border-green w3-white hover-template" id="template-mongodb-bson-array">예. ['red', 'blue']는 {'0': 'red', '1': 'blue'}로 표현된다</div><div class="w3-container w3-leftbar w3-border-green w3-white hover-template" id="template-mongodb-min-key">항상 다른 것보다 작다고 간주됨</div><div class="w3-container w3-leftbar w3-border-green w3-white hover-template" id="template-mongodb-max-key">항상 다른 것보다 크다고 간주됨</div><div class="w3-container w3-leftbar w3-border-green w3-white hover-template as-code" id="template-mongodb-help-connect" lan="javascript">const mongo = new Mongo('host[:port]');
const mydb = mongo.getDB('mydb');
//  or
const mydb2 = connect('host[:port]/mydb2');</div><div class="w3-container w3-leftbar w3-border-green w3-white hover-template as-code" id="template-mongodb-help-misc" lan="javascript">b = new BinData(subtype,base64str)  // new BSON BinData
b = HexData(subtype,hexstr)         // BSON BinData from a hex string
b = UUID(hexstr)                    // BSON BinData of UUID subtype
b = MD5(hexstr)                     // BSON BinData of MD5 subtype
b.subtype(), b.length(), b.hex(), b.base64(), b.toString()
"hexstr"                            // 0x 접두 필요없이 [0-9a-fA-F]를 나열
o = new ObjectId()                  // ObjectId
o.getTimestamp(), o.isObjectId, o.toString(), o.equals(otherid)
d = ISODate()                       // like Date() but behaves more intuitively when used
d = ISODate('YYYY-MM-DD hh:mm:ss')  // without an explicit "new " prefix on construction</div><div class="w3-container w3-leftbar w3-border-green w3-white hover-template as-code" id="template-mongodb-bulk-write" lan="javascript">coll.bulkWrite([
    {
        insertOne:
            {
                "document": { "_id": 4, "char": "Dithras", "class": "barbarian", "lvl": 4 }
            }
    }, {
        insertOne:
            {
                "document": { "_id": 5, "char": "Taeln", "class": "fighter", "lvl": 3 }
            }
    }, {
        updateOne:
            {
                "filter": { "char": "Eldon" },
                "update": { $set: { "status": "Critical Injury" } }
            }
    }, {
        deleteOne:
            { "filter": { "char": "Brisbane" } }
    }, {
        replaceOne:
            {
                "filter": { "char": "Meldane" },
                "replacement": { "char": "Tanys", "class": "oracle", "lvl": 4 }
            }
    }
]);</div></article></main></body></html>