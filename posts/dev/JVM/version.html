<!DOCTYPE html><html lang="ko-KR"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Java 버전</title><link rel="stylesheet" href="/source/default.css"><meta name="google-site-verification" content="aH-DyzdytYQ0NPHNQFcs5dVoiu5YNs6CEEHYgqDmAFM"><meta name="author" content="Donggi Kim &lt;hi.donggi@gmail.com&gt;"><meta name="description" content="Java 버전별 추가사항 정리"><link rel="icon" href="/imgs/favicon.png"><script id="google-analytics" src="https://www.googletagmanager.com/gtag/js?id=UA-143098403-1" async></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-143098403-1');</script><script id="highlight-js" src="/source/highlight.pack.js" defer></script><script id="default-js" src="/source/default.min.js" defer></script></head><body><aside class="w3-animate-left" id="sidebar"><hr><div id="marker-list"></div><hr><div id="post-list"></div><hr><details class="w3-small file-list"><summary>LICENSE</summary><table><tr><td>Author</td><td>License</td></tr><tr><td>&copy; <a href="mailto:hi.donggi@gmail.com">Donggi Kim</a></td><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/Dong-gi/Dong-gi.github.io/blob/master/LICENSE">MIT</a></td></tr><tr><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://www.w3schools.com/w3css">w3css</a></td><td>No license</td></tr><tr><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://highlightjs.org/">highlight.js</a></td><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/highlightjs/highlight.js/blob/main/LICENSE">BSD-3-Clause</a></td></tr><tr><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/mathjax/MathJax">MathJax</a></td><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/mathjax/MathJax/blob/master/LICENSE">Apache-2.0</a></td></tr><tr><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/davidshimjs/qrcodejs">QRCode.js</a></td><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/davidshimjs/qrcodejs/blob/master/LICENSE">MIT</a></td></tr><tr><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/terrastruct/d2">D2</a></td><td><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://github.com/terrastruct/d2/blob/master/LICENSE.txt">MPL-2.0</a></td></tr></table></details><hr></aside><main id="main"><nav class="w3-bar w3-blue" id="nav"><button class="w3-bar-item w3-button w3-hover-theme" id="nav-toggle-btn">&#9776;</button><form role="search"><input class="w3-bar-item" id="query" type="search" placeholder="search" style="max-width:35%"></form><a class="w3-bar-item w3-button w3-hover-theme" href="/">Home</a></nav><article id="contents"><h1>Java 8</h1><ul><li>람다 표현식 추가</li><li>인터페이스에 Default method 정의 가능</li></ul><div><h2>Stream</h2><ul><li>Collection, Array » Stream 생성 » 중간 연산 » 최종 연산 <button class="w3-btn w3-round-xxlarge w3-small w3-teal btn-code" title="/Repositories/Single/tutorial/StreamExample.java" lan="java">StreamExample.java</button></li><p>스트림 연산은 새로운 스트림을 반환하며, 연산이 끝난 스트림을 재사용할 수 없다</p><li>Parallel stream » 멀티 코어 프로세싱 가능</li><p>ForkJoinPool을 이용해 작업 분할</p><li>lazy evaluation : 최종연산 없이는 중간연산을 실행하지 않음</li></ul></div><h1>Java 9</h1><ol><li>REPL로 JShell이 추가되었다 : 코드를 한줄씩 실행하면서 검사할 수 있다<a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://docs.oracle.com/javase/9/jshell/toc.htm">guide</a></li><li>try-with-resources 구문 변동 : final한(final 변수 or 변수 초기화 후 변경 없음) resource는 별개의 선언 없이 그대로 이용할 수 있다<button class="w3-btn w3-round-xxlarge w3-small w3-teal btn-code" title="/Repositories/Single/tutorial/TryWithResource.java" lan="java">TryWithResource.java</button></li><li>타입 추론 강화로 diamond 연산자 &lt;>가 익명 클래스도 지원</li><li>"_"는 더 이상 유효한 식별자가 아니게 되었다</li><li>private 인터페이스 메서드 정의 가능</li></ol><div><h2>Java Platform Module System(JPMS) 도입</h2><ol><li>모듈 : 패키지 집합의 응집도가 충분하다면, 모듈로 그룹화될 수 있다</li><ul><li>Ordinary compilation unit; 일반 컴파일 단위(일반 .java 파일) 정의</li><p><strong>↓ text</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="text">[패키지 정의]
{임포트 선언}
{타입(클래스, 인터페이스 등) 정의}</div><li>이름 있는 모듈에 연관되지 않는 ordinary compilation unit들은 모두 하나의 익명 모듈에 연관된다</li></ul><li>모듈 컴파일 단위 정의</li><p><strong>↓ text</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="text">{임포트 선언}
모듈 정의</div><li>모듈 정의</li><p><strong>↓ text</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="text">{Annotation}
[open] module ModuleName {
    {ModuleDirective}
}</div><ul><li>모듈 이름은 패키지처럼 하나 이상의 자바 식별자를 '.'으로 구분하여 나타낸다</li><li>open 한정자가 없으면 일반 모듈 : 컴파일타임과 런타임에 명시적으로 export된 패키지들에 대한 권한만 외부에 부여</li><li>open 한정자가 있는 열린 모듈 : 컴파일타임엔 명시적으로 export된 것만, 런타임엔 모든 패키지에 대한 권한을 외부에 부여</li><li>Reflection을 통해서도 같은 접근 권한을 얻을 수 있다</li></ul><li>모듈 명세; ModuleDirective 정의</li><p><strong>↓ text</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="text">requires { RequiresModifier } ModuleName;           // 모듈 의존성
exports PackageName [to ModuleName {, ModuleName}]; // 외부에서 접근할 수 있는 패키지
opens PackageName [to ModuleName {, ModuleName}];   // 외부에서 접근할 수 있는 패키지
uses TypeName;                                      // 사용하는 서비스
provides TypeName with TypeName {, TypeName};       // 제공하는 서비스</div><li>RequiresModifier : transitive | static</li><ul><li>transitive : 외부에서 의존하는 모듈은 transitive 키워드가 붙은 모듈도 의존한다</li><li>static : 컴파일 타임엔 항상 의존성을 갖고, 런타임엔 선택적</li></ul><li>java.base 모듈은 최상의 모듈로, 아무런 의존성이 없다</li></ol><h2>모듈 예시 코드<a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://wiki.eclipse.org/Java9/Examples">참고자료</a></h2><ol><li>먼저, 결과물의 디렉터리 구조를 보면 src 루트에 module-info.java가 존재함을 볼 수 있다</li><figure class="w3-center w3-margin-bottom"><img class="w3-round" src="/imgs/20180827_230700.png" alt="Can't load image" loading="lazy"><figcaption>&lt;20180827_230700.png></figcaption></figure><button class="w3-btn w3-round-xxlarge w3-small w3-teal btn-code" title="/Repositories/Eclipse/TestModule1/src/module-info.java" lan="java">TestModule1/src/module-info.java »</button><li>second라는 이름의 모듈이 필요함을 정의했고, second 모듈을 찾기 위해서 TestModule2 프로젝트를 참조하도록 설정해야 한다</li><figure class="w3-center w3-margin-bottom"><img class="w3-round" src="/imgs/20180827_230710.png" alt="Can't load image" loading="lazy"><figcaption>&lt;20180827_230710.png></figcaption></figure><li>second 모듈에서는 hello 패키지를 외부에서 사용할 수 있게 정의</li><button class="w3-btn w3-round-xxlarge w3-small w3-teal btn-code" title="/Repositories/Eclipse/TestModule2/src/module-info.java" lan="java">TestModule2/src/module-info.java »</button><li><button class="w3-btn w3-round-xxlarge w3-small w3-teal btn-code" title="/Repositories/Eclipse/TestModule2/src/hello/HelloWorld.java" lan="java">hello.HelloWorld »</button><button class="w3-btn w3-round-xxlarge w3-small w3-teal btn-code" title="/Repositories/Eclipse/TestModule1/src/test/Test.java" lan="java">를 first 모듈에서 사용하는 예 »</button></li></ol></div><h1>Java 10</h1><ol><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/286">286</a>타입 추론 강화로 지역 변수의 타입 선언에 var를 이용할 수 있게 되었다</li><ul><li>지역변수를 선언하면서 초기화할 때 이용 가능</li><li>강화된 for 루프 인덱스에 이용 가능</li><li>기존 for 루프 인덱스에 이용 가능</li><li>try-with-resources 변수에 이용 가능<button class="w3-btn w3-round-xxlarge w3-small w3-teal btn-code" title="/Repositories/Single/tutorial/TryWithResource.java" lan="java">TryWithResource.java</button></li></ul><li>javadoc 커맨드라인 옵션에 --add-stylesheet 추가 : 여러 css 이용 가능</li></ol><h1>Java 11</h1><ol><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/318">318</a>Epsilon : 기능없는 GC</li><p>메모리 할당만 하는 GC. 힙 고갈 시 JVM 셧다운</p><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/321">321</a>HTTP/2, WebSocket API를 지원하는 java.net.http 표준 모듈 추가</li><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/323">323</a>람다의 암시적인 매개변수 선언에 var 키워드 사용 가능</li><p><strong>↓ java</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="java">(@NonNull var x, @NonNull var y) -> x.process(y);</div><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/324">324</a>디피-헬만 키 교환보다 효율적이고 안전한<a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://tools.ietf.org/html/rfc7748">rfc7748</a>의 구현</li><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/327">327</a>유니코드 10.0 지원</li><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/330">330</a>단일 파일 프로그램(Standalone)에 대해 간편한 실행 가능</li><p><strong>↓ shell</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="shell">java Name.java [params] # Name.java를 컴파일하고 즉시 실행</div><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/332">332</a>TLS 1.3 지원</li></ol><h1>Java 14</h1><ol><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/352">352</a>비휘발성 메모리에 매핑하는 ByteBuffer 추가</li><p>jdk.nio.mapmode.ExtendedMapMode 이용</p><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/358">358</a>친절한 NullPointerException</li><p>누가 null인지 출력해준다. 출력에 사용되는 이름들은 바이트코드에 있는 정보이므로, 정확한 설명을 얻으려면 컴파일 시 필드명을 모두 남기도록 해야한다</p><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/361">361</a>Switch expressions</li><ul><button class="w3-btn w3-round-xxlarge w3-small w3-teal btn-code" title="/Repositories/Single/tutorial/SwitchExpression.java" lan="java">SwitchExpression.java</button><li>Arrow labels</li><p>"case L ->" 레이블 추가. "case L:" 레이블은 break;를 만나지 않으면 다음 레이블의 것도 실행되지만, -> 레이블은 항상 우측 식/문장/블록만 실행</p><li>Switch expressions</li><p>switch 문을 rValue로 이용할 수 있다</p><li>Yielding a value</li><p>Switch expression을 위해 코드 블록이 필요한 경우, 값을 산출하는 식/문장 앞에 yield를 적시하면 된다</p><li>Exhaustiveness</li><p>Switch expression은 항상 값을 반환해야 한다. 보통의 경우 default 케이스 이용하면 충분</p></ul></ol><h1>Java 15</h1><ol><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/377">377</a>ZGC: A Scalable Low-Latency Garbage Collector</li><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/378">378</a>Text block</li><p>"""를 이용해 여러 줄에 걸쳐 문자열 상수 작성 가능. ', " 이스케이프가 필요없어 편리</p><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/379">379</a>Shenandoah: A Low-Pause-Time Garbage Collector</li><li>String.formatted(Object... args) 메서드 추가로 타이핑 용이</li></ol><h1>Java 16</h1><ol><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/380">380</a>Unix-domain (AF_UNIX) socket 지원</li><ul><li>프로세스 간 통신에 있어 loopback을 이용한 TCP/IP보다 좋은 성능/보안을 제공한다. 컨테이너 환경에서 특히 유용할 것으로 기대</li><li>SocketChannel, ServerSocketChannel에서 지원</li></ul><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/392">392</a>jpackage tool</li><ul><li>Windows(msi, exe), macOS(pkg, dmg), Linux(deb, rpm) 빌드 가능</li><li>Cross compilation 지원 없음</li><p>e.g. Windows 빌드를 뽑으려면 Windows에서 실행해야 한다</p><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://docs.oracle.com/en/java/javase/15/docs/specs/man/jpackage.html">manual</a></li></ul><p><strong>↓ shell</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="shell"># Non-modular application
$ jpackage --name myapp --input lib --main-jar main.jar --main-class myapp.Main

# type 지정
$ jpackage --name myapp --input lib --main-jar main.jar --type pkg</div><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/394">394</a>Pattern Matching for instanceof</li><p><strong>↓ java</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="java">if (obj instanceof Point p) { p.move(1, 3); }</div><li><a class="w3-padding w3-round-xlarge w3-small w3-border w3-hover-black" href="https://openjdk.java.net/jeps/395">395</a>Record; Simple immutale data class</li><ul><li>모든 record는 java.lang.Record를 상속한다</li><li>명시하지 않아도 final 클래스며, abstract일 수 없다</li><li>record를 구성하는 각 불변값들을 record component라고 한다</li><li>record component 정의부를 header라고 한다</li><li>equals, getter, hashCode, toString 자동 구현</li><li>암시적 생성자는 record class와 동일한 접근 레벨로 선언된다</li><li>Generic 클래스로 선언 가능</li><li>static method, field 선언 가능</li><li>record 클래스, record component를 애너테이션으로 장식 가능</li><li>record 클래스 인스턴스는 직렬화/역직렬화 가능하지만, write/readObject 등으로 커스터마이징되지 않는다</li><li>Local record 클래스 선언 가능. Nested record 클래스와 마찬가지로 명시하지 않아도 static</li><ul><li>따라서 local record 클래스 내부에서, 이를 포함하는 메서드의 그 어떤 변수도 접근 불가</li><li>Local enum, local interface 역시 명시하지 않아도 static</li></ul><li>Inner class는 record 클래스 타입의 static 멤버를 가질 수 있다</li></ul><p><strong>↓ java</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="java">record Point2D(int x, int y) {}</div></ol><h1>Java 17</h1><ol><li>21년 9월 출시 예정</li></ol></article></main></body></html>