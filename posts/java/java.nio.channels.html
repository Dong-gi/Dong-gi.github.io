<hr>

<details>
    <summary>interface CompletionHandler&lt;V, A&gt; Since 1.7</summary>
    <ol>
        <li>비동기 I/O 작업의 결과를 소비하는 소비자</li>
        <li>void completed(V result, A attachment) : 성공시 호출된다</li>
        <li>void failed(Throwable exc, A attachment) : 실패시 호출된다</li>
    </ol>
</details>

<hr>

<details>
    <summary>채널 인터페이스</summary>
    <ol>
        <li>interface Channel extends Closeable Since 1.4</li>
        boolean isOpen(); 채널이란 독립적인 IO를 수행할 수 있는 개체에 대한 연결이다.

        <li>interface ReadableByteChannel extends Channel Since 1.4</li>
        int read(ByteBuffer dst) : dst.remaining()만큼 읽어 dst에 저장. 읽은 바이트 개수를 반환. 스트림의 끝이면 -1.

        <li>interface WritableByteChannel extends Channel Since 1.4</li>
        int write(ByteBuffer src) : src.remaining() 부분을 채널에 쓴다.

        <li>interface ByteChannel extends ReadableByteChannel, WritableByteChannel Since 1.4</li>
        바이트 단위 읽기/쓰기 모두 가능한 채널.

        <li>interface AsynchronousChannel extends Channel Since 1.7</li>
        비동기 I/O를 지원하는 채널. close()도 비동기적으로 수행되며, 도중/이후 작업은 AsynchronousCloseException 발생시키면 된다

        <li>interface InterruptibleChannel extends Channel Since 1.4</li>
        "instanceof InterruptibleChannel" IFF "비동기적으로 close() 메서드를 통해 인터럽트되고 닫을 수 있는 채널"

        <li>interface AsynchronousByteChannel extends AsynchronousChannel Since 1.7</li>
        <details>
            <summary>비동기 IO를 지원하는 바이트 채널</summary>
            <ol>
                <li>&lt;A&gt; void read(ByteBuffer dst, A attachment, CompletionHandler&lt;Integer, ? super A&gt; handler)</li>
                기본 동작은 ReadableByteChannel::read와 동일. 쓰기가 완료(실패)되면 handler가 호출된다. handler에 전달될 첫 인자는 읽은 바이트 수.
                <li>Future&lt;Integer&gt; read(ByteBuffer dst)</li>
                반환된 Future::get 메서드로 읽은 바이트 수를 얻을 수 있다.
                <li>&lt;A&gt; void write(ByteBuffer src, A attachment, CompletionHandler&lt;Integer, ? super A&gt; handler)</li>
                <li>Future&lt;Integer&gt; write(ByteBuffer src)</li>
            </ol>
        </details>

        <li>interface ScatteringByteChannel extends ReadableByteChannel Since 1.4</li>
        채널의 바이트들을 여러 버퍼에 순서대로 저장. 네트워크 헤더나 파일 메타데이터처럼 고정 길이의 헤더를 읽는 데 유용.<br>
        long read(ByteBuffer[] dsts, int offset, int length) : dsts[offset]부터 length개의 버퍼가 각각의 remaining()만큼씩 바이트를 읽어 가져간다.

        <li>interface GatheringByteChannel extends WritableByteChannel Since 1.4</li>
        long write(ByteBuffer[] srcs, int offset, int length) : srcs[offset]부터 length개의 버퍼의 remaining() 부분을 채널에 쓴다.

        <li>interface SeekableByteChannel extends ByteChannel Since 1.7</li>
        <details>
            <summary>현재 위치를 기억하는 바이트 채널.</summary>
            <ol>
                <li>SeekableByteChannel position(long newPosition) + getter 오버로딩</li>
                position을 변경하고 그대로 반환.
                <li>long size() : 채널에 연결된 개체의 크기 반환</li>
                <li>SeekableByteChannel truncate(long size)</li>
                채널에 연결된 개체의 크기를 size로 조정. size가 현재보다 작은 경우 나머지는 버려진다(position이 size보다 큰 경우 size로 조정된다). size가 현재 이상인 경우 아무 변경 없다.
            </ol>
        </details>

        <li>interface NetworkChannel extends Channel Since 1.7</li>
        <details>
            <summary>네트워크 소켓에 대한 채널</summary>
            <ol>
                <li>NetworkChannel bind(SocketAddress local)</li>
                <li>SocketAddress getLocalAddress()</li>
                <li>&lt;T&gt; NetworkChannel setOption(SocketOption&lt;T&gt; name, T value) + getOption</li>
                <li>Set&lt;SocketOption&lt;?&gt;&gt; supportedOptions()</li>
            </ol>
        </details>

        <li>interface MulticastChannel extends NetworkChannel Since 1.7</li>
        <details>
            <summary>IP 계층 멀티캐스팅 가능한 채널</summary>
            <ol>
                <li>MembershipKey join(InetAddress group, NetworkInterface interf)</li>
                <li>MembershipKey join(InetAddress group, NetworkInterface interf, InetAddress source)</li>
                source에서 온 데이터그램만 받고자 하는 경우 사용. OS에서 소스 필터링을 지원하지 않으면 예외 발생.
            </ol>
        </details>
    </ol>
</details>

<hr>

<details>
    <summary>채널 클래스</summary>
    <details>
        <summary>abstract class AsynchronousChannelGroup Since 1.7</summary>
        <ol>
            <li>그룹 지정되지 않은 비동기 채널들은 시스템 기본 그룹에 묶인다</li>
            시스템 속성에 따라 생성된 ThreadFactory가 비동기 작업을 실행할 데몬 스레드들을 만든다.
            <li>static AsynchronousChannelGroup withFixedThreadPool(int nThreads, ThreadFactory threadFactory)</li>
            최대 nThreads의 스레드만 동시에 실행된다. 시스템 기본 AsynchronousChannelProvider 객체의 openAsynchronousChannelGroup(int, ThreadFactory) 메서드를 통해 만들어진다
            <li>static AsynchronousChannelGroup withCachedThreadPool(ExecutorService executor, int initialSize) + 오버로딩</li>
            시스템 기본 AsynchronousChannelProvider 객체의 openAsynchronousChannelGroup(ExecutorService, int) 메서드를 통해 만들어진다.<br>
            채널 그룹의 종료는 ExecutorService의 shutdown()으로 이어진다. 따라서 ExecutorService가 외부에서 닫히는 경우엔 무슨 일이 일어날 지 모른다

            <li>abstract boolean isShutdown() + isTerminated</li>
            <li>abstract void shutdown()</li>
            순차적 종료 절차에 진입한다.
        </ol>
    </details>
</details>

<details>
    <summary>abstract class SelectableChannel extends AbstractInterruptibleChannel implements Channel Since 1.4</summary>
    <ol>
        <li>Selector를 통해 멀티플렉싱될 수 있는 채널을 정의한다</li>
        https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/channels/SelectableChannel.html
    </ol>
</details>

<hr>

<details>
    <summary>abstract class DatagramChannel extends AbstractSelectableChannel implements ByteChannel, ScatteringByteChannel, GatheringByteChannel, MulticastChannel Since 1.4</summary>
    https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/channels/DatagramChannel.html
</details>

<hr>

<details>
    <summary>final class Channels Since 1.4</summary>
    <ol>
        채널과 스트림에 관한 유틸리티 클래스.
        <li>static InputStream newInputStream(ReadableByteChannel ch)</li>
        <li>static OutputStream newOutputStream(WritableByteChannel ch)</li>
        <li>static InputStream newInputStream(AsynchronousByteChannel ch) Since 1.7</li>
        <li>static OutputStream newOutputStream(AsynchronousByteChannel ch) Since 1.7</li>
        <li>static ReadableByteChannel newChannel(InputStream in)</li>
        <li>static WritableByteChannel newChannel(OutputStream out)</li>
        <li>static Reader newReader(ReadableByteChannel ch, CharsetDecoder dec, int minBufferCap)</li>
        <li>static Reader newReader(ReadableByteChannel ch, String csName)</li>
        <li>static Reader newReader(ReadableByteChannel ch, Charset charset)</li>
        <li>static Writer newWriter(WritableByteChannel ch, CharsetEncoder enc, int minBufferCap)</li>
        <li>static Writer newWriter(WritableByteChannel ch, String csName)</li>
        <li>static Writer newWriter(WritableByteChannel ch, Charset charset)</li>
    </ol>
</details>

<hr>
