<html lang="ko"><head><script id="google-analytics" src="https://www.googletagmanager.com/gtag/js?id=UA-143098403-1" async></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-143098403-1');
</script><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="google-site-verification" content="aH-DyzdytYQ0NPHNQFcs5dVoiu5YNs6CEEHYgqDmAFM"><meta name="author" content="Donggi Kim &lt;hi.donggi@gmail.com&gt;"><meta name="keywords" content="Network, TCP/IP, HTTP, HTTP1.1, HTTP2, HTTP3"><meta name="description" content="Network 정리"><title>Network</title><link id="w3css" rel="stylesheet" href="/source/w3.css"><link id="highlight-style" rel="stylesheet" href="/source/xcode.css"><link id="default-style" rel="stylesheet" href="/source/default.css"><script id="highlight-js" src="/source/highlight.pack.js"></script><script id="default-js" src="/source/default.min.js"></script><script id="dsq-count-scr" src="//donggi.disqus.com/count.js" async></script></head><body><div class="w3-bar-block w3-sidebar w3-animate-left" id="sidebar"><hr><a class="w3-bar-item w3-button" href="javascript:closeSidebar();">Close &times;</a><hr><div id="marker-list"></div><hr><div id="post-list"></div><hr><div id="file-list"></div><hr></div><div id="main"><div class="w3-bar w3-blue w3-large" id="nav" style="position:-webkit-sticky;position:sticky;top:0px;vertical-align:middle"><button class="w3-bar-item w3-button w3-hover-theme" onclick="toggleSidebar()">&#9776;</button><input class="w3-bar-item" id="query" type="text" placeholder="search" style="max-width:35%"><a class="w3-bar-item w3-button w3-hover-theme" href="/">Home</a></div><div class="w3-padding" id="contents"><h1>TCP/IP 4계층</h1><ol><li>Application : HTTP, FTP, DNS, SMTP, ...</li><li>Transport : TCP, UDP</li><p>프로세스 간의 통신</p><li>Internet : IP, ARP, ICMP, ...</li><p>(가변적인) 논리적 주소를 갖는 두 호스트 간의 통신</p><li>Link : MAC; CSMA/CD, CSMA/CA, ...</li><p>고정적인 물리적 주소를 갖는 두 노드 간의 통신</p></ol><h1>IP</h1><div><h2>IPv4</h2><ul><li>32bit : [0-255].[0-255].[0-255].[0-255]</li><li>Subnet & CIDR</li><ul><li>주소 소유자는 예약한 특정 접두 주소(subnet mask)를 제외한 나머지 부분을 자유롭게 할당하여 사용할 수 있다</li><li>A-class : 앞 8비트를 예약하고, 나머지 24비트를 자유롭게 할당. e.g. 123.0.0.0/8</li><li>B-class : 앞 16비트를 예약하고, 나머지 16비트를 자유롭게 할당. e.g. 123.123.0.0/8</li><li>기타 관용적인 사설 네트워크 서브넷 : 10.0.0.0/8, 192.168.0.0/24</li><li>CIDR; Classless Inter-Domain Routing</li><p>클래스없이 주소 블록 할당. e.g. 123.123.123.123/7</p></ul></ul><h2>IPv6</h2><ul><li>128bit : [0-ffff]:[0-ffff]:[0-ffff]:[0-ffff]:[0-ffff]:[0-ffff]:[0-ffff]:[0-ffff]</li><li>접두 0은 제거할 수 있다 + 반복 적용 가능; 0123:A:0123 == 123:A:123</li><li>0:0(:0)*은 :으로 축약할 수 있다 + 전체 주소에 대해 1회만 적용 가능; A:0:0:B == A::B</li></ul></div><h1>UDP</h1><div><h2>특징</h2><ul><li>비연결형</li><p>특정 소켓으로의 전송, 임의 소켓으로부터의 수신 기능만 존재. 각 데이터그램은 모두 독립적이며, 65507 바이트보다 큰 메시지를 알아서 쪼개고 합치지 않는다.</p><li>신뢰성 없음</li><p>확인응답 없음 + 데이터그램 오류 탐지 시 단순 폐기</p></ul><h2>Datagram</h2><p>Source port 16비트 | Destination port 16비트 | Total length(최대 65507바이트) 16비트 | Checksum 16비트 | Data</p></div><h1>TCP</h1><div><h2>특징</h2><ul><li>연결 지향</li><p>연결 지속되는 채널을 이용해 스트림 전송. 스트림은 패킷들로 나눠지고, 이때 패킷은 IP 계층 전송 단위에 맞게 세그먼트로 표현된다</p><li>송신 버퍼 + 수신 버퍼를 이용한 생산/소비 균형 조절</li><li>신뢰성 있음</li><p>패킷 순서 보장. ack 응답 및 응답 시간제한, 재전송 기능 제공</p><li>전이중 통신</li><p>동시에 양방향으로 패킷 전송 가능</p></ul><h2>연결 수립; 3-way handshaking</h2><ol><li>A -> B : SYN 세그먼트(#seq=a)</li><li>B -> A : SYN + ACK 세그먼트(#seq=b,#ack=a+1)</li><li>A -> B : ACK 세그먼트(#seq=a+1,#ack=b+1)</li><p>양쪽이 동시에 연결을 요구하더라도 연결은 하나만 수립된다</p></ol><h2>연결 종료; 3-way handshaking</h2><ol><li>A -> B : FIN 세그먼트(#seq=a,#ack=b)</li><li>B -> A : FIN + ACK 세그먼트(#seq=b,#ack=a+1)</li><li>A -> B : ACK 세그먼트(#seq=a+1,#ack=b+1)</li></ol><h2>연결 종료; 4-way handshaking</h2><ol><p>데이터를 보낼 게 남아있다면, FIN 요청은 수락한 뒤, 데이터를 마저 보낸 후 FIN 응답한다</p><li>A -> B : FIN 세그먼트(#seq=a,#ack=b1)</li><li>B -> A : FIN + ACK 세그먼트(#seq=b1,#ack=a+1)</li><li>남은 데이터 전송</li><ul><li>B -> A : 데이터 세그먼트</li><li>A -> B : ACK 세그먼트</li></ul><li>B -> A : FIN 세그먼트(#seq=b2,#ack=a+1)</li><li>A -> B : ACK 세그먼트(#seq=a+1,#ack=b2+1)</li></ol><h2>TCP 연결 상태</h2><div class="w3-center w3-margin-bottom"><img class="w3-round" src="https://upload.wikimedia.org/wikipedia/commons/f/f6/Tcp_state_diagram_fixed_new.svg"></div></div></div><hr><ul><li>&copy; 2020. <a href="mailto:hi.donggi@gmail.com">Donggi Kim</a> all rights reserved. <a class="w3-btn w3-round-xxlarge w3-small w3-green" href="/LICENSE">MIT License</a></li><li><a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://www.w3schools.com/w3css">w3css</a> : No license</li><li><a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://highlightjs.org/">highlight</a> : <a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://github.com/highlightjs/highlight.js/blob/main/LICENSE">BSD-3-Clause License</a></li><li><a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://github.com/mathjax/MathJax">MathJax</a> : <a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://github.com/mathjax/MathJax/blob/master/LICENSE">Apache License 2.0</a></li><li><a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://github.com/davidshimjs/qrcodejs">qrcodejs</a> : <a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://github.com/davidshimjs/qrcodejs/blob/master/LICENSE">MIT License</a></li></ul></div></body></html>