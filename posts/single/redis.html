<html lnag="ko"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="google-site-verification" content="aH-DyzdytYQ0NPHNQFcs5dVoiu5YNs6CEEHYgqDmAFM"><meta name="author" content="Donggi Kim &lt;hi.donggi@gmail.com&gt;"><meta name="keywords" content="Redis"><meta name="description" content="Redis 정리"><title>Redis</title><link id="w3css" rel="stylesheet" href="/source/w3.css"><link id="highlight-style" rel="stylesheet" href="/source/xcode.css"><link id="default-style" rel="stylesheet" href="/source/default.css"><script id="highlight-js" src="/source/highlight.pack.js"></script><script id="default-js" src="/source/default.min.js"></script><script id="dsq-count-scr" src="//donggi.disqus.com/count.js" async></script><script id="kakao-ads" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script><script id="google-ads" data-ad-client="ca-pub-7897366614471210" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><script id="google-analytics" src="https://www.googletagmanager.com/gtag/js?id=UA-143098403-1" async></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-143098403-1');</script></head><body><div id="sidebar" class="w3-bar-block w3-sidebar w3-animate-left"><hr><a href="javascript:closeSidebar();" class="w3-bar-item w3-button">Close &times;</a><hr><div id="marker-list"></div><hr><div id="post-list"></div><hr><div class="w3-center"><ins style="display:none;" data-ad-unit="DAN-1k1r635zxb6g3" data-ad-width="300" data-ad-height="250" class="kakao_ad_area"></ins></div><hr><div id="file-list"></div><hr></div><div id="main"><div id="nav" style="position:-webkit-sticky;position:sticky;top:0px;vertical-align:middle" class="w3-bar w3-blue w3-large"><button onclick="toggleSidebar()" class="w3-bar-item w3-button w3-hover-theme">&#9776;</button><input id="query" type="text" placeholder="search" class="w3-bar-item"></div><div id="contents" class="w3-padding"><h1 class="marker">참고자료</h1><ul><li><a class="w3-btn w3-round w3-round-xxlarge w3-small w3-green" href="https://redis.io/documentation" target="_blank">공식 문서</a></li><li><a class="w3-btn w3-round w3-round-xxlarge w3-small w3-green" href="http://redisgate.kr/" target="_blank">레디스 엔터프라이즈 버전</a></li><li><a class="w3-btn w3-round w3-round-xxlarge w3-small w3-green" href="https://github.com/redis-essentials/book" target="_blank">Redis Essentials</a></li></ul><h1 class="marker">Redis</h1><ul><li>인메모리 저장소 + 물리 장치 백업</li><li>메시지 브로커 기능 보유 : Pub/Sub</li><li>BSD 라이선스</li></ul><div><h2 class="marker">redis-server/redis-cli</h2><ol><li>서버 실행</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ redis-server [/path/to/redis.conf] [options]
$ redis-server --help

$ src/redis-server --port 27017</div><li>서버 접속</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ redis-cli [OPTIONS] [cmd [arg [arg ...]]]
$ redis-cli --help

$ src/redis-cli -p 27017</div><li>help</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">> help
> help @&lt;group>
> help &lt;command></div></ol><h2 class="marker"><a class="w3-btn w3-round w3-round-xxlarge w3-small w3-green" href="https://redis.io/commands" target="_blank">commands</a></h2><p>Redis 명령어들은 연관성에 따라 그룹에 묶여있다</p><div><h3 class="marker">String</h3><div><h4 class="marker">SET key value [EX seconds|PX milliseconds] [NX|XX] [KEEPTTL]</h4><p>원자적으로 key에 대하여 value를 할당한다. 이전에 설정한 값은 덮어씌어진다. 이전에 설정한 유효 기간은 지워진다.</p><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">> set name anonymous
반환 : 'OK'(성공), nil(실패)

EX seconds      : 유효 기한(s)
PX milliseconds : 유효 기한(ms)
NX              : 신규 키일 때만 설정 // 이를 이용해 잠금 구현 가능
XX              : 중복 키일 때만 설정
KEEPTTL         : 이전 유효 기간을 유지</div><h4 class="marker">GET key</h4><p>key에 대한 값을 반환한다. 없으면 nil</p><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">> get name</div><h4 class="marker">GETSET key value</h4><p>get 실행 → set 실행 → get 결과 반환</p><h4 class="marker">STRLEN key</h4><p>문자열 길이 반환. 값이 없어도 0</p><h4 class="marker">MSET key value [key value ...]</h4><p>원자적으로 주어진 키-값 쌍들을 모두 설정한다.</p><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">> mset k1 v1 k2 v2
항상 성공하므로 'OK'만 반환</div><h4 class="marker">MSETNX key value [key value ...]</h4><p>모든 키가 신규인 경우 mset 실행하고 1 반환. 그 외엔 0 반환</p><h4 class="marker">MGET key [key ...]</h4><p>각 키에 대해 get 하여 배열로 반환.</p><h4 class="marker">APPEND key value</h4><h4 class="marker">BITCOUNT key [start end]</h4><h4 class="marker">BITFIELD key [GET type offset] [SET type offset value] [INCRBY type offset increment] [OVERFLOW WRAP|SAT|FAIL]</h4><h4 class="marker">BITOP operation destkey key [key ...]</h4><h4 class="marker">BITPOS key bit [start] [end]</h4><h4 class="marker">DECR key</h4><h4 class="marker">DECRBY key decrement</h4><h4 class="marker">GETBIT key offset</h4><h4 class="marker">GETRANGE key start end</h4><h4 class="marker">INCR key</h4><h4 class="marker">INCRBY key increment</h4><h4 class="marker">INCRBYFLOAT key increment</h4><h4 class="marker">SETBIT key offset value</h4><h4 class="marker">SETRANGE key offset value</h4><h4 class="marker">STRALGO algo-name arg [arg ...] Since 6.0</h4><ol><li>STRALGO LCS [KEYS ...] [STRINGS ...] [LEN] Since 6.0</li><p>두 문자열의 공통 시퀀스를 구한다.</p><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">> stralgo lcs strings humble-bundle bundle-humble
"ble-ule"
</div></ol></div></div><div lan="text" class="as-code code-div w3-leftbar w3-border-green">cluster > CLUSTER ADDSLOTS slot [slot ...]
cluster > CLUSTER BUMPEPOCH
cluster > CLUSTER COUNT-FAILURE-REPORTS node-id
cluster > CLUSTER COUNTKEYSINSLOT slot
cluster > CLUSTER DELSLOTS slot [slot ...]
cluster > CLUSTER FAILOVER [FORCE|TAKEOVER]
cluster > CLUSTER FLUSHSLOTS
cluster > CLUSTER FORGET node-id
cluster > CLUSTER GETKEYSINSLOT slot count
cluster > CLUSTER INFO
cluster > CLUSTER KEYSLOT key
cluster > CLUSTER MEET ip port
cluster > CLUSTER MYID
cluster > CLUSTER NODES
cluster > CLUSTER REPLICAS node-id
cluster > CLUSTER REPLICATE node-id
cluster > CLUSTER RESET [HARD|SOFT]
cluster > CLUSTER SAVECONFIG
cluster > CLUSTER SET-CONFIG-EPOCH config-epoch
cluster > CLUSTER SETSLOT slot IMPORTING|MIGRATING|STABLE|NODE [node-id]
cluster > CLUSTER SLAVES node-id
cluster > CLUSTER SLOTS
cluster > READONLY
cluster > READWRITE
connection > AUTH password
connection > CLIENT CACHING YES|NO
connection > CLIENT GETNAME
connection > CLIENT GETREDIR
connection > CLIENT ID
connection > CLIENT KILL [ip:port] [ID client-id] [TYPE normal|master|slave|pubsub] [ADDR ip:port] [SKIPME yes/no]
connection > CLIENT LIST [TYPE normal|master|replica|pubsub]
connection > CLIENT PAUSE timeout
connection > CLIENT REPLY ON|OFF|SKIP
connection > CLIENT SETNAME connection-name
connection > CLIENT TRACKING ON|OFF [REDIRECT client-id] [PREFIX prefix] [BCAST] [OPTIN] [OPTOUT] [NOLOOP]
connection > CLIENT UNBLOCK client-id [TIMEOUT|ERROR]
connection > ECHO message
connection > HELLO protover [AUTH username password] [SETNAME clientname]
connection > PING [message]
connection > QUIT
connection > SELECT index
generic > DEL key [key ...]
generic > DUMP key
generic > EXISTS key [key ...]
generic > EXPIRE key seconds
generic > EXPIREAT key timestamp
generic > KEYS pattern
generic > MIGRATE host port key|\"\" destination-db timeout [COPY] [REPLACE] [AUTH password] [KEYS key [key ...]]
generic > MOVE key db
generic > OBJECT subcommand [arguments [arguments ...]]
generic > PERSIST key
generic > PEXPIRE key milliseconds
generic > PEXPIREAT key milliseconds-timestamp
generic > PTTL key
generic > RANDOMKEY
generic > RENAME key newkey
generic > RENAMENX key newkey
generic > RESTORE key ttl serialized-value [REPLACE] [ABSTTL] [IDLETIME seconds] [FREQ frequency]
generic > SCAN cursor [MATCH pattern] [COUNT count] [TYPE type]
generic > SORT key [BY pattern] [LIMIT offset count] [GET pattern [GET pattern ...]] [ASC|DESC] [ALPHA] [STORE destination]
generic > TOUCH key [key ...]
generic > TTL key
generic > TYPE key
generic > UNLINK key [key ...]
generic > WAIT numreplicas timeout
geo > GEOADD key longitude latitude member [longitude latitude member ...]
geo > GEODIST key member1 member2 [m|km|ft|mi]
geo > GEOHASH key member [member ...]
geo > GEOPOS key member [member ...]
geo > GEORADIUS key longitude latitude radius m|km|ft|mi [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count] [ASC|DESC] [STORE key] [STOREDIST key]
geo > GEORADIUSBYMEMBER key member radius m|km|ft|mi [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count] [ASC|DESC] [STORE key] [STOREDIST key]
hash > HDEL key field [field ...]
hash > HEXISTS key field
hash > HGET key field
hash > HGETALL key
hash > HINCRBY key field increment
hash > HINCRBYFLOAT key field increment
hash > HKEYS key
hash > HLEN key
hash > HMGET key field [field ...]
hash > HMSET key field value [field value ...]
hash > HSCAN key cursor [MATCH pattern] [COUNT count]
hash > HSET key field value [field value ...]
hash > HSETNX key field value
hash > HSTRLEN key field
hash > HVALS key
hyperloglog > PFADD key element [element ...]
hyperloglog > PFCOUNT key [key ...]
hyperloglog > PFMERGE destkey sourcekey [sourcekey ...]
list > BLPOP key [key ...] timeout
list > BRPOP key [key ...] timeout
list > BRPOPLPUSH source destination timeout
list > LINDEX key index
list > LINSERT key BEFORE|AFTER pivot element
list > LLEN key
list > LPOP key
list > LPUSH key element [element ...]
list > LPUSHX key element [element ...]
list > LRANGE key start stop
list > LREM key count element
list > LSET key index element
list > LTRIM key start stop
list > RPOP key
list > RPOPLPUSH source destination
list > RPUSH key element [element ...]
list > RPUSHX key element [element ...]
pubsub > PSUBSCRIBE pattern [pattern ...]
pubsub > PUBLISH channel message
pubsub > PUBSUB subcommand [argument [argument ...]]
pubsub > PUNSUBSCRIBE [pattern [pattern ...]]
pubsub > SUBSCRIBE channel [channel ...]
pubsub > UNSUBSCRIBE [channel [channel ...]]
scripting > EVAL script numkeys key [key ...] arg [arg ...]
scripting > EVALSHA sha1 numkeys key [key ...] arg [arg ...]
scripting > SCRIPT DEBUG YES|SYNC|NO
scripting > SCRIPT EXISTS sha1 [sha1 ...]
scripting > SCRIPT FLUSH
scripting > SCRIPT KILL
scripting > SCRIPT LOAD script
server > ACL CAT [categoryname]
server > ACL DELUSER username [username ...]
server > ACL GENPASS [bits]
server > ACL LIST
server > ACL LOAD
server > ACL LOG [count or RESET]
server > ACL SAVE
server > ACL SETUSER rule [rule ...]
server > ACL USERS
server > ACL WHOAMI
server > BGREWRITEAOF
server > BGSAVE [SCHEDULE]
server > COMMAND
server > COMMAND COUNT
server > COMMAND GETKEYS
server > COMMAND INFO command-name [command-name ...]
server > CONFIG GET parameter
server > CONFIG RESETSTAT
server > CONFIG REWRITE
server > CONFIG SET parameter value
server > DBSIZE
server > DEBUG OBJECT key
server > DEBUG SEGFAULT
server > FLUSHALL [ASYNC]
server > FLUSHDB [ASYNC]
server > INFO [section]
server > LASTSAVE
server > LATENCY DOCTOR
server > LATENCY GRAPH event
server > LATENCY HELP
server > LATENCY HISTORY event
server > LATENCY LATEST
server > LATENCY RESET [event]
server > LOLWUT [VERSION version]
server > MEMORY DOCTOR
server > MEMORY HELP
server > MEMORY MALLOC-STATS
server > MEMORY PURGE
server > MEMORY STATS
server > MEMORY USAGE key [SAMPLES count]
server > MODULE LIST
server > MODULE LOAD path [ arg [arg ...]]
server > MODULE UNLOAD name
server > MONITOR
server > PSYNC replicationid offset
server > REPLICAOF host port
server > ROLE
server > SAVE
server > SHUTDOWN [NOSAVE|SAVE]
server > SLAVEOF host port
server > SLOWLOG subcommand [argument]
server > SWAPDB index1 index2
server > SYNC
server > TIME
set > SADD key member [member ...]
set > SCARD key
set > SDIFF key [key ...]
set > SDIFFSTORE destination key [key ...]
set > SINTER key [key ...]
set > SINTERSTORE destination key [key ...]
set > SISMEMBER key member
set > SMEMBERS key
set > SMOVE source destination member
set > SPOP key [count]
set > SRANDMEMBER key [count]
set > SREM key member [member ...]
set > SSCAN key cursor [MATCH pattern] [COUNT count]
set > SUNION key [key ...]
set > SUNIONSTORE destination key [key ...]
sorted_set > BZPOPMAX key [key ...] timeout
sorted_set > BZPOPMIN key [key ...] timeout
sorted_set > ZADD key [NX|XX] [CH] [INCR] score member [score member ...]
sorted_set > ZCARD key
sorted_set > ZCOUNT key min max
sorted_set > ZINCRBY key increment member
sorted_set > ZINTERSTORE destination numkeys key [key ...] [WEIGHTS weight [weight ...]] [AGGREGATE SUM|MIN|MAX]
sorted_set > ZLEXCOUNT key min max
sorted_set > ZPOPMAX key [count]
sorted_set > ZPOPMIN key [count]
sorted_set > ZRANGE key start stop [WITHSCORES]
sorted_set > ZRANGEBYLEX key min max [LIMIT offset count]
sorted_set > ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]
sorted_set > ZRANK key member
sorted_set > ZREM key member [member ...]
sorted_set > ZREMRANGEBYLEX key min max
sorted_set > ZREMRANGEBYRANK key start stop
sorted_set > ZREMRANGEBYSCORE key min max
sorted_set > ZREVRANGE key start stop [WITHSCORES]
sorted_set > ZREVRANGEBYLEX key max min [LIMIT offset count]
sorted_set > ZREVRANGEBYSCORE key max min [WITHSCORES] [LIMIT offset count]
sorted_set > ZREVRANK key member
sorted_set > ZSCAN key cursor [MATCH pattern] [COUNT count]
sorted_set > ZSCORE key member
sorted_set > ZUNIONSTORE destination numkeys key [key ...] [WEIGHTS weight [weight ...]] [AGGREGATE SUM|MIN|MAX]
stream > XACK key group ID [ID ...]
stream > XADD key ID field value [field value ...]
stream > XCLAIM key group consumer min-idle-time ID [ID ...] [IDLE ms] [TIME ms-unix-time] [RETRYCOUNT count] [FORCE] [JUSTID]
stream > XDEL key ID [ID ...]
stream > XGROUP [CREATE key groupname id-or-$] [SETID key groupname id-or-$] [DESTROY key groupname] [DELCONSUMER key groupname consumername]
stream > XINFO [CONSUMERS key groupname] [GROUPS key] [STREAM key] [HELP]
stream > XLEN key
stream > XPENDING key group [start end count] [consumer]
stream > XRANGE key start end [COUNT count]
stream > XREAD [COUNT count] [BLOCK milliseconds] STREAMS key [key ...] id [id ...]
stream > XREADGROUP GROUP group consumer [COUNT count] [BLOCK milliseconds] [NOACK] STREAMS key [key ...] ID [ID ...]
stream > XREVRANGE key end start [COUNT count]
stream > XTRIM key MAXLEN [~] count
transactions > DISCARD
transactions > EXEC
transactions > MULTI
transactions > UNWATCH
transactions > WATCH key [key ...]</div><h2 class="marker">Data type</h2><ol><li>(바이너리) 문자열</li></ol></div></div><hr>&copy; 2020. <a href="mailto:hi.donggi@gmail.com">Donggi Kim</a> all rights reserved.<a class="w3-btn w3-round w3-round-xxlarge w3-small w3-green" href="/LICENSE" target="_blank">LICENSE</a></div></body></html>