<html lang="ko"><head><script id="google-analytics" src="https://www.googletagmanager.com/gtag/js?id=UA-143098403-1" async></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-143098403-1');
</script><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="google-site-verification" content="aH-DyzdytYQ0NPHNQFcs5dVoiu5YNs6CEEHYgqDmAFM"><meta name="author" content="Donggi Kim &lt;hi.donggi@gmail.com&gt;"><meta name="keywords" content="Git"><meta name="description" content="Git 정리"><title>Git</title><link id="w3css" rel="stylesheet" href="/source/w3.css"><link id="highlight-style" rel="stylesheet" href="/source/xcode.css"><link id="default-style" rel="stylesheet" href="/source/default.css"><script id="highlight-js" src="/source/highlight.pack.js"></script><script id="default-js" src="/source/default.min.js"></script><script id="dsq-count-scr" src="//donggi.disqus.com/count.js" async></script></head><body><div class="w3-bar-block w3-sidebar w3-animate-left" id="sidebar"><hr><a class="w3-bar-item w3-button" href="javascript:closeSidebar();">Close &times;</a><hr><div id="marker-list"></div><hr><div id="post-list"></div><hr><div id="file-list"></div><hr></div><div id="main"><div class="w3-bar w3-blue w3-large" id="nav" style="position:-webkit-sticky;position:sticky;top:0px;vertical-align:middle"><button class="w3-bar-item w3-button w3-hover-theme" onclick="toggleSidebar()">&#9776;</button><input class="w3-bar-item" id="query" type="text" placeholder="search" style="max-width:35%"><a class="w3-bar-item w3-button w3-hover-theme" href="/">Home</a></div><div class="w3-padding" id="contents"><h1>Git; https://git-scm.com/book/ko</h1><ul><li>Git은 각 버전 사이의 변경 사항을 기록하지 않는다</li><li class="marker">커밋</li><ul><li>스테이지에 올라간 각 파일들은 해시값과 함께 blob 객체로 .git에 저장된다</li><li>루트 디렉터리부터 각 서브 디렉터리들은 자식 노드들에 대한 포인터를 가지며, 해시값과 함께 tree 객체로 .git에 저장된다</li><li>커밋 객체는 루트 디렉터리 tree 객체에 대한 포인터와 이전 커밋 객체(있다면)에 대한 포인터를 가지며, 해시값과 함께 .git에 저장된다</li></ul><li class="marker">브랜치는 커밋 객체를 가리키는 포인터</li><li>HEAD는 현재 작업중인 브랜치를 가리키는 포인터(checkout으로 변경)</li><li>origin/ : 서버 브랜치</li></ul><h1>Git Server</h1><ul><li>가능 프로토콜 : Local, SSH, Git, HTTP</li><li>Git 호스팅 업체 : https://git.wiki.kernel.org/index.php/GitHosting</li></ul><h1>Submodule</h1><ul><li>관리하는 디렉터리 자체가 다른 git 저장소일 수 있다</li><p><strong>↓ shell</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="shell">$ git submodule init
$ git submodule update
</div></ul><h1>Command</h1><ul><li>git checkout &lt;branch|commit_hash&gt;</li><p>작업 지점 변경</p><li>git log [filepath]</li><p>전체[또는 특정 파일] 변경 기록 확인</p><li>git cherry-pick &lt;commit_hash&gt;</li><p>다른 브랜치의 특정 커밋의 변경분만 현재 작업 지점에 반영</p></ul><h1>Git Hook</h1><ul><li>특정 이벤트 발생 시 실행될 스크립트들을 .git/hooks에 저장한다</li><p>해당 디렉터리에는 예제 스크립트들이 존재한다</p><li>pre-commit : 클라이언트에서 커밋 메시지를 작성하기 전에 호출된다. 0으로 종료하지 않으면 커밋 취소</li><p>git commit --no-verify로 일시 생략 가능</p><li>prepare-commit-msg : 커밋 메시지를 생성한 뒤, 편집기를 실행하기 전에 실행</li><li>commit-msg : 커밋 메시지가 들어 있는 임시 파일의 경로를 인자로 받는다. 0으로 종료하지 않으면 커밋 취소</li><li>post-commit : 커밋 완료 후 실행</li><li>pre-receive : 서버에서 push 전에 실행되며, 0으로 종료하지 않으면 push 거절</li><li>post-receive : 서버에서 push 후에 실행</li><li>update : 브랜치마다 한 번씩 실행되는 것을 제외하면 pre-receive와 동일</li></ul><h1>GitHub Code scanning</h1><ul><li>링크 : <a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://docs.github.com/en/free-pro-team@latest/github/finding-security-vulnerabilities-and-errors-in-your-code/enabling-code-scanning-for-a-repository">enabling-code-scanning-for-a-repository</a></li><li>저장소 > Security > Code scanning 활성화</li><li>codeql-analysis.yml로 조정 가능</li></ul><h1><a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://docs.github.com/en/free-pro-team@latest/actions">GitHub Action</a></h1><div><h2>개요</h2><ul><li>GitHub 저장소에서 즉시 테스트, 빌드, 배포 등 임의 workflow를 실행하는 서비스</li><li>초보자를 위한 템플릿 제공 : <a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://github.com/actions/starter-workflows">starter-workflows</a></li></ul><h2>주요 개념</h2><ul><li>Push 등 특정 event 발생 시, 해당 이벤트를 trigger로 등록한 모든 workflow를 실행한다</li><ul><li>각 event는 commit SHA, Git ref를 갖는다</li><li>실행될 workflow는 해당 브랜치의 .github/workflows 디렉터리에 존재해야 한다</li><li>Workflow 실행 시, GITHUB_SHA, GITHUB_REF 환경변수가 기본으로 설정된다</li></ul><li>Workflow는 job(들)을 갖는다</li><ul><li>기본적으로 job들은 각 runner에서 병렬로 실행되지만, 순차적으로 실행하도록 조정할 수 있다</li><li>하나의 job에 정의된 step들은 동일한 runner에서 순서대로 실행된다</li></ul><li>Runner</li><p>GitHub Actions runner가 설치된 서버. GitHub-hosted runner로 Ubuntu, Windows, MacOS 3종이 제공된다</p></ul><h2>이벤트 종류</h2><div><h3>Scheduled events</h3><div><h4>schedule</h4><table><tr><th>GITHUB_SHA</th><th>GITHUB_REF</th></tr><tr><td>기본 브랜치의 마지막 커밋</td><td>기본 브랜치</td></tr></table><p><a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/crontab.html#tag_20_25_07">POSIX cron syntax</a>로 일치하는 UTC 시각에 실행시킬 수 있다. 설정할 수 있는 최소 간격은 매 5분마다 실행하는 것. non-standard 예약어는 사용할 수 없다</p><ul><li>cron 신택스 생성 및 다음 실행 시각 확인 : <a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://crontab.guru/">https://crontab.guru/</a></li><li>cron 신택스 예시 : <a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://crontab.guru/examples.html">examples.html</a></li></ul><table><tr><th>Reserved word</th><th>Description</th></tr><tr><td>*</td><td>any value</td></tr><tr><td>,</td><td>value list separator</td></tr><tr><td>-</td><td>range of values</td></tr><tr><td>/</td><td>step values</td></tr><tr><td>@yearly</td><td>(non-standard)</td></tr><tr><td>@annually</td><td>(non-standard)</td></tr><tr><td>@monthly</td><td>(non-standard)</td></tr><tr><td>@weekly</td><td>(non-standard)</td></tr><tr><td>@daily</td><td>(non-standard)</td></tr><tr><td>@hourly</td><td>(non-standard)</td></tr><tr><td>@reboot</td><td>(non-standard)</td></tr></table><p><strong>↓ 예. 매 15분마다 실행</strong></p><div class="as-code code-div w3-leftbar w3-border-green" lan="yaml">on:
  schedule:
    # * is a special character in YAML so you have to quote this string
    #         ┌───────────── minute (0 - 59)
    #         │    ┌───────────── hour (0 - 23)
    #         │    │ ┌───────────── day of the month (1 - 31)
    #         │    │ │ ┌───────────── month (1 - 12 or JAN-DEC)
    #         │    │ │ │ ┌───────────── day of the week (0 - 6 or SUN-SAT)
    #         │    │ │ │ │
    #         │    │ │ │ │
    #         │    │ │ │ │
    #         *    * * * *
    - cron:  '*/15 * * * *'
</div></div><h3>Manual events</h3><div><h4>workflow_dispatch</h4><p>특정 workflow 지정 실행. 사용자 정의 인자 전달 가능</p><table><tr><th>Webhook event payload</th><th>GITHUB_SHA</th><th>GITHUB_REF</th></tr><tr><td><a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://docs.github.com/en/free-pro-team@latest/webhooks/event-payloads/#workflow_dispatch">workflow_dispatch</a></td><td>GITHUB_REF 브랜치의 마지막 커밋</td><td>지정 브랜치</td></tr></table></div><p>이하 생략 : <a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://docs.github.com/en/free-pro-team@latest/actions/reference/events-that-trigger-workflows">events-that-trigger-workflows</a></p></div></div></div><hr><ul><li>&copy; <a href="mailto:hi.donggi@gmail.com">Donggi Kim</a>. <a class="w3-btn w3-round-xxlarge w3-small w3-green" href="/LICENSE">MIT License</a></li><li><a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://www.w3schools.com/w3css">w3css</a> : No license</li><li><a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://highlightjs.org/">highlight.js</a> : <a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://github.com/highlightjs/highlight.js/blob/main/LICENSE">BSD-3-Clause License</a></li><li><a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://github.com/mathjax/MathJax">MathJax</a> : <a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://github.com/mathjax/MathJax/blob/master/LICENSE">Apache License 2.0</a></li><li><a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://github.com/davidshimjs/qrcodejs">qrcodejs</a> : <a class="w3-btn w3-round-xxlarge w3-small w3-green" href="https://github.com/davidshimjs/qrcodejs/blob/master/LICENSE">MIT License</a></li></ul></div></body></html>