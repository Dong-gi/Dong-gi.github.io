<html lnag="ko"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="google-site-verification" content="aH-DyzdytYQ0NPHNQFcs5dVoiu5YNs6CEEHYgqDmAFM"><meta name="author" content="Donggi Kim &lt;hi.donggi@gmail.com&gt;"><meta name="keywords" content="Linux, CentOS"><meta name="description" content="CentOS 정리"><title>CentOS</title><link id="w3css" rel="stylesheet" href="/source/w3.css"><link id="highlight-style" rel="stylesheet" href="/source/xcode.css"><link id="default-style" rel="stylesheet" href="/source/default.css"><script id="highlight-js" src="/source/highlight.pack.js"></script><script id="default-js" src="/source/default.min.js"></script><script id="dsq-count-scr" src="//donggi.disqus.com/count.js" async></script><script id="kakao-ads" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script><script id="google-ads" data-ad-client="ca-pub-7897366614471210" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><script id="google-analytics" src="https://www.googletagmanager.com/gtag/js?id=UA-143098403-1" async></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-143098403-1');</script></head><body><div id="sidebar" class="w3-bar-block w3-sidebar w3-animate-left"><hr><a href="javascript:closeSidebar();" class="w3-bar-item w3-button">Close &times;</a><hr><div id="marker-list"></div><hr><div id="post-list"><details open="" id="dir-1627423780" class="w3-small file-list" title="카테고리"><summary>카테고리</summary><ul><details id="dir-1275377989" class="w3-small file-list" title="카테고리/단일 문서" open=""><summary>/단일 문서</summary><ul><li><a href="/posts/single/refactoring.html">디자인 패턴 + 리팩터링</a></li><li><a href="/posts/single/aws.html">AWS</a></li><li><a href="/posts/single/centos.html">CentOS</a></li><li><a href="/posts/single/docker.html">Docker</a></li><li><a href="/posts/single/fp.html">FP; Functional Programming</a></li><li><a href="/posts/single/git.html">Git</a></li><li><a href="/posts/single/nginx.html">Nginx</a></li><li><a href="/posts/single/rpi.html">Raspberry Pi 3 + OpenCV(python)</a></li><li><a href="/posts/single/sdkman.html">SDKMAN; The Software Development Kit Manager</a></li><li><a href="/posts/single/tomcat.html">tomcat</a></li><li><a href="/posts/single/vi.html">vi</a></li></ul></details><details id="dir-992513986" class="w3-small file-list" title="카테고리/독서" open=""><summary>/독서</summary><ul><li><a href="/posts/book/001.html">1만 시간의 재발견</a></li><li><a href="/posts/book/002.html">마음의 탄생</a></li><li><a href="/posts/book/003.html">생각하는 삶을 위한 철학의 역사</a></li><li><a href="/posts/book/004.html">쇼펜하우어, 돌이 별이 되는 철학</a></li><li><a href="/posts/book/005.html">인생의 모든 의미</a></li><li><a href="/posts/book/009.html">인지 편향</a></li><li><a href="/posts/book/006.html">지식의 착각</a></li><li><a href="/posts/book/007.html">키르케고르 실존 극장</a></li><li><a href="/posts/book/008.html">Gamification by Design</a></li></ul></details><details id="dir-453420171" class="w3-small file-list" title="카테고리/알고리즘" open=""><summary>/알고리즘</summary><ul><li><a href="/posts/algorithm/book01.html">『알고리즘 도감』</a></li><li><a href="/posts/algorithm/linear_algebra.html">선형대수</a></li><li><a href="/posts/algorithm/algo.html">알고리즘 일반</a></li><li><a href="/posts/algorithm/probability.html">확률</a></li><details id="dir--1451989604" class="w3-small file-list" title="카테고리/알고리즘/KOREATECH" open=""><summary>/KOREATECH</summary><ul><li><a href="/posts/algorithm/koreatech/1003.html">1003: 0을 만들자</a></li><li><a href="/posts/algorithm/koreatech/1008.html">1008: 순환 소수</a></li><li><a href="/posts/algorithm/koreatech/1018.html">1018: 문자열 거리 최소화 하기</a></li><li><a href="/posts/algorithm/koreatech/1048.html">1048: AP 배분</a></li><li><a href="/posts/algorithm/koreatech/1095.html">1095: 자연스러운 정렬</a></li><li><a href="/posts/algorithm/koreatech/1034.html">1034,1041: 최소 이동 거리</a></li><li><a href="/posts/algorithm/koreatech/1011.html">동적계획법(DP) 문제</a></li><li><a href="/posts/algorithm/koreatech/1010.html">소수(Prime) 관련 문제</a></li></ul></details></ul></details><details id="dir-1817032068" class="w3-small file-list" title="카테고리/작성 중지" open=""><summary>/작성 중지</summary><ul><li><a href="/posts/single/quantum_computer.html">양자 컴퓨터</a></li><li><a href="/posts/algorithm/ai.html">AI</a></li><li><a href="/posts/single/unity.html">Unity</a></li></ul></details><details id="dir-991040073" class="w3-small file-list" title="카테고리/DB" open=""><summary>/DB</summary><ul><li><a href="/posts/db/concept.html">DB 기초</a></li><li><a href="/posts/db/mongodb.html">MongoDB</a></li><li><a href="/posts/db/mysql.html">MySQL</a></li><li><a href="/posts/db/psql_to_sqlite.html">PostgreSQL → SQLite3 마이그레이션</a></li><li><a href="/posts/db/psql_admin.html">PostgreSQL 서버 관리</a></li><li><a href="/posts/db/psql_programming.html">PostgreSQL 서버 프로그래밍</a></li><li><a href="/posts/db/psql_tutorial.html">PostgreSQL 시작하기</a></li><li><a href="/posts/db/psql_sql.html">PostgreSQL SQL 언어</a></li></ul></details><details id="dir-68539214" class="w3-small file-list" title="카테고리/Programming" open=""><summary>/Programming</summary><ul><details id="dir--681806672" class="w3-small file-list" title="카테고리/Programming/.NET" open=""><summary>/.NET</summary><ul><li><a href="/posts/dotnet/csharp_basic.html">C# 기초</a></li><li><a href="/posts/dotnet/csharp_library.html">C# 라이브러리</a></li><li><a href="/posts/dotnet/wpf_basic.html">WPF 기초</a></li></ul></details><details id="dir-1549890375" class="w3-small file-list" title="카테고리/Programming/FreeMarker" open=""><summary>/FreeMarker</summary><ul><li><a href="/posts/front/freemarker/template_guide.html">템플릿 작성 가이드 2.3.28</a></li><li><a href="/posts/front/freemarker/programming_guide.html">프로그래밍 가이드 2.3.28</a></li><li><a href="/posts/front/freemarker/built_in.html">Built-in 목록 2.3.28</a></li><li><a href="/posts/front/freemarker/xml_guide.html">XML 처리 가이드 2.3.28</a></li></ul></details><details id="dir-362107912" class="w3-small file-list" title="카테고리/Programming/Front" open=""><summary>/Front</summary><ul><li><a href="/posts/front/css.html">CSS</a></li><li><a href="/posts/front/html.html">HTML</a></li><li><a href="/posts/front/http.html">HTTP 1.1</a></li></ul></details><details id="dir--680952733" class="w3-small file-list" title="카테고리/Programming/Java" open=""><summary>/Java</summary><ul><li><a href="/posts/java/effective_java.html">『Effective Java』</a></li><li><a href="/posts/java/android.html">Android</a></li><li><a href="/posts/java/oop.html">Java 객체지향</a></li><li><a href="/posts/java/version.html">Java 버전별 추가사항</a></li><li><a href="/posts/java/basic.html">Java 시작하기</a></li><li><a href="/posts/java/jni.html">Java Native Interface</a></li><li><a href="/posts/java/java_ee.html">JavaEE</a></li><li><a href="/posts/java/javafx.html">JavaFX</a></li><li><a href="/posts/java/performance.html">JVM 옵션 및 성능 관련사항</a></li><details id="dir--741032455" class="w3-small file-list" title="카테고리/Programming/Java/3rd" open=""><summary>/3rd</summary><ul><li><a href="/posts/java/apache.commons.collections.html">Apache Commons Collections 4.4</a></li><li><a href="/posts/java/apache.commons.lang.html">Apache Commons Lang 3.9</a></li><li><a href="/posts/java/apache.commons.math.html">Apache Commons Math 3.6.1</a></li><li><a href="/posts/java/apache.commons.rng.html">Apache Commons RNG Core 1.2</a></li><li><a href="/posts/java/gson.html">Gson 2.8.6</a></li><li><a href="/posts/java/guava.html">Guava 23.0</a></li><li><a href="/posts/java/jackson.html">Jackson 2.10.1</a></li><li><a href="/posts/java/logback.html">Logback with SLF4J</a></li><li><a href="/posts/java/lombok.html">lombok 1.18.10</a></li></ul></details><details id="dir-76588809" class="w3-small file-list" title="카테고리/Programming/Java/Standard" open=""><summary>/Standard</summary><ul><li><a href="/posts/java/javax.annotation.processing.html">Annotation Processing API</a></li><li><a href="/posts/java/com.sun.nio.sctp.html">com.sun.nio.sctp Since 1.7</a></li><li><a href="/posts/java/java.base.html">java.base 12</a></li></ul></details></ul></details><details id="dir-1907368718" class="w3-small file-list" title="카테고리/Programming/JavaScript" open=""><summary>/JavaScript</summary><ul><li><a href="/posts/javascript/basic2.html">브라우저 JavaScript</a></li><li><a href="/posts/javascript/basic.html">코어 JavaScript</a></li><li><a href="/posts/javascript/jquery.html">jQuery</a></li><li><a href="/posts/javascript/node.html">Node</a></li></ul></details><details id="dir--1366657315" class="w3-small file-list" title="카테고리/Programming/Python" open=""><summary>/Python</summary><ul><li><a href="/posts/python/pandas.html">3rd/pandas : 데이터 처리</a></li><li><a href="/posts/python/standard.html">표준 라이브러리</a></li><li><a href="/posts/python/data_model.html">Python 3.8 데이터 모델</a></li><li><a href="/posts/python/basic.html">Python 3.8 시작하기</a></li><li><a href="/posts/python/built_in_constant.html">Python Built-in Constants 3.8</a></li><li><a href="/posts/python/built_in_exception.html">Python Built-in Exceptions 3.8</a></li><li><a href="/posts/python/built_in_function.html">Python Built-in Functions 3.8</a></li><li><a href="/posts/python/built_in_type.html">Python Built-in Types 3.8</a></li><li><a href="/posts/python/persistence.html">Python Data Persistence</a></li></ul></details></ul></details><details id="dir--419676146" class="w3-small file-list" title="카테고리/Project" open=""><summary>/Project</summary><ul><li><a href="/posts/project/tip.html">잡다한 팁</a></li><li><a href="/posts/project/wpf_data_tool.html">C#.NET, WPF - 데이터 작업 툴</a></li><li><a href="/posts/project/snippets.html">Code Snippets</a></li><li><a href="/posts/project/error.html">Exceptions + Errors</a></li></ul></details></ul></details></div><hr><div class="w3-center"><ins style="display:none;" data-ad-unit="DAN-1k1r635zxb6g3" data-ad-width="300" data-ad-height="250" class="kakao_ad_area"></ins></div><hr><div id="file-list"></div><hr></div><div id="main"><div id="nav" style="position:-webkit-sticky;position:sticky;top:0px;vertical-align:middle" class="w3-bar w3-blue w3-large"><button onclick="toggleSidebar()" class="w3-bar-item w3-button w3-hover-theme">&#9776;</button><input id="query" type="text" placeholder="search" class="w3-bar-item"></div><div id="contents" class="w3-padding"><h1 class="marker">주의사항</h1><ol><li>CentOS-7-x86_64-Minimal-1810을 VMware에 설치하여 실습한 내용을 정리한 것임</li><li>따라서 별도 표시가 없는 한, 아래 각 컨텐츠는 CentOS 7 버전에 해당하는 내용임</li><a class="w3-btn w3-round w3-round-xxlarge w3-small w3-green" href="https://centoshelp.org/resources/commands/linux-system-commands/" target="_blank">참고자료</a></ol><h1 class="marker">부팅 과정</h1><ol><li>BIOS 실행</li><li>POST 수행 : 장치 검사, 초기화</li><li>부트로더 실행 : 커널 로드. BIOS 종료</li><p>GRUB : GNU 프로젝트의 부트로더. 대부분 운영 체제의 커널을 불러올 수 있다</p><li>init 프로세스 실행 : /etc/inittab</li><p>systemd가 사용되는 경우, inittab은 사용되지 않는다</p><li>init 프로세스 중에 /etc/rc.d/rc.local 스크립트를 실행한다</li><p>해당 파일은 호환을 위해 아직 남아있지만, 사용자 정의 systemd 서비스나 udev 규칙을 만드는 것이 권장된다</p></ol><h1 class="marker">shutdown : 시스템 종료</h1><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ shutdown [OPTIONS...] time [warning-message]</div><ol><li>-H : 시스템 종료</li><li>-P : 시스템 종료 + 전원 차단(하드웨어 지원 필요)</li><li>-r : 재부팅</li><li>-c : 대기중인 shutdown 취소</li><li>time : now | +<i>number</i> | yymmddhhmm</li><p>+number 단위(기본: 분)를 지정하려면 접미사 "s", "sec", "m", "min", "h", "hour" 이용</p><li>warning-message : 로그인한 유저들에게 보낼 브로드캐스팅 메시지</li></ol><h1 class="marker">init : 일시적인 runlevel 변경</h1><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ init runlevel</div><ol><li>runlevel : 0(종료), 6(재부팅), 1(복구), 2(multiuser without NFS), 3(multiuser; TUI), 5(X11; GUI)</li><li>시스템 기본 runlevel 확인</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ systemctl get-default</div></ol><h1 class="marker">사용자 관리</h1><ol><li>useradd : 사용자 추가</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ useradd [options] USER_NAME</div><p>-d(HOME_DIR), -g(group id or name), -p(password), -D(기본값 출력/설정), 등...</p><li>passwd : 비밀번호 설정</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ passwd [options] USER_NAME</div><p>-d(삭제), -l(잠금), -u(잠금 해제), -e(강제 만료)</p><li>usermod : 사용자 수정</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ usermod [options] USER_NAME</div><p>-d(HOME_DIR), -m(HOME_DIR 변경 시 파일 이동), -L(잠금), -p(password), 등...</p><li>userdel : 사용자 삭제</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ userdel [options] USER_NAME</div><li>groupadd : 사용자 그룹 추가</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ groupadd [options] GROUP_NAME</div><p>-g(수동 GID), -p(password)</p><li>groupdel : 사용자 그룹 삭제</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ groupdel [options] GROUP_NAME</div><li>su : 다른 사용자 권한 사용</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ su [options] [-] [USER_NAME [arg]...]</div><p>다른 사용자의 권한으로 쉘을 실행한다. USER_NAME이 없으면 root로 간주한다. 단순히 '-'만 있으면 '-l'과 동일하다.</p><li>사용자 목록 : /etc/passwd</li><div lan="text" class="as-code code-div w3-leftbar w3-border-green">ID:Password(x):UID:GID:Comment:HOME_DIR:SHELL
root:x:0:0:root:/root:/bin/bash
dgkim:x:1000:1000:dgkim:/home/dgkim:/bin/bash</div><li>비밀번호 목록 : /etc/shadow</li><p>!!는 비밀번호가 설정되지 않았음을 의미</p><li>사용자의 홈디렉터리는 /etc/skel의 파일을 /home/${USER_NAME}에 복사하여 만들어진다</li></ol><h1 class="marker">파일 시스템</h1><ol><li>디렉터리 구조</li><table><tr><th>path</th><th>목적</th></tr><tr><td>/bin</td><td>명령어</td></tr><tr><td>/dev</td><td>장치 파일</td></tr><tr><td>/etc</td><td>환경설정</td></tr><tr><td>/lib</td><td>라이브러리, 커널 모듈</td></tr><tr><td>/media</td><td>이동식 디스크</td></tr><tr><td>/usr</td><td>응용프로그램</td></tr><tr><td>/var</td><td>자주 변경</td></tr></table><li>I-node</li><p>파일의 이름을 제외한 모든 정보. ID는 각 파일에 고유하게 부여된다</p><li>pwd : 작업 디렉터리 절대경로 출력. Print working directory</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ pwd</div><li>cd : 작업 디렉터리 변경</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ cd            # 자신의 HOME_DIR로
$ cd DIR        # 지정 디렉터리로
$ cd ~USER_NAME # 유저 HOME_DIR로
</div><li>ls : 파일 목록 출력</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ ls [options] [paths]</div><ul><li>options</li><p>-a(.로 시작하는 경로 포함), -c(with -lt: 시간순, with -l: 이름순), -X(확장자순), -S(크기순), -r(역정렬), -l(자세히), 등...</p><li>출력 예</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">d rwx r-x r-x # 디렉터리, 소유자 권한, 그룹 권한, 기타 사용자 권한 755(read, write, execute)
- rw- r-- r-- # 파일, (상동) 644
l r-- r-- r-- # 링크, (상동) 444
</div></ul><li>mkdir : 디렉터리 생성</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ mkdir [options] [directories]</div><p>-m(권한, 기본 755), -p(경로상의 모든 디렉터리 생성)</p><li>rm : 파일 삭제</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ rm [options] [paths]</div><ul><li>options</li><p>-f(파일이 없으면 무시), -i(각 파일 삭제 확인), -r(재귀 실행), 등...</p><li>예. my_dir 디렉터리 및 내부 파일 모두 삭제</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ rm -rf ./my_dir</div></ul><li>touch : 파일 시각 변경</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ touch [options] [files]</div><p>각 파일에 대해 시간 정보를 현재 시각으로 변경한다. 파일이 없으면 생성한다(크기 0).</p><li>chmod : 파일 권한 제한 변경</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ chmod [options] 8진수 [paths]</div><p>-R : 재귀 실행 // + chown(파일 소유자 및 그룹 변경), chgrp(사용자 그룹 변경)</p><li>cp : 파일 복사</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ cp [options] source dest_path
$ cp [options] [sources] [target_directory]</div><p>-a(파일 속성 유지), -b(목적지에 이미 있으면 백업하고 복사), -r(재귀 실행), -s(심볼릭 링크 생성), 등...</p><li>mv : cp + 원본 삭제</li><li>cat : 파일 텍스트 출력</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ cat [options] [files]</div><p>-n(줄 번호), -E(줄 끝에 $), -s(반복적인 빈 라인 생략), -T(탭을 ^T로 표기)</p><li>find</li><p>파일명 표현에 와일드카드 *, ?가 허용된다. 표현식 앞에 !이나 -not을 붙일 수 있다. 표현식들 사이를 -and, -or로 엮을 수 있다.</p><li>grep : 텍스트 검색</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ grep [options] pattern [files]</div><p>-E(ERE), -G(BRE), -P(Perl Regexp), -e(정규표현식), -i(ignore case), -w(패턴에 단어 전체가 매칭되는 경우만), -x(패턴에 줄 전체가 매칭되는 경우만), -m(최대 출력 개수), -n(줄 번호 같이 출력), -o(매칭된 부분만 출력), -l(매칭된 파일들의 이름만 출력), -L(매칭되지 않는 파일들의 이름만 출력), -A(매칭 후 n개 라인도 출력), -B(매칭 전 n개 라인도 출력) 등...</p><li>| : 파이프라인</li><p>프로세스들의 출력과 입력을 잇는 파이프라인을 구성한다.</p><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ history | grep psql</div><li>리다이렉션</li><p>> : 파일이 없다면 생성하고, 있다면 덮어쓴다<br>>> : 파일이 없다면 생성하고, 있다면 append<br>&lt; : 파일로부터 표준 입력을 받는다</p><li>tar : 압축</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ tar [options] file       # 압축해제
$ tar [options] file paths # 압축</div><p>Main Operation : -A(append), -r(append), -c(create), -d(파일 시스템과의 차분 출력), -t(목록 출력), -u(update), -x(압축해제)<br>포맷 : --bzip2, --xz, --lzip, --lzma, --gzip<br>-h(링크 자체 대신, 링크가 가리키는 파일을 압축한다)</p></ol><h1 class="marker">서비스 관리</h1><table><tr><th>구분</th><th>init</th><th>systemd</th></tr><tr><td>시작</td><td>/etc/init.d/${service} start</td><td>systemctl start ${service}</td></tr><tr><td>종료</td><td>/etc/init.d/${service} stop</td><td>systemctl stop ${service}</td></tr><tr><td>재시작</td><td>/etc/init.d/${service} restart</td><td>systemctl restart ${service}</td></tr><tr><td>상태</td><td>/etc/init.d/${service} status</td><td>systemctl status ${service}</td></tr><tr><td>자동 시작 O</td><td>chkconfig ${service} on</td><td>systemctl enable ${service}</td></tr><tr><td>자동 시작 X</td><td>chkconfig ${service} off</td><td>systemctl disable ${service}</td></tr><tr><td>자동 시작 상태</td><td>chkconfig --list ${service}</td><td>systemctl is-enabled ${service}</td></tr><tr><td>서비스 목록</td><td>ls /etc/init.d</td><td>systemctl --type service</td></tr></table><h1 class="marker">패키지 관리</h1><ol><li>RPM : Redhat Package Manager</li><p>{package_name}-{version}-{release}.{architecture}.rpm</p><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ rpm [options]</div><p>-a(전체 패키지 검증), -i(install), -U(설치 또는 upgrade), -F(기존 패키지 upgrade), -v(verbose), -h(진행과정을 #로), -e(erase), -qa(설치된 패키지 목록), -qi(패키지 상세 정보) 등...</p><li>yum</li><p>인터넷 저장소로부터 패키지를 다운로드하여 설치. 의존 패키지까지 자동 설치한다.<br>Commands : clean(캐시 삭제), check-update, downgrade, erase, info, install, list, reinstall, search, update, version, 등...</p></ol><h1 class="marker">EPEL(Extra Packages for Enterprise Linux) 허용</h1><ol><li>서드 파티 패키지를 설치하려면 EPEL을 허용해야 한다</li><li>RHEL 6.x / CentOS 6.x</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-6.noarch.rpm</div><li>RHEL 7.x / CentOS 7.x</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</div><p>또는</p><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ yum install epel-release.noarch</div></ol><h1 class="marker">시간 관련</h1><ol><li>date : 시각 출력/변경</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ date                # 현재 시각 출력
$ date "+%Y-%m-%d %T" # 포맷 지정

$ date -s time_string # 시각 변경
$ date -s "2019-01-01 12:34:56"
</div><li><a class="w3-btn w3-round w3-round-xxlarge w3-small w3-green" href="https://nxmnpg.lemoda.net/8/ntpdate" target="_blank">ntpdate</a> : 시각 동기화</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ ntpdate server    # 동기화
$ ntpdate -d server # 오차 출력</div><p>NTP : Network Time Protocol. 시간 동기화를 위한 프로토콜.</p><a class="w3-btn w3-round w3-round-xxlarge w3-small w3-green" href="https://zetawiki.com/wiki/공용_NTP_서버_목록" target="_blank">공용_NTP_서버_목록</a></ol><h1 class="marker">crond : 작업 예약</h1><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ systemctl status crond # 상태 확인
$ crontab -l             # 작업 목록 출력
    # -e : edit
    # -u : 사용자 지정</div><p>유저가 아닌 시스템 단위의 작업은 /etc/crontab 직접 수정</p><h1 class="marker">프로세스 관련</h1><ol><li>ps : 프로세스 출력. Process Snapshot</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ ps -ef # -e(전체 프로세스), -f(full-format)</div><li>kill : 프로세스 종료</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ kill -9 pid # -9(강제종료)</div><li>top : 실행 중인 작업 보기.</li><li>백그라운드 작업</li><ul><li>Ctrl + Z : 현재 프로세스를 백그라운드로 전환하고 suspend</li><li>bg : 백그라운드 job으로 계속 실행 ↔ fg</li><li>jobs : 백그라운드 job 리스트</li><p>명령행 끝에 &를 붙이면 즉시 백그라운드 job으로 실행시킬 수 있다<br>현재 터미널 세션이 종료해도 n번 백그라운드 job을 계속하게 하려는 경우 : disown -h %n</p></ul></ol><h1 class="marker">메모리 관련</h1><ol><li>vmstat : Report virtual memory statistics</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ vmstat 1 # 1초마다 출력</div><li>free : Display amount of free and used memory in the system.</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ free -m -w -h -s 1
    # -m : 메가바이트 단위
    # -w : wide output
    # -h : human-readable output
    # -s 1 : 1초마다
</div></ol><h1 class="marker">환경변수</h1><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ printenv [VAR_NAMES]
$ echo $VAR_NAME
$ export VAR_NAME[=value]
</div><h1 class="marker">쉘 스크립트</h1><ol><button class="w3-btn w3-round w3-round-xxlarge w3-small w3-teal btn-code" title="/Repositories/sh/0_basic.sh" lan="bash">예시 코드 »</button><button class="w3-btn w3-round w3-round-xxlarge w3-small w3-teal btn-code" title="/Repositories/sh/0_basic.txt" lan="text">실행 결과 »</button><li>특별 전역 변수</li><p>$?(마지막 명령 리턴값), $>(프로세스의 사용자 ID), $0(현재 Perl 스크립트 이름), 등...</p></ol><h1 class="marker">FTP Server : vsftpd</h1><ol><li>설치</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ yum install vsftpd</div><li>설정 : /etc/vsftpd/vsftpd.conf</li><div lan="ini" class="as-code code-div w3-leftbar w3-border-green">anonymous_enable=NO # 익명 차단
listen_ipv6=NO # IPv4 사용
</div><li>방화벽 허용</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ firewall-cmd --permanent --add-service=ftp
$ firewall-cmd --permanent --add-port=21/tcp
$ firewall-cmd --reload
# ↓ 잘 됐는지 확인
$ firewall-cmd --zone=public --list-all
</div><li>SELinux 관련 정책 확인</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ getsebool -a | grep ftp
$ setsebool ftp_home_dir on # 필요한 권한은 허용
</div><li>시스템 시작</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ systemctl enable vsftpd
$ systemctl restart vsftpd</div></ol><ul><li>root 로그인 허용</li><p>/etc/vsftpd/ftpusers, /etc/vsftpd/user_list에서 root 제거</p><li>사용자 홈 디렉터리 외부 접근 허용</li><p>/etc/vsftpd/chroot_list : chroot_list_enable=YES</p><li>Active Mode 사용 : 20포트</li><p>/etc/vsftpd/vsftpd.conf : pasv_enable=NO</p><li>Passive Mode 사용</li><ol><li>/etc/vsftpd/vsftpd.conf</li><div lan="ini" class="as-code code-div w3-leftbar w3-border-green">connect_from_port_20=NO
pasv_enable=YES
pasv_min_port=50000
pasv_max_port=50010</div><li>방화벽에서 [pasv_min_port,pasv_max_port]/tcp 허용</li></ol></ul><h1 class="marker">SELinux</h1><ol><li>SELinux 모드 : enforce, permissive, disable</li><p>setenforce 1 # enforce로 임시 변경<br>setenforce 0 # permissive로 임시 변경<br>getenforce # 모드 확인</p><li>부팅시 사용되는 기본 모드는 /etc/selinux/config에 정의돼있다</li><li>SELinux 로그 위치 : /var/log/audit/audit.log</li><li>SELinux 로그 분석 유티릴티 : setroubleshoot</li><div lan="shell" class="as-code code-div w3-leftbar w3-border-green">$ yum install setroubleshoot
$ sealert -a /var/log/audit/audit.log</div></ol></div><hr>&copy; 2020. <a href="mailto:hi.donggi@gmail.com">Donggi Kim</a> all rights reserved.<a class="w3-btn w3-round w3-round-xxlarge w3-small w3-green" href="/LICENSE" target="_blank">LICENSE</a></div></body></html>