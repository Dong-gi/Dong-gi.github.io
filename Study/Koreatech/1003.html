<pre style="background:#0c1021;color:#f8f8f8"><span style="color:#fbde2d">import</span> <span style="color:#fbde2d">java.util.ArrayList</span>;
<span style="color:#fbde2d">import</span> <span style="color:#fbde2d">java.util.Arrays</span>;
<span style="color:#fbde2d">import</span> <span style="color:#fbde2d">java.util.Comparator</span>;
<span style="color:#fbde2d">import</span> <span style="color:#fbde2d">java.util.HashSet</span>;
<span style="color:#fbde2d">import</span> <span style="color:#fbde2d">java.util.Scanner</span>;

<span style="color:#fbde2d">public</span> <span style="color:#fbde2d">class</span> <span style="color:#ff6400">Main</span> {

    <span style="color:#fbde2d">private</span> <span style="color:#fbde2d">static</span> <span style="color:#fbde2d">HashSet&lt;<span style="color:#fbde2d">Integer</span>></span> one <span style="color:#fbde2d">=</span> <span style="color:#fbde2d">new</span> <span style="color:#fbde2d">HashSet&lt;></span>();
    <span style="color:#fbde2d">private</span> <span style="color:#fbde2d">static</span> <span style="color:#fbde2d">HashSet&lt;<span style="color:#fbde2d">Integer</span>></span> two <span style="color:#fbde2d">=</span> <span style="color:#fbde2d">new</span> <span style="color:#fbde2d">HashSet&lt;></span>();
    <span style="color:#fbde2d">private</span> <span style="color:#fbde2d">static</span> <span style="color:#fbde2d">HashSet&lt;<span style="color:#fbde2d">Integer</span>></span> three <span style="color:#fbde2d">=</span> <span style="color:#fbde2d">new</span> <span style="color:#fbde2d">HashSet&lt;></span>();
    <span style="color:#fbde2d">private</span> <span style="color:#fbde2d">static</span> <span style="color:#fbde2d">ArrayList&lt;<span style="color:#fbde2d">Integer</span>></span> numbers <span style="color:#fbde2d">=</span> <span style="color:#fbde2d">new</span> <span style="color:#fbde2d">ArrayList&lt;></span>();

    <span style="color:#fbde2d">public</span> <span style="color:#fbde2d">static</span> <span style="color:#fbde2d">void</span> <span style="color:#ff6400">main</span>(<span style="color:#fbde2d">String</span>[] args) {
        <span style="color:#fbde2d">Scanner</span> scanner <span style="color:#fbde2d">=</span> <span style="color:#fbde2d">new</span> <span style="color:#fbde2d">Scanner</span>(<span style="color:#fbde2d">System</span><span style="color:#fbde2d">.</span>in);
        <span style="color:#fbde2d">int</span> numberCount <span style="color:#fbde2d">=</span> scanner<span style="color:#fbde2d">.</span>nextInt();
        <span style="color:#fbde2d">while</span>(numberCount<span style="color:#fbde2d">--</span> <span style="color:#fbde2d">></span> <span style="color:#d8fa3c">0</span>) {
            <span style="color:#fbde2d">int</span> current <span style="color:#fbde2d">=</span> scanner<span style="color:#fbde2d">.</span>nextInt();
            <span style="color:#fbde2d">if</span>(<span style="color:#fbde2d">!</span>one<span style="color:#fbde2d">.</span>add(current)) {
                <span style="color:#fbde2d">if</span>(<span style="color:#fbde2d">!</span>two<span style="color:#fbde2d">.</span>add(current)) {
                    three<span style="color:#fbde2d">.</span>add(current);
                }
            }
            numbers<span style="color:#fbde2d">.</span>add(current);
        }

        <span style="color:#fbde2d">int</span> firstLimit <span style="color:#fbde2d">=</span> numbers<span style="color:#fbde2d">.</span>size() <span style="color:#fbde2d">-</span> <span style="color:#d8fa3c">2</span>; <span style="color:#aeaeae">// {>0&lt;, 0, 0}</span>
        <span style="color:#fbde2d">int</span> secondLimit <span style="color:#fbde2d">=</span> numbers<span style="color:#fbde2d">.</span>size() <span style="color:#fbde2d">-</span> <span style="color:#d8fa3c">1</span>; <span style="color:#aeaeae">// {0, >0&lt;, 0}</span>
        <span style="color:#fbde2d">int</span> count <span style="color:#fbde2d">=</span> <span style="color:#d8fa3c">0</span>;
        <span style="color:#fbde2d">for</span>(<span style="color:#fbde2d">int</span> i <span style="color:#fbde2d">=</span> <span style="color:#d8fa3c">0</span>; i <span style="color:#fbde2d">&lt;</span> firstLimit; i<span style="color:#fbde2d">++</span>) {
            <span style="color:#fbde2d">int</span> small <span style="color:#fbde2d">=</span> numbers<span style="color:#fbde2d">.</span>get(i);
            <span style="color:#fbde2d">if</span>(small <span style="color:#fbde2d">></span> <span style="color:#d8fa3c">0</span>) {
                <span style="color:#fbde2d">break</span>;
            }

            <span style="color:#fbde2d">for</span>(<span style="color:#fbde2d">int</span> j <span style="color:#fbde2d">=</span> i<span style="color:#fbde2d">+</span><span style="color:#d8fa3c">1</span>; j <span style="color:#fbde2d">&lt;</span> secondLimit; j<span style="color:#fbde2d">++</span>) {
                <span style="color:#fbde2d">int</span> center <span style="color:#fbde2d">=</span> numbers<span style="color:#fbde2d">.</span>get(j);
                <span style="color:#fbde2d">int</span> big <span style="color:#fbde2d">=</span> <span style="color:#fbde2d">-</span>(small <span style="color:#fbde2d">+</span> center);

                <span style="color:#fbde2d">if</span>(big <span style="color:#fbde2d">>=</span> center) {
                    <span style="color:#aeaeae">//System.out.printf("test : %d, %d, %d \n", small, center, big);</span>
                    <span style="color:#fbde2d">boolean</span> result <span style="color:#fbde2d">=</span> (small <span style="color:#fbde2d">==</span> center)<span style="color:#fbde2d">?</span>
                            ((center <span style="color:#fbde2d">==</span> big)<span style="color:#fbde2d">?</span> three<span style="color:#fbde2d">.</span>contains(big) <span style="color:#fbde2d">:</span> one<span style="color:#fbde2d">.</span>contains(big)) <span style="color:#fbde2d">:</span>
                                ((center <span style="color:#fbde2d">==</span> big)<span style="color:#fbde2d">?</span> two<span style="color:#fbde2d">.</span>contains(big) <span style="color:#fbde2d">:</span> one<span style="color:#fbde2d">.</span>contains(big));
                    <span style="color:#fbde2d">if</span>(result) {
                        <span style="color:#aeaeae">//System.out.printf("find : %d, %d, %d \n", small, center, big);</span>
                        count<span style="color:#fbde2d">++</span>;
                    }
                }
                <span style="color:#fbde2d">try</span> {
                    <span style="color:#fbde2d">while</span>(numbers<span style="color:#fbde2d">.</span>get(j<span style="color:#fbde2d">+</span><span style="color:#d8fa3c">1</span>) <span style="color:#fbde2d">==</span> center) {
                        j<span style="color:#fbde2d">++</span>;
                    }
                } <span style="color:#fbde2d">catch</span>(<span style="color:#fbde2d">Exception</span> e) {}

            }

            <span style="color:#fbde2d">try</span> {
                <span style="color:#fbde2d">while</span>(numbers<span style="color:#fbde2d">.</span>get(i<span style="color:#fbde2d">+</span><span style="color:#d8fa3c">1</span>) <span style="color:#fbde2d">==</span> small) {
                    i<span style="color:#fbde2d">++</span>;
                }
            } <span style="color:#fbde2d">catch</span>(<span style="color:#fbde2d">Exception</span> e) {}
        }
        
        <span style="color:#fbde2d">System</span><span style="color:#fbde2d">.</span>out<span style="color:#fbde2d">.</span>println(count);
    }

}
</pre>