<pre style="background:#0c1021;color:#f8f8f8"><span style="color:#fbde2d">import</span> <span style="color:#fbde2d">java.util.*</span>;

<span style="color:#fbde2d">public</span> <span style="color:#fbde2d">class</span> <span style="color:#ff6400">Main</span> {

    <span style="color:#fbde2d">public</span> <span style="color:#fbde2d">static</span> <span style="color:#fbde2d">void</span> <span style="color:#ff6400">main</span>(<span style="color:#fbde2d">String</span>[] args) {
        <span style="color:#fbde2d">Scanner</span> scanner <span style="color:#fbde2d">=</span> <span style="color:#fbde2d">new</span> <span style="color:#fbde2d">Scanner</span>(<span style="color:#fbde2d">System</span><span style="color:#fbde2d">.</span>in);
        <span style="color:#fbde2d">int</span> testCase <span style="color:#fbde2d">=</span> scanner<span style="color:#fbde2d">.</span>nextInt();
        <span style="color:#fbde2d">while</span>(testCase<span style="color:#fbde2d">--</span> <span style="color:#fbde2d">></span> <span style="color:#d8fa3c">0</span>) {
            <span style="color:#fbde2d">int</span> moneyCount <span style="color:#fbde2d">=</span> scanner<span style="color:#fbde2d">.</span>nextInt();
            <span style="color:#fbde2d">int</span>[] money <span style="color:#fbde2d">=</span> <span style="color:#fbde2d">new</span> <span style="color:#fbde2d">int</span>[moneyCount<span style="color:#fbde2d">+</span>(<span style="color:#d8fa3c">3</span><span style="color:#fbde2d">-</span>moneyCount<span style="color:#fbde2d">%</span><span style="color:#d8fa3c">3</span>)<span style="color:#fbde2d">%</span><span style="color:#d8fa3c">3</span>];
            <span style="color:#fbde2d">for</span>(<span style="color:#fbde2d">int</span> i <span style="color:#fbde2d">=</span> <span style="color:#d8fa3c">0</span>; i <span style="color:#fbde2d">&lt;</span> moneyCount; <span style="color:#fbde2d">++</span>i) {
                money[i] <span style="color:#fbde2d">=</span> scanner<span style="color:#fbde2d">.</span>nextInt();
            }
            <span style="color:#fbde2d">int</span> cycle <span style="color:#fbde2d">=</span> money<span style="color:#fbde2d">.</span>length<span style="color:#fbde2d">/</span><span style="color:#d8fa3c">3</span>;
            <span style="color:#fbde2d">int</span>[][] sum <span style="color:#fbde2d">=</span> <span style="color:#fbde2d">new</span> <span style="color:#fbde2d">int</span>[cycle<span style="color:#fbde2d">+</span><span style="color:#d8fa3c">1</span>][<span style="color:#d8fa3c">3</span>];
            <span style="color:#fbde2d">for</span>(<span style="color:#fbde2d">int</span> i <span style="color:#fbde2d">=</span> <span style="color:#d8fa3c">1</span>; i <span style="color:#fbde2d">&lt;=</span> cycle; <span style="color:#fbde2d">++</span>i) {
                sum[i][<span style="color:#d8fa3c">0</span>] <span style="color:#fbde2d">=</span> max(sum[i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">1</span>][<span style="color:#d8fa3c">0</span>], sum[i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">1</span>][<span style="color:#d8fa3c">1</span>], sum[i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">1</span>][<span style="color:#d8fa3c">2</span>]) <span style="color:#fbde2d">+</span> money[<span style="color:#d8fa3c">3</span><span style="color:#fbde2d">*</span>i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">2</span>] <span style="color:#fbde2d">+</span> money[<span style="color:#d8fa3c">3</span><span style="color:#fbde2d">*</span>i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">1</span>];
                sum[i][<span style="color:#d8fa3c">1</span>] <span style="color:#fbde2d">=</span> max(sum[i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">1</span>][<span style="color:#d8fa3c">0</span>], sum[i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">1</span>][<span style="color:#d8fa3c">1</span>] <span style="color:#fbde2d">+</span> money[<span style="color:#d8fa3c">3</span><span style="color:#fbde2d">*</span>i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">3</span>], sum[i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">1</span>][<span style="color:#d8fa3c">2</span>] <span style="color:#fbde2d">+</span> money[<span style="color:#d8fa3c">3</span><span style="color:#fbde2d">*</span>i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">3</span>]) <span style="color:#fbde2d">+</span> money[<span style="color:#d8fa3c">3</span><span style="color:#fbde2d">*</span>i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">1</span>];
                sum[i][<span style="color:#d8fa3c">2</span>] <span style="color:#fbde2d">=</span> max(sum[i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">1</span>][<span style="color:#d8fa3c">0</span>] <span style="color:#fbde2d">+</span> money[<span style="color:#d8fa3c">3</span><span style="color:#fbde2d">*</span>i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">2</span>], sum[i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">1</span>][<span style="color:#d8fa3c">1</span>] <span style="color:#fbde2d">+</span> max(money[<span style="color:#d8fa3c">3</span><span style="color:#fbde2d">*</span>i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">3</span>], money[<span style="color:#d8fa3c">3</span><span style="color:#fbde2d">*</span>i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">2</span>]), sum[i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">1</span>][<span style="color:#d8fa3c">2</span>] <span style="color:#fbde2d">+</span> money[<span style="color:#d8fa3c">3</span><span style="color:#fbde2d">*</span>i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">3</span>] <span style="color:#fbde2d">+</span> money[<span style="color:#d8fa3c">3</span><span style="color:#fbde2d">*</span>i<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">2</span>]);
            }
            <span style="color:#fbde2d">System</span><span style="color:#fbde2d">.</span>out<span style="color:#fbde2d">.</span>println(max(sum[cycle][<span style="color:#d8fa3c">0</span>], sum[cycle][<span style="color:#d8fa3c">1</span>], sum[cycle][<span style="color:#d8fa3c">2</span>]));
        }
    }
    
    <span style="color:#fbde2d">private</span> <span style="color:#fbde2d">static</span> <span style="color:#fbde2d">int</span> <span style="color:#ff6400">max</span>(<span style="color:#fbde2d">int</span>... nums) {
        <span style="color:#fbde2d">Arrays</span><span style="color:#fbde2d">.</span>sort(nums);
        <span style="color:#fbde2d">return</span> nums[nums<span style="color:#fbde2d">.</span>length<span style="color:#fbde2d">-</span><span style="color:#d8fa3c">1</span>];
    }

}
</pre>